"use strict";
/*! jQuery UI - v1.10.4 - 2016-04-25
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
* @Copyright jQuery Foundation and other contributors; @License: Licensed MIT */
/*! jQuery UI - v1.10.4 - 2016-04-25
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
* @Copyright jQuery Foundation and other contributors; @License: Licensed MIT */
!function(e,t){var i=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:(o=e.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):o.apply(this,arguments)}),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}});var o;function r(t,i){var n,o,r,s=t.nodeName.toLowerCase();return"area"===s?(o=(n=t.parentNode).name,!(!t.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(r=e("img[usemap=#"+o+"]")[0])&&a(r))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&r(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,i,o,r){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,o&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(o,a(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(o,a(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(s=e.fn.removeData,function(t){return arguments.length?s.call(this,e.camelCase(t)):s.call(this)}));var s;e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i){var n,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0||(t[n]=1,o=t[n]>0,t[n]=0,o)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(e){}o(t)},e.widget=function(t,i,n){var o,r,a,s,l={},c=t.split(".")[0];t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(n,function(t,n){e.isFunction(n)?l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}():l[t]=n}),a.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(t){for(var i,o,r=n.call(arguments,1),a=0,s=r.length;a<s;a++)for(i in r[a])o=r[a][i],r[a].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return r=!a&&s.length?e.widget.extend.apply(null,[r].concat(s)):r,a?this.each(function(){var i,n=e.data(this,o);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new i(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(n=t.split(".")).shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,s):i.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,r,a=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?i:o.effect||i:t;"number"==typeof(o=o||{})&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[s]?n[t](o):s!==t&&n[s]?n[s](o.duration,o.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}})}(jQuery),function(e,t){e.ui=e.ui||{};var i,n=Math.max,o=Math.abs,r=Math.round,a=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=e.fn.position;function p(e,t,i){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?i/100:1)]}function h(t,i){return parseInt(e.css(t,i),10)||0}e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),t=r.offsetWidth,o.css("overflow","scroll"),t===(n=r.offsetWidth)&&(n=o[0].clientWidth),o.remove(),i=t-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,isDocument:!!i[0]&&9===i[0].nodeType,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var i,u,f,m,g,v,y=e(t.of),b=e.position.getWithinInfo(t.within),S=e.position.getScrollInfo(b),w=(t.collision||"flip").split(" "),E={};return v=function(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(t.at="left top"),u=v.width,f=v.height,m=v.offset,g=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=l.exec(n[0]),i=l.exec(n[1]),E[this]=[e?e[0]:0,i?i[0]:0],t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=u:"center"===t.at[0]&&(g.left+=u/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),i=p(E.at,u,f),g.left+=i[0],g.top+=i[1],this.each(function(){var a,s,l=e(this),c=l.outerWidth(),d=l.outerHeight(),v=h(this,"marginLeft"),_=h(this,"marginTop"),C=c+v+h(this,"marginRight")+S.width,T=d+_+h(this,"marginBottom")+S.height,x=e.extend({},g),A=p(E.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?x.left-=c:"center"===t.my[0]&&(x.left-=c/2),"bottom"===t.my[1]?x.top-=d:"center"===t.my[1]&&(x.top-=d/2),x.left+=A[0],x.top+=A[1],e.support.offsetFractions||(x.left=r(x.left),x.top=r(x.top)),a={marginLeft:v,marginTop:_},e.each(["left","top"],function(n,o){e.ui.position[w[n]]&&e.ui.position[w[n]][o](x,{targetWidth:u,targetHeight:f,elemWidth:c,elemHeight:d,collisionPosition:a,collisionWidth:C,collisionHeight:T,offset:[i[0]+A[0],i[1]+A[1]],my:t.my,at:t.at,within:b,elem:l})}),t.using&&(s=function(e){var i=m.left-x.left,r=i+u-c,a=m.top-x.top,s=a+f-d,p={target:{element:y,left:m.left,top:m.top,width:u,height:f},element:{element:l,left:x.left,top:x.top,width:c,height:d},horizontal:r<0?"left":i>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};u<c&&o(i+r)<u&&(p.horizontal="center"),f<d&&o(a+s)<f&&(p.vertical="middle"),n(o(i),o(r))>n(o(a),o(s))?p.important="horizontal":p.important="vertical",t.using.call(this,e,p)}),l.offset(e.extend(x,{using:s}))})},e.ui.position={fit:{left:function(e,t){var i,o=t.within,r=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&c<=0?(i=e.left+l+t.collisionWidth-a-r,e.left+=l-i):e.left=c>0&&l<=0?r:l>c?r+a-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=n(e.left-s,e.left)},top:function(e,t){var i,o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&c<=0?(i=e.top+l+t.collisionHeight-a-r,e.top+=l-i):e.top=c>0&&l<=0?r:l>c?r+a-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((i=e.left+p+h+f+t.collisionWidth-s-a)<0||i<o(u))&&(e.left+=p+h+f):d>0&&((n=e.left-t.collisionPosition.marginLeft+p+h+f-l)>0||o(n)<d)&&(e.left+=p+h+f)},top:function(e,t){var i,n,r=t.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];u<0?(n=e.top+p+h+f+t.collisionHeight-s-a,e.top+p+h+f>u&&(n<0||n<o(u))&&(e.top+=p+h+f)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+h+f-l,e.top+p+h+f>d&&(i>0||o(i)<d)&&(e.top+=p+h+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,r,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)t.style[r]=n[r];t.appendChild(s),(i=a||document.documentElement).insertBefore(t,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",o=e(s).offset().left,e.support.offsetFractions=o>10&&o<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,a="input"===o;this.isMultiLine=!!r||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case r.UP:t=!0,this._keyEvent("previous",o);break;case r.DOWN:t=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,o,r,a,s=!0;function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,n=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===n?r=!0:o=n+o,a=new RegExp("^"+l(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+l(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",n.attr("id"))}),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,r,a,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),o<0?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n-o<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,o;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),
/*!
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * @License: Open source under the BSD License. 
 * 
 * @Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return jQuery.easing[jQuery.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){var r=1.70158,a=0,s=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),s<Math.abs(n)){s=n;r=a/4}else r=a/(2*Math.PI)*Math.asin(n/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*o-r)*(2*Math.PI)/a)+i},easeOutElastic:function(e,t,i,n,o){var r=1.70158,a=0,s=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),s<Math.abs(n)){s=n;r=a/4}else r=a/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin((t*o-r)*(2*Math.PI)/a)+n+i},easeInOutElastic:function(e,t,i,n,o){var r=1.70158,a=0,s=n;if(0==t)return i;if(2==(t/=o/2))return i+n;if(a||(a=o*(.3*1.5)),s<Math.abs(n)){s=n;r=a/4}else r=a/(2*Math.PI)*Math.asin(n/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*o-r)*(2*Math.PI)/a)*-.5+i:s*Math.pow(2,-10*(t-=1))*Math.sin((t*o-r)*(2*Math.PI)/a)*.5+n+i},easeInBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),n*(t/=o)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),n*((t=t/o-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),(t/=o/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+i:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(e,t,i,n,o){return n-jQuery.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,o)+i:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! VelocityJS.org (1.2.3). @Copyright (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). @Copyright (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
/*! VelocityJS.org (1.2.3). @Copyright (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). @Copyright (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){if(!e.jQuery){var t=function e(t,i){return new e.fn.init(t,i)};t.isWindow=function(e){return null!=e&&e==e.window},t.type=function(e){return null==e?e+"":"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e?n[r.call(e)]||"object":void 0===e?"undefined":_typeof(e)},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isPlainObject=function(e){var i;if(!e||"object"!==t.type(e)||e.nodeType||t.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(i in e);return void 0===i||o.call(e,i)},t.each=function(e,t,i){var n=0,o=e.length,r=l(e);if(i){if(r)for(;n<o&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(r)for(;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},t.data=function(e,n,o){if(void 0===o){var r=(a=e[t.expando])&&i[a];if(void 0===n)return r;if(r&&n in r)return r[n]}else if(void 0!==n){var a=e[t.expando]||(e[t.expando]=++t.uuid);return i[a]=i[a]||{},i[a][n]=o,o}},t.removeData=function(e,n){var o=e[t.expando],r=o&&i[o];r&&t.each(n,function(e,t){delete r[t]})},t.extend=function(){var e,i,n,o,r,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!==(void 0===s?"undefined":_typeof(s))&&"function"!==t.type(s)&&(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)e=s[o],s!==(n=r[o])&&(u&&n&&(t.isPlainObject(n)||(i=t.isArray(n)))?(i?(i=!1,a=e&&t.isArray(e)?e:[]):a=e&&t.isPlainObject(e)?e:{},s[o]=t.extend(u,a,n)):void 0!==n&&(s[o]=n));return s},t.queue=function(e,i,n){if(e){i=(i||"fx")+"queue";var o=t.data(e,i);return n?(!o||t.isArray(n)?o=t.data(e,i,function(e,t){var i=t||[];return null!=e&&(l(Object(e))?function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;)e[o++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[o++]=t[n++];e.length=o}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}(n)):o.push(n),o):o||[]}},t.dequeue=function(e,i){t.each(e.nodeType?[e]:e,function(e,n){i=i||"fx";var o=t.queue(n,i),r=o.shift();"inprogress"===r&&(r=o.shift()),r&&("fx"===i&&o.unshift("inprogress"),r.call(n,function(){t.dequeue(n,i)}))})},t.fn=t.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var i=this[0],e=e.apply(i),n=this.offset(),o=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:t(e).offset();return n.top-=parseFloat(i.style.marginTop)||0,n.left-=parseFloat(i.style.marginLeft)||0,e.style&&(o.top+=parseFloat(e.style.borderTopWidth)||0,o.left+=parseFloat(e.style.borderLeftWidth)||0),{top:n.top-o.top,left:n.left-o.left}}};var i={};t.expando="velocity"+(new Date).getTime(),t.uuid=0;for(var n={},o=n.hasOwnProperty,r=n.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0;s<a.length;s++)n["[object "+a[s]+"]"]=a[s].toLowerCase();t.fn.init.prototype=t.fn,e.Velocity={Utilities:t}}function l(e){var i=e.length,n=t.type(e);return"function"!==n&&!t.isWindow(e)&&(!(1!==e.nodeType||!i)||("array"===n||0===i||"number"==typeof i&&i>0&&i-1 in e))}}(window),function(e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,i,n){var o=function(){if(i.documentMode)return i.documentMode;for(var e=7;e>4;e--){var t=i.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return n}(),r=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var i,n=(new Date).getTime();return i=Math.max(0,16-(n-e)),e=n+i,setTimeout(function(){t(n+i)},i)}}();function a(e){return l.isWrapped(e)?e=[].slice.call(e):l.isNode(e)&&(e=[e]),e}var s,l={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"===_typeof(e[0])&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},c=!1;if(e.fn&&e.fn.jquery?(s=e,c=!0):s=t.Velocity.Utilities,o<=8&&!c)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(o<=7)){var u=400,d="swing",p={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:s,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:u,easing:d,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){s.data(e,"velocity",{isSVG:l.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==n?(p.State.scrollAnchor=t,p.State.scrollPropertyLeft="pageXOffset",p.State.scrollPropertyTop="pageYOffset"):(p.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,p.State.scrollPropertyLeft="scrollLeft",p.State.scrollPropertyTop="scrollTop");var h=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,i,n){var o={x:t.x+n.dx*i,v:t.v+n.dv*i,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function i(i,n){var o={dx:i.v,dv:e(i)},r=t(i,.5*n,o),a=t(i,.5*n,r),s=t(i,n,a),l=1/6*(o.dx+2*(r.dx+a.dx)+s.dx),c=1/6*(o.dv+2*(r.dv+a.dv)+s.dv);return i.x=i.x+l*n,i.v=i.v+c*n,i}return function e(t,n,o){var r,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,o=o||null,l.tension=t,l.friction=n,a=(r=null!==o)?(u=e(t,n))/o*.016:.016;s=i(s||l,a),c.push(1+s.x),u+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return r?function(e){return c[e*(c.length-1)|0]}:u}}();p.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},s.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){p.Easings[t[0]]=y.apply(null,t[1])});var f=p.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<f.Lists.colors.length;e++){var t="color"===f.Lists.colors[e]?"0 0 0 1":"255 255 255 1";f.Hooks.templates[f.Lists.colors[e]]=["Red Green Blue Alpha",t]}var i,n,r;if(o)for(i in f.Hooks.templates){r=(n=f.Hooks.templates[i])[0].split(" ");var a=n[1].match(f.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),a.push(a.shift()),f.Hooks.templates[i]=[r.join(" "),a.join(" ")])}for(i in f.Hooks.templates){r=(n=f.Hooks.templates[i])[0].split(" ");for(var e in r){var s=i+r[e],l=e;f.Hooks.registered[s]=[i,l]}}},getRoot:function(e){var t=f.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return f.RegEx.valueUnwrap.test(t)&&(t=t.match(f.RegEx.valueUnwrap)[1]),f.Values.isCSSNullValue(t)&&(t=f.Hooks.templates[e][1]),t},extractValue:function(e,t){var i=f.Hooks.registered[e];if(i){var n=i[0],o=i[1];return(t=f.Hooks.cleanRootPropertyValue(n,t)).toString().match(f.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,i){var n=f.Hooks.registered[e];if(n){var o,r=n[0],a=n[1];return(o=(i=f.Hooks.cleanRootPropertyValue(r,i)).toString().match(f.RegEx.valueSplit))[a]=t,o.join(" ")}return i}},Normalizations:{registered:{clip:function(e,t,i){switch(e){case"name":return"clip";case"extract":var n;return n=f.RegEx.wrappedValueAlreadyExtracted.test(i)?i:(n=i.toString().match(f.RegEx.valueUnwrap))?n[1].replace(/,(\s+)?/g," "):i;case"inject":return"rect("+i+")"}},blur:function(e,t,i){switch(e){case"name":return p.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(i);if(!n&&0!==n){var o=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=o?o[1]:0}return n;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(e,t,i){if(o<=8)switch(e){case"name":return"filter";case"extract":var n=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return i}}},register:function(){o<=9||p.State.isGingerbread||(f.Lists.transformsBase=f.Lists.transformsBase.concat(f.Lists.transforms3D));for(var e=0;e<f.Lists.transformsBase.length;e++)!function(){var t=f.Lists.transformsBase[e];f.Normalizations.registered[t]=function(e,i,o){switch(e){case"name":return"transform";case"extract":return v(i)===n||v(i).transformCache[t]===n?/^scale/i.test(t)?1:0:v(i).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":p.State.isAndroid&&v(i).transformCache[t]===n&&o<1&&(o=1),r=!/(\d)$/i.test(o);break;case"skew":case"rotate":r=!/(deg|\d)$/i.test(o)}return r||(v(i).transformCache[t]="("+o+")"),v(i).transformCache[t]}}}();for(e=0;e<f.Lists.colors.length;e++)!function(){var t=f.Lists.colors[e];f.Normalizations.registered[t]=function(e,i,r){switch(e){case"name":return t;case"extract":var a;if(f.RegEx.wrappedValueAlreadyExtracted.test(r))a=r;else{var s,l={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?s=l[r]!==n?l[r]:l.black:f.RegEx.isHex.test(r)?s="rgb("+f.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(s=l.black),a=(s||r).toString().match(f.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return o<=8||3!==a.split(" ").length||(a+=" 1"),a;case"inject":return o<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(o<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(o||p.State.isAndroid&&!p.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(p.State.prefixMatches[e])return[p.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],i=0,n=t.length;i<n;i++){var o;if(o=0===i?e:t[i]+e.replace(/^\w/,function(e){return e.toUpperCase()}),l.isString(p.State.prefixElement.style[o]))return p.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,i,r,a){function l(e,i){var r=0;if(o<=8)r=s.css(e,i);else{var c=function(){u&&f.setPropertyValue(e,"display","none")},u=!1;if(/^(width|height)$/.test(i)&&0===f.getPropertyValue(e,"display")&&(u=!0,f.setPropertyValue(e,"display",f.Values.getDisplayType(e))),!a){if("height"===i&&"border-box"!==f.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetHeight-(parseFloat(f.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(f.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(f.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(f.getPropertyValue(e,"paddingBottom"))||0);return c(),d}if("width"===i&&"border-box"!==f.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(f.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(f.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(f.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(f.getPropertyValue(e,"paddingRight"))||0);return c(),p}}var h;h=v(e)===n?t.getComputedStyle(e,null):v(e).computedStyle?v(e).computedStyle:v(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===i&&(i="borderTopColor"),""!==(r=9===o&&"filter"===i?h.getPropertyValue(i):h[i])&&null!==r||(r=e.style[i]),c()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(i)){var m=l(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(i))&&(r=s(e).position()[i]+"px")}return r}var c;if(f.Hooks.registered[i]){var u=i,d=f.Hooks.getRoot(u);r===n&&(r=f.getPropertyValue(e,f.Names.prefixCheck(d)[0])),f.Normalizations.registered[d]&&(r=f.Normalizations.registered[d]("extract",e,r)),c=f.Hooks.extractValue(u,r)}else if(f.Normalizations.registered[i]){var h,m;"transform"!==(h=f.Normalizations.registered[i]("name",e))&&(m=l(e,f.Names.prefixCheck(h)[0]),f.Values.isCSSNullValue(m)&&f.Hooks.templates[i]&&(m=f.Hooks.templates[i][1])),c=f.Normalizations.registered[i]("extract",e,m)}if(!/^[\d-]/.test(c))if(v(e)&&v(e).isSVG&&f.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{c=e.getBBox()[i]}catch(e){c=0}else c=e.getAttribute(i);else c=l(e,f.Names.prefixCheck(i)[0]);return f.Values.isCSSNullValue(c)&&(c=0),p.debug>=2&&console.log("Get "+i+": "+c),c},setPropertyValue:function(e,i,n,r,a){var s=i;if("scroll"===i)a.container?a.container["scroll"+a.direction]=n:"Left"===a.direction?t.scrollTo(n,a.alternateValue):t.scrollTo(a.alternateValue,n);else if(f.Normalizations.registered[i]&&"transform"===f.Normalizations.registered[i]("name",e))f.Normalizations.registered[i]("inject",e,n),s="transform",n=v(e).transformCache[i];else{if(f.Hooks.registered[i]){var l=i,c=f.Hooks.getRoot(i);r=r||f.getPropertyValue(e,c),n=f.Hooks.injectValue(l,n,r),i=c}if(f.Normalizations.registered[i]&&(n=f.Normalizations.registered[i]("inject",e,n),i=f.Normalizations.registered[i]("name",e)),s=f.Names.prefixCheck(i)[0],o<=8)try{e.style[s]=n}catch(e){p.debug&&console.log("Browser does not support ["+n+"] for ["+s+"]")}else v(e)&&v(e).isSVG&&f.Names.SVGAttribute(i)?e.setAttribute(i,n):e.style[s]=n;p.debug>=2&&console.log("Set "+i+" ("+s+"): "+n)}return[s,n]},flushTransformCache:function(e){var t="";if((o||p.State.isAndroid&&!p.State.isChrome)&&v(e).isSVG){var i=function(t){return parseFloat(f.getPropertyValue(e,t))},n={translate:[i("translateX"),i("translateY")],skewX:[i("skewX")],skewY:[i("skewY")],scale:1!==i("scale")?[i("scale"),i("scale")]:[i("scaleX"),i("scaleY")],rotate:[i("rotateZ"),0,0]};s.each(v(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),n[e]&&(t+=e+"("+n[e].join(" ")+") ",delete n[e])})}else{var r,a;s.each(v(e).transformCache,function(i){if(r=v(e).transformCache[i],"transformPerspective"===i)return a=r,!0;9===o&&"rotateZ"===i&&(i="rotate"),t+=i+r+" "}),a&&(t="perspective"+a+" "+t)}f.setPropertyValue(e,"transform",t)}};f.Hooks.register(),f.Normalizations.register(),p.hook=function(e,t,i){var o=n;return e=a(e),s.each(e,function(e,r){if(v(r)===n&&p.init(r),i===n)o===n&&(o=p.CSS.getPropertyValue(r,t));else{var a=p.CSS.setPropertyValue(r,t,i);"transform"===a[0]&&p.CSS.flushTransformCache(r),o=a}}),o};var m=function(){function e(){return o?T.promise||null:r}var o,r,c,d,h,g,y=arguments[0]&&(arguments[0].p||s.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||l.isString(arguments[0].properties));if(l.isWrapped(this)?(o=!1,c=0,d=this,r=this):(o=!0,c=1,d=y?arguments[0].elements||arguments[0].e:arguments[0]),d=a(d)){y?(h=arguments[0].properties||arguments[0].p,g=arguments[0].options||arguments[0].o):(h=arguments[c],g=arguments[c+1]);var E=d.length,_=0;if(!/^(stop|finish|finishAll)$/i.test(h)&&!s.isPlainObject(g)){g={};for(var C=c+1;C<arguments.length;C++)l.isArray(arguments[C])||!/^(fast|normal|slow)$/i.test(arguments[C])&&!/^\d/.test(arguments[C])?l.isString(arguments[C])||l.isArray(arguments[C])?g.easing=arguments[C]:l.isFunction(arguments[C])&&(g.complete=arguments[C]):g.duration=arguments[C]}var T={promise:null,resolver:null,rejecter:null};o&&p.Promise&&(T.promise=new p.Promise(function(e,t){T.resolver=e,T.rejecter=t}));var x;switch(h){case"scroll":x="scroll";break;case"reverse":x="reverse";break;case"finish":case"finishAll":case"stop":s.each(d,function(e,t){v(t)&&v(t).delayTimer&&(clearTimeout(v(t).delayTimer.setTimeout),v(t).delayTimer.next&&v(t).delayTimer.next(),delete v(t).delayTimer),"finishAll"!==h||!0!==g&&!l.isString(g)||(s.each(s.queue(t,l.isString(g)?g:""),function(e,t){l.isFunction(t)&&t()}),s.queue(t,l.isString(g)?g:"",[]))});var A=[];return s.each(p.State.calls,function(e,t){t&&s.each(t[1],function(i,o){var r=g===n?"":g;if(!0!==r&&t[2].queue!==r&&(g!==n||!1!==t[2].queue))return!0;s.each(d,function(i,n){n===o&&((!0===g||l.isString(g))&&(s.each(s.queue(n,l.isString(g)?g:""),function(e,t){l.isFunction(t)&&t(null,!0)}),s.queue(n,l.isString(g)?g:"",[])),"stop"===h?(v(n)&&v(n).tweensContainer&&!1!==r&&s.each(v(n).tweensContainer,function(e,t){t.endValue=t.currentValue}),A.push(e)):"finish"!==h&&"finishAll"!==h||(t[2].duration=1))})})}),"stop"===h&&(s.each(A,function(e,t){w(t,!0)}),T.promise&&T.resolver(d)),e();default:if(!s.isPlainObject(h)||l.isEmptyObject(h)){if(l.isString(h)&&p.Redirects[h]){var I=(L=s.extend({},g)).duration,R=L.delay||0;return!0===L.backwards&&(d=s.extend(!0,[],d).reverse()),s.each(d,function(e,t){parseFloat(L.stagger)?L.delay=R+parseFloat(L.stagger)*e:l.isFunction(L.stagger)&&(L.delay=R+L.stagger.call(t,e,E)),L.drag&&(L.duration=parseFloat(I)||(/^(callout|transition)/.test(h)?1e3:u),L.duration=Math.max(L.duration*(L.backwards?1-e/E:(e+1)/E),.75*L.duration,200)),p.Redirects[h].call(t,t,L||{},e,E,d,T.promise?T:n)}),e()}var D="Velocity: First argument ("+h+") was not a property map, a known action, or a registered redirect. Aborting.";return T.promise?T.rejecter(new Error(D)):console.log(D),e()}x="start"}var P={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];s.each(d,function(e,o){l.isNode(o)&&function(){var e,o=this,r=s.extend({},p.defaults,g),a={};switch(v(o)===n&&p.init(o),parseFloat(r.delay)&&!1!==r.queue&&s.queue(o,r.queue,function(e){p.velocityQueueEntryFlag=!0,v(o).delayTimer={setTimeout:setTimeout(e,parseFloat(r.delay)),next:e}}),r.duration.toString().toLowerCase()){case"fast":r.duration=200;break;case"normal":r.duration=u;break;case"slow":r.duration=600;break;default:r.duration=parseFloat(r.duration)||1}!1!==p.mock&&(!0===p.mock?r.duration=r.delay=1:(r.duration*=parseFloat(p.mock)||1,r.delay*=parseFloat(p.mock)||1)),r.easing=b(r.easing,r.duration),r.begin&&!l.isFunction(r.begin)&&(r.begin=null),r.progress&&!l.isFunction(r.progress)&&(r.progress=null),r.complete&&!l.isFunction(r.complete)&&(r.complete=null),r.display!==n&&null!==r.display&&(r.display=r.display.toString().toLowerCase(),"auto"===r.display&&(r.display=p.CSS.Values.getDisplayType(o))),r.visibility!==n&&null!==r.visibility&&(r.visibility=r.visibility.toString().toLowerCase()),r.mobileHA=r.mobileHA&&p.State.isMobile&&!p.State.isGingerbread;function c(c){if(r.begin&&0===_)try{r.begin.call(d,d)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===x){var u,m,y,w=/^x$/i.test(r.axis)?"Left":"Top",C=parseFloat(r.offset)||0;r.container?l.isWrapped(r.container)||l.isNode(r.container)?(r.container=r.container[0]||r.container,y=(u=r.container["scroll"+w])+s(o).position()[w.toLowerCase()]+C):r.container=null:(u=p.State.scrollAnchor[p.State["scrollProperty"+w]],m=p.State.scrollAnchor[p.State["scrollProperty"+("Left"===w?"Top":"Left")]],y=s(o).offset()[w.toLowerCase()]+C),a={scroll:{rootPropertyValue:!1,startValue:u,currentValue:u,endValue:y,unitType:"",easing:r.easing,scrollData:{container:r.container,direction:w,alternateValue:m}},element:o},p.debug&&console.log("tweensContainer (scroll): ",a.scroll,o)}else if("reverse"===x){if(!v(o).tweensContainer)return void s.dequeue(o,r.queue);"none"===v(o).opts.display&&(v(o).opts.display="auto"),"hidden"===v(o).opts.visibility&&(v(o).opts.visibility="visible"),v(o).opts.loop=!1,v(o).opts.begin=null,v(o).opts.complete=null,g.easing||delete r.easing,g.duration||delete r.duration,r=s.extend({},v(o).opts,r);var A=s.extend(!0,{},v(o).tweensContainer);for(var I in A)if("element"!==I){var R=A[I].startValue;A[I].startValue=A[I].currentValue=A[I].endValue,A[I].endValue=R,l.isEmptyObject(g)||(A[I].easing=r.easing),p.debug&&console.log("reverse tweensContainer ("+I+"): "+JSON.stringify(A[I]),o)}a=A}else if("start"===x){var D=function(e,t){var i=n,a=n,s=n;return l.isArray(e)?(i=e[0],!l.isArray(e[1])&&/^[\d-]/.test(e[1])||l.isFunction(e[1])||f.RegEx.isHex.test(e[1])?s=e[1]:(l.isString(e[1])&&!f.RegEx.isHex.test(e[1])||l.isArray(e[1]))&&(a=t?e[1]:b(e[1],r.duration),e[2]!==n&&(s=e[2]))):i=e,t||(a=a||r.easing),l.isFunction(i)&&(i=i.call(o,_,E)),l.isFunction(s)&&(s=s.call(o,_,E)),[i||0,a,s]};v(o).tweensContainer&&!0===v(o).isAnimating&&(A=v(o).tweensContainer),s.each(h,function(e,t){if(RegExp("^"+f.Lists.colors.join("$|^")+"$").test(e)){var i=D(t,!0),o=i[0],r=i[1],a=i[2];if(f.RegEx.isHex.test(o)){for(var s=["Red","Green","Blue"],l=f.Values.hexToRgb(o),c=a?f.Values.hexToRgb(a):n,u=0;u<s.length;u++){var d=[l[u]];r&&d.push(r),c!==n&&d.push(c[u]),h[e+s[u]]=d}delete h[e]}}});for(var L in h){var k=function(e,t){var i,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return i=e,""}),i||(i=f.Values.getUnitType(e)),[n,i]},N=D(h[L]),O=N[0],M=N[1],U=N[2];L=f.Names.camelCase(L);var B=f.Hooks.getRoot(L),H=!1;if(v(o).isSVG||"tween"===B||!1!==f.Names.prefixCheck(B)[1]||f.Normalizations.registered[B]!==n){(r.display!==n&&null!==r.display&&"none"!==r.display||r.visibility!==n&&"hidden"!==r.visibility)&&/opacity|filter/.test(L)&&!U&&0!==O&&(U=0),r._cacheValues&&A&&A[L]?(U===n&&(U=A[L].endValue+A[L].unitType),H=v(o).rootPropertyValueCache[B]):f.Hooks.registered[L]?U===n?(H=f.getPropertyValue(o,B),U=f.getPropertyValue(o,L,H)):H=f.Hooks.templates[B][1]:U===n&&(U=f.getPropertyValue(o,L));var j,z,$,V=!1;if(U=(j=k(L,U))[0],$=j[1],O=(j=k(L,O))[0].replace(/^([+-\/*])=/,function(e,t){return V=t,""}),z=j[1],U=parseFloat(U)||0,O=parseFloat(O)||0,"%"===z&&(/^(fontSize|lineHeight)$/.test(L)?(O/=100,z="em"):/^scale/.test(L)?(O/=100,z=""):/(Red|Green|Blue)$/i.test(L)&&(O=O/100*255,z="")),/[\/*]/.test(V))z=$;else if($!==z&&0!==U)if(0===O)z=$;else{e=e||function(){var e={myParent:o.parentNode||i.body,position:f.getPropertyValue(o,"position"),fontSize:f.getPropertyValue(o,"fontSize")},n=e.position===P.lastPosition&&e.myParent===P.lastParent,r=e.fontSize===P.lastFontSize;P.lastParent=e.myParent,P.lastPosition=e.position,P.lastFontSize=e.fontSize;var a={};if(r&&n)a.emToPx=P.lastEmToPx,a.percentToPxWidth=P.lastPercentToPxWidth,a.percentToPxHeight=P.lastPercentToPxHeight;else{var l=v(o).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");p.init(l),e.myParent.appendChild(l),s.each(["overflow","overflowX","overflowY"],function(e,t){p.CSS.setPropertyValue(l,t,"hidden")}),p.CSS.setPropertyValue(l,"position",e.position),p.CSS.setPropertyValue(l,"fontSize",e.fontSize),p.CSS.setPropertyValue(l,"boxSizing","content-box"),s.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){p.CSS.setPropertyValue(l,t,"100%")}),p.CSS.setPropertyValue(l,"paddingLeft","100em"),a.percentToPxWidth=P.lastPercentToPxWidth=(parseFloat(f.getPropertyValue(l,"width",null,!0))||1)/100,a.percentToPxHeight=P.lastPercentToPxHeight=(parseFloat(f.getPropertyValue(l,"height",null,!0))||1)/100,a.emToPx=P.lastEmToPx=(parseFloat(f.getPropertyValue(l,"paddingLeft"))||1)/100,e.myParent.removeChild(l)}return null===P.remToPx&&(P.remToPx=parseFloat(f.getPropertyValue(i.body,"fontSize"))||16),null===P.vwToPx&&(P.vwToPx=parseFloat(t.innerWidth)/100,P.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=P.remToPx,a.vwToPx=P.vwToPx,a.vhToPx=P.vhToPx,p.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),o),a}();var q=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)||"x"===L?"x":"y";switch($){case"%":U*="x"===q?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:U*=e[$+"ToPx"]}switch(z){case"%":U*=1/("x"===q?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:U*=1/e[z+"ToPx"]}}switch(V){case"+":O=U+O;break;case"-":O=U-O;break;case"*":O*=U;break;case"/":O=U/O}a[L]={rootPropertyValue:H,startValue:U,currentValue:U,endValue:O,unitType:z,easing:M},p.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(a[L]),o)}else p.debug&&console.log("Skipping ["+B+"] due to a lack of browser support.")}a.element=o}a.element&&(f.Values.addClass(o,"velocity-animating"),F.push(a),""===r.queue&&(v(o).tweensContainer=a,v(o).opts=r),v(o).isAnimating=!0,_===E-1?(p.State.calls.push([F,d,r,null,T.resolver]),!1===p.State.isTicking&&(p.State.isTicking=!0,S())):_++)}!1===r.queue?r.delay?setTimeout(c,r.delay):c():s.queue(o,r.queue,function(e,t){if(!0===t)return T.promise&&T.resolver(d),!0;p.velocityQueueEntryFlag=!0,c()}),""!==r.queue&&"fx"!==r.queue||"inprogress"===s.queue(o)[0]||s.dequeue(o)}.call(o)});var L,k;if((L=s.extend({},p.defaults,g)).loop=parseInt(L.loop),k=2*L.loop-1,L.loop)for(var N=0;N<k;N++){var O={delay:L.delay,progress:L.progress};N===k-1&&(O.display=L.display,O.visibility=L.visibility,O.complete=L.complete),m(d,"reverse",O)}return e()}};(p=s.extend(m,p)).animate=m;var g=t.requestAnimationFrame||r;return p.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(g=function(e){return setTimeout(function(){e(!0)},16)},S()):g=t.requestAnimationFrame||r}),e.Velocity=p,e!==t&&(e.fn.velocity=m,e.fn.velocity.defaults=p.defaults),s.each(["Down","Up"],function(e,t){p.Redirects["slide"+t]=function(e,i,o,r,a,l){var c=s.extend({},i),u=c.begin,d=c.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};c.display===n&&(c.display="Down"===t?"inline"===p.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),c.begin=function(){u&&u.call(a,a);for(var i in h){f[i]=e.style[i];var n=p.CSS.getPropertyValue(e,i);h[i]="Down"===t?[n,0]:[0,n]}f.overflow=e.style.overflow,e.style.overflow="hidden"},c.complete=function(){for(var t in f)e.style[t]=f[t];d&&d.call(a,a),l&&l.resolver(a)},p(e,h,c)}}),s.each(["In","Out"],function(e,t){p.Redirects["fade"+t]=function(e,i,o,r,a,l){var c=s.extend({},i),u={opacity:"In"===t?1:0},d=c.complete;c.complete=o!==r-1?c.begin=null:function(){d&&d.call(a,a),l&&l.resolver(a)},c.display===n&&(c.display="In"===t?"auto":"none"),p(this,u,c)}}),p}jQuery.fn.velocity=jQuery.fn.animate;function v(e){var t=s.data(e,"velocity");return null===t?n:t}function y(e,i,n,o){var r=4,a=.001,s=1e-7,l=10,c=11,u=1/(c-1),d="Float32Array"in t;if(4!==arguments.length)return!1;for(var p=0;p<4;++p)if("number"!=typeof arguments[p]||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var h=d?new Float32Array(c):new Array(c);function f(e,t){return 1-3*t+3*e}function m(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,i){return((f(t,i)*e+m(t,i))*e+g(t))*e}function y(e,t,i){return 3*f(t,i)*e*e+2*m(t,i)*e+g(t)}function b(t){for(var i=0,o=1,d=c-1;o!=d&&h[o]<=t;++o)i+=u;var p=i+(t-h[--o])/(h[o+1]-h[o])*u,f=y(p,e,n);return f>=a?function(t,i){for(var o=0;o<r;++o){var a=y(i,e,n);if(0===a)return i;i-=(v(i,e,n)-t)/a}return i}(t,p):0==f?p:function(t,i,o){var r,a,c=0;do{(r=v(a=i+(o-i)/2,e,n)-t)>0?o=a:i=a}while(Math.abs(r)>s&&++c<l);return a}(t,i,i+u)}var S=!1;function w(){S=!0,e==i&&n==o||function(){for(var t=0;t<c;++t)h[t]=v(t*u,e,n)}()}var E=function(t){return S||w(),e===i&&n===o?t:0===t?0:1===t?1:v(b(t),i,o)};E.getControlPoints=function(){return[{x:e,y:i},{x:n,y:o}]};var _="generateBezier("+[e,i,n,o]+")";return E.toString=function(){return _},E}function b(e,t){var i=e;return l.isString(e)?p.Easings[e]||(i=!1):i=l.isArray(e)&&1===e.length?function(e){return function(t){return Math.round(t*e)*(1/e)}}.apply(null,e):l.isArray(e)&&2===e.length?h.apply(null,e.concat([t])):!(!l.isArray(e)||4!==e.length)&&y.apply(null,e),!1===i&&(i=p.Easings[p.defaults.easing]?p.defaults.easing:d),i}function S(e){if(e){var t=(new Date).getTime(),i=p.State.calls.length;i>1e4&&(p.State.calls=function(e){for(var t=-1,i=e?e.length:0,n=[];++t<i;){var o=e[t];o&&n.push(o)}return n}(p.State.calls));for(var o=0;o<i;o++)if(p.State.calls[o]){var r=p.State.calls[o],a=r[0],c=r[2],u=r[3],d=!!u,h=null;u||(u=p.State.calls[o][3]=t-16);for(var m=Math.min((t-u)/c.duration,1),y=0,b=a.length;y<b;y++){var E=a[y],_=E.element;if(v(_)){var C=!1;if(c.display!==n&&null!==c.display&&"none"!==c.display){if("flex"===c.display){s.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(e,t){f.setPropertyValue(_,"display",t)})}f.setPropertyValue(_,"display",c.display)}c.visibility!==n&&"hidden"!==c.visibility&&f.setPropertyValue(_,"visibility",c.visibility);for(var T in E)if("element"!==T){var x,A=E[T],I=l.isString(A.easing)?p.Easings[A.easing]:A.easing;if(1===m)x=A.endValue;else{var R=A.endValue-A.startValue;if(x=A.startValue+R*I(m,c,R),!d&&x===A.currentValue)continue}if(A.currentValue=x,"tween"===T)h=x;else{if(f.Hooks.registered[T]){var D=f.Hooks.getRoot(T),P=v(_).rootPropertyValueCache[D];P&&(A.rootPropertyValue=P)}var F=f.setPropertyValue(_,T,A.currentValue+(0===parseFloat(x)?"":A.unitType),A.rootPropertyValue,A.scrollData);f.Hooks.registered[T]&&(f.Normalizations.registered[D]?v(_).rootPropertyValueCache[D]=f.Normalizations.registered[D]("extract",null,F[1]):v(_).rootPropertyValueCache[D]=F[1]),"transform"===F[0]&&(C=!0)}}c.mobileHA&&v(_).transformCache.translate3d===n&&(v(_).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&f.flushTransformCache(_)}}c.display!==n&&"none"!==c.display&&(p.State.calls[o][2].display=!1),c.visibility!==n&&"hidden"!==c.visibility&&(p.State.calls[o][2].visibility=!1),c.progress&&c.progress.call(r[1],r[1],m,Math.max(0,u+c.duration-t),u,h),1===m&&w(o)}}p.State.isTicking&&g(S)}function w(e,t){if(!p.State.calls[e])return!1;for(var i=p.State.calls[e][0],o=p.State.calls[e][1],r=p.State.calls[e][2],a=p.State.calls[e][4],l=!1,c=0,u=i.length;c<u;c++){var d=i[c].element;if(t||r.loop||("none"===r.display&&f.setPropertyValue(d,"display",r.display),"hidden"===r.visibility&&f.setPropertyValue(d,"visibility",r.visibility)),!0!==r.loop&&(s.queue(d)[1]===n||!/\.velocityQueueEntryFlag/i.test(s.queue(d)[1]))&&v(d)){v(d).isAnimating=!1,v(d).rootPropertyValueCache={};var h=!1;s.each(f.Lists.transforms3D,function(e,t){var i=/^scale/.test(t)?1:0,o=v(d).transformCache[t];v(d).transformCache[t]!==n&&new RegExp("^\\("+i+"[^.]").test(o)&&(h=!0,delete v(d).transformCache[t])}),r.mobileHA&&(h=!0,delete v(d).transformCache.translate3d),h&&f.flushTransformCache(d),f.Values.removeClass(d,"velocity-animating")}if(!t&&r.complete&&!r.loop&&c===u-1)try{r.complete.call(o,o)}catch(e){setTimeout(function(){throw e},1)}a&&!0!==r.loop&&a(o),v(d)&&!0===r.loop&&!t&&(s.each(v(d).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),p(d,"reverse",{loop:!0,delay:r.delay})),!1!==r.queue&&s.dequeue(d,r.queue)}p.State.calls[e]=!1;for(var m=0,g=p.State.calls.length;m<g;m++)if(!1!==p.State.calls[m]){l=!0;break}!1===l&&(p.State.isTicking=!1,delete p.State.calls,p.State.calls=[])}}(window.jQuery||window.Zepto||window,window,document)});_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! enquire.js v2.1.6 - Awesome Media Queries in JavaScript
 * @Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/enquire.js
 * @License: MIT */
/*! enquire.js v2.1.6 - Awesome Media Queries in JavaScript
 * @Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/enquire.js
 * @License: MIT */
!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).enquire=e()}}(function(){return function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){var n=e(3),o=e(4).each;function r(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var i=this;this.listener=function(e){i.mql=e.currentTarget||e,i.assess()},this.mql.addListener(this.listener)}r.prototype={constuctor:r,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,function(i,n){if(i.equals(e))return i.destroy(),!t.splice(n,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,function(t){t[e]()})}},t.exports=r},{3:3,4:4}],2:[function(e,t,i){var n=e(1),o=e(4),r=o.each,a=o.isFunction,s=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,i){var o=this.queries,l=i&&this.browserIsIncapable;return o[e]||(o[e]=new n(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),r(t,function(t){a(t)&&(t={match:t}),o[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},t.exports=l},{1:1,4:4}],3:[function(e,t,i){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},t.exports=n},{}],4:[function(e,t,i){t.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var i=0,n=e.length;i<n&&!1!==t(e[i],i);i++);}}},{}],5:[function(e,t,i){var n=e(2);t.exports=new n},{2:2}]},{},[5])(5)}),function(e){var t,i={},n=e.document,o="localStorage";i.disabled=!1,i.set=function(e,t){},i.get=function(e){},i.remove=function(e){},i.clear=function(){},i.transact=function(e,t,n){var o=i.get(e);null==n&&(n=t,t=null),void 0===o&&(o=t||{}),n(o),i.set(e,o)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}};if(function(){try{return o in e&&e[o]}catch(e){return!1}}())t=e[o],i.set=function(e,n){return void 0===n?i.remove(e):(t.setItem(e,i.serialize(n)),n)},i.get=function(e){return i.deserialize(t.getItem(e))},i.remove=function(e){t.removeItem(e)},i.clear=function(){t.clear()},i.getAll=function(){var e={};return i.forEach(function(t,i){e[t]=i}),e},i.forEach=function(e){for(var n=0;n<t.length;n++){var o=t.key(n);e(o,i.get(o))}};else if(n.documentElement.addBehavior){var r,a,s=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),r.appendChild(t),t.addBehavior("#default#userData"),t.load(o);var a=e.apply(i,n);return r.removeChild(t),a}},l=function(e){return e.replace(c,"___")};try{(a=new ActiveXObject("htmlfile")).open(),a.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),a.close(),r=a.w.frames[0].document,t=r.createElement("div")}catch(e){t=n.createElement("div"),r=n.body}var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=s(function(e,t,n){return t=l(t),void 0===n?i.remove(t):(e.setAttribute(t,i.serialize(n)),e.save(o),n)}),i.get=s(function(e,t){return t=l(t),i.deserialize(e.getAttribute(t))}),i.remove=s(function(e,t){t=l(t),e.removeAttribute(t),e.save(o)}),i.clear=s(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var i,n=0;i=t[n];n++)e.removeAttribute(i.name);e.save(o)}),i.getAll=function(e){var t={};return i.forEach(function(e,i){t[e]=i}),t},i.forEach=s(function(e,t){for(var n,o=e.XMLDocument.documentElement.attributes,r=0;n=o[r];++r)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var u="__storejs__";i.set(u,u),i.get(u)!=u&&(i.disabled=!0),i.remove(u)}catch(e){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(i):e.store=i}(window||global);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * @Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * @License: Available under the BSD and MIT licenses: www.modernizr.com/license/
 */window.Modernizr=function(e,t,i){var n,o,r={},a=t.documentElement,s="modernizr",l=t.createElement(s),c=l.style,u=t.createElement("input"),d=":)",p={}.toString,h=" -webkit- -moz- -o- -ms- ".split(" "),f="Webkit Moz O ms".split(" "),m="Webkit Moz O ms".toLowerCase().split(" "),g="http://www.w3.org/2000/svg",v={},y={},b={},S=[],w=S.slice,E=function(e,i,n,o){var r,l,c,u,d=t.createElement("div"),p=t.body,h=p||t.createElement("body");if(parseInt(n,10))for(;n--;)(c=t.createElement("div")).id=o?o[n]:s+(n+1),d.appendChild(c);return r=["&#173;",'<style id="s',s,'">',e,"</style>"].join(""),d.id=s,(p?d:h).innerHTML+=r,h.appendChild(d),p||(h.style.background="",h.style.overflow="hidden",u=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),l=i(d,e),p?d.parentNode.removeChild(d):(h.parentNode.removeChild(h),a.style.overflow=u),!!l},_=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(n,o){o=o||t.createElement(e[n]||"div");var r=(n="on"+n)in o;return r||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(n,""),r=x(o[n],"function"),x(o[n],"undefined")||(o[n]=i),o.removeAttribute(n))),o=null,r}}(),C={}.hasOwnProperty;o=x(C,"undefined")||x(C.call,"undefined")?function(e,t){return t in e&&x(e.constructor.prototype[t],"undefined")}:function(e,t){return C.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=w.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var r=new o,a=t.apply(r,i.concat(w.call(arguments)));return Object(a)===a?a:r}return t.apply(e,i.concat(w.call(arguments)))};return n});function T(e){c.cssText=e}function x(e,t){return(void 0===e?"undefined":_typeof(e))===t}function A(e,t){return!!~(""+e).indexOf(t)}function I(e,t){for(var n in e){var o=e[n];if(!A(o,"-")&&c[o]!==i)return"pfx"!=t||o}return!1}function R(e,t,n){var o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+f.join(o+" ")+o).split(" ");return x(t,"string")||x(t,"undefined")?I(r,t):function(e,t,n){for(var o in e){var r=t[e[o]];if(r!==i)return!1===n?e[o]:x(r,"function")?r.bind(n||t):r}return!1}(r=(e+" "+m.join(o+" ")+o).split(" "),t,n)}v.flexbox=function(){return R("flexWrap")},v.flexboxlegacy=function(){return R("boxDirection")},v.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},v.canvastext=function(){return!(!r.canvas||!x(t.createElement("canvas").getContext("2d").fillText,"function"))},v.webgl=function(){return!!e.WebGLRenderingContext},v.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:E(["@media (",h.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},v.geolocation=function(){return"geolocation"in navigator},v.postmessage=function(){return!!e.postMessage},v.websqldatabase=function(){return!!e.openDatabase},v.indexedDB=function(){return!!R("indexedDB",e)},v.hashchange=function(){return _("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},v.history=function(){return!(!e.history||!history.pushState)},v.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},v.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},v.rgba=function(){return T("background-color:rgba(150,255,150,.5)"),A(c.backgroundColor,"rgba")},v.hsla=function(){return T("background-color:hsla(120,40%,100%,.5)"),A(c.backgroundColor,"rgba")||A(c.backgroundColor,"hsla")},v.multiplebgs=function(){return T("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)},v.backgroundsize=function(){return R("backgroundSize")},v.borderimage=function(){return R("borderImage")},v.borderradius=function(){return R("borderRadius")},v.boxshadow=function(){return R("boxShadow")},v.textshadow=function(){return""===t.createElement("div").style.textShadow},v.opacity=function(){e="opacity:.55",t=void 0,T(h.join(e+";")+(t||""));var e,t;return/^0.55$/.test(c.opacity)},v.cssanimations=function(){return R("animationName")},v.csscolumns=function(){return R("columnCount")},v.cssgradients=function(){var e="background-image:";return T((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+h.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),A(c.backgroundImage,"gradient")},v.cssreflections=function(){return R("boxReflect")},v.csstransforms=function(){return!!R("transform")},v.csstransforms3d=function(){var e=!!R("perspective");return e&&"webkitPerspective"in a.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},v.csstransitions=function(){return R("transition")},v.fontface=function(){var e;return E('@font-face {font-family:"font";src:url("https://")}',function(i,n){var o=t.getElementById("smodernizr"),r=o.sheet||o.styleSheet,a=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(n.split(" ")[0])}),e},v.generatedcontent=function(){var e;return E(["#",s,"{font:0/0 a}#",s,':after{content:"',d,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},v.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&((i=new Boolean(i)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return i},v.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&((i=new Boolean(i)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return i},v.localstorage=function(){try{return localStorage.setItem(s,s),localStorage.removeItem(s),!0}catch(e){return!1}},v.sessionstorage=function(){try{return sessionStorage.setItem(s,s),sessionStorage.removeItem(s),!0}catch(e){return!1}},v.webworkers=function(){return!!e.Worker},v.applicationcache=function(){return!!e.applicationCache},v.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g,"svg").createSVGRect},v.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g},v.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(p.call(t.createElementNS(g,"animate")))},v.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(p.call(t.createElementNS(g,"clipPath")))};for(var D in v)o(v,D)&&(n=D.toLowerCase(),r[n]=v[D](),S.push((r[n]?"":"no-")+n));return r.input||(r.input=function(i){for(var n=0,o=i.length;n<o;n++)b[i[n]]=!!(i[n]in u);return b.list&&(b.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),r.inputtypes=function(e){for(var n,o,r,s=0,l=e.length;s<l;s++)u.setAttribute("type",o=e[s]),(n="text"!==u.type)&&(u.value=d,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&u.style.WebkitAppearance!==i?(a.appendChild(u),n=(r=t.defaultView).getComputedStyle&&"textfield"!==r.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,a.removeChild(u)):/^(search|tel)$/.test(o)||(n=/^(url|email)$/.test(o)?u.checkValidity&&!1===u.checkValidity():u.value!=d)),y[e[s]]=!!n;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))),r.addTest=function(e,t){if("object"==(void 0===e?"undefined":_typeof(e)))for(var n in e)o(e,n)&&r.addTest(n,e[n]);else{if(e=e.toLowerCase(),r[e]!==i)return r;t="function"==typeof t?t():t,a.className+=" "+(t?"":"no-")+e,r[e]=t}return r},T(""),l=u=null,
/*! HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | @license: MIT/GPL2 Licensed */
function(e,t){var i,n,o=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s="_html5shiv",l=0,c={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",i="hidden"in e,n=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){i=!0,n=!0}}();function u(){var e=f.elements;return"string"==typeof e?e.split(" "):e}function d(e){var t=c[e[s]];return t||(t={},l++,e[s]=l,c[l]=t),t}function p(e,i,o){if(i||(i=t),n)return i.createElement(e);o||(o=d(i));var s;return(s=o.cache[e]?o.cache[e].cloneNode():a.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e)).canHaveChildren&&!r.test(e)?o.frag.appendChild(s):s}function h(e){e||(e=t);var o=d(e);!f.shivCSS||i||o.hasCSS||(o.hasCSS=!!function(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),n||(r=e,(a=o).cache||(a.cache={},a.createElem=r.createElement,a.createFrag=r.createDocumentFragment,a.frag=a.createFrag()),r.createElement=function(e){return f.shivMethods?p(e,r,a):a.createElem(e)},r.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+u().join().replace(/\w+/g,function(e){return a.createElem(e),a.frag.createElement(e),'c("'+e+'")'})+");return n}")(f,a.frag));var r,a;return e}var f={elements:o.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==o.shivCSS,supportsUnknownElements:n,shivMethods:!1!==o.shivMethods,type:"default",shivDocument:h,createElement:p,createDocumentFragment:function(e,i){if(e||(e=t),n)return e.createDocumentFragment();for(var o=(i=i||d(e)).frag.cloneNode(),r=0,a=u(),s=a.length;r<s;r++)o.createElement(a[r]);return o}};e.html5=f,h(t)}(e,t),r._version="2.6.2",r._prefixes=h,r._domPrefixes=m,r._cssomPrefixes=f,r.mq=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return E("@media "+t+" { #"+s+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},r.hasEvent=_,r.testProp=function(e){return I([e])},r.testAllProps=R,r.testStyles=E,r.prefixed=function(e,t,i){return t?R(e,t,i):R(e,"pfx")},a.className=a.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),r}(window,window.document);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * @Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * @License: Released under the MIT license
 */
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * @Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * @License: Released under the MIT license
 */
!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports)))module.exports=e();else{var t=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=t,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,o,r){var a;if(arguments.length>1){if("number"==typeof(r=e({path:"/"},n.defaults,r)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}return o=(o=encodeURIComponent(String(o))).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var d=l[u].split("="),p=d[0].replace(c,decodeURIComponent),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{if(h=i&&i(h,p)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===p){a=h;break}t||(a[p]=h)}catch(e){}}return a}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t()}),
/*!
** Unobtrusive Ajax support library for jQuery
** @Copyright (C) Microsoft Corporation. All rights reserved.
*/
function(e){var t="unobtrusiveAjaxClick",i="unobtrusiveValidation";function n(e,t){for(var i=window,n=(e||"").split(".");i&&n.length;)i=i[n.shift()];return"function"==typeof i?i:(t.push(e),Function.constructor.apply(null,t))}function o(e){return"GET"===e||"POST"===e}function r(t,i){var r,a,s,l;(r=t.getAttribute("data-ajax-confirm"))&&!window.confirm(r)||(a=e(t.getAttribute("data-ajax-loading")),l=t.getAttribute("data-ajax-loading-duration")||0,e.extend(i,{type:t.getAttribute("data-ajax-method")||void 0,url:t.getAttribute("data-ajax-url")||void 0,beforeSend:function(e){var i;r=e,o(c=s)||r.setRequestHeader("X-HTTP-Method-Override",c);var r,c;return!1!==(i=n(t.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments))&&a.show(l),i},complete:function(){a.hide(l),n(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(i,o,r){!function(t,i,n){var o;-1===n.indexOf("application/x-javascript")&&(o=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),e(t.getAttribute("data-ajax-update")).each(function(t,n){var r;switch(o){case"BEFORE":r=n.firstChild,e("<div />").html(i).contents().each(function(){n.insertBefore(this,r)});break;case"AFTER":e("<div />").html(i).contents().each(function(){n.appendChild(this)});break;default:e(n).html(i)}}))}(t,i,r.getResponseHeader("Content-Type")||"text/html"),n(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:n(t.getAttribute("data-ajax-failure"),["xhr","status","error"])}),i.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),o(s=i.type.toUpperCase())||(i.type="POST",i.data.push({name:"X-HTTP-Method-Override",value:s})),e.ajax(i))}e(document).on("click","a[data-ajax=true]",function(e){e.preventDefault(),r(this,{url:this.href,type:"GET",data:[]})}),e(document).on("click","form[data-ajax=true] input[type=image]",function(i){var n=i.target.name,o=e(i.target),r=o.parents("form")[0],a=o.offset();e(r).data(t,[{name:n+".x",value:Math.round(i.pageX-a.left)},{name:n+".y",value:Math.round(i.pageY-a.top)}]),setTimeout(function(){e(r).removeData(t)},0)}),e(document).on("click","form[data-ajax=true] :submit",function(i){var n=i.target.name,o=e(i.target).parents("form")[0];e(o).data(t,n?[{name:n,value:i.target.value}]:[]),setTimeout(function(){e(o).removeData(t)},0)}),e(document).on("submit","form[data-ajax=true]",function(n){var o=e(this).data(t)||[];n.preventDefault(),function(t){var n=e(t).data(i);return!n||!n.validate||n.validate()}(this)&&r(this,{url:this.action,type:this.method||"GET",data:o.concat(e(this).serializeArray())})})}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * @Copyright 2013 Jörn Zaefferer
 * @License: Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * @Copyright 2013 Jörn Zaefferer
 * @License: Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
!function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){i.settings.debug&&t.preventDefault();function n(){var n;return!i.settings.submitHandler||(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),!1)}return i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},n=this;return e.each(t.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(t,i){var n=this[0];if(t){var o=e.data(n.form,"validator").settings,r=o.rules,a=e.validator.staticRules(n);switch(t){case"add":e.extend(a,e.validator.normalizeRule(i)),delete a.messages,r[n.name]=a,i.messages&&(o.messages[n.name]=e.extend(o.messages[n.name],i.messages));break;case"remove":if(!i)return delete r[n.name],a;var s={};return e.each(i.split(/\s/),function(e,t){s[t]=a[t],delete a[t]}),s}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(n),e.validator.attributeRules(n),e.validator.dataRules(n),e.validator.staticRules(n)),n);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(i,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){t[n]=i})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)});function n(t){var i=e.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,"");i.settings[n]&&i.settings[n].call(i,this[0],t)}e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",n).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",n),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var i=!1!==this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!t.objectLength(e(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i=e(t).attr("type"),n=e(t).val();return"radio"===i||"checkbox"===i?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof n?n.replace(/\r/g,""):n},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n=e(t).rules(),o=!1,r=this.elementValue(t);for(var a in n){var s={method:a,parameters:n[a]};try{if("dependency-mismatch"===(i=e.validator.methods[a].call(this,r,t,s.parameters))){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,s),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+s.method+"' method.",e),e}}if(!o)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg-"+i.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var n=this.defaultMessage(t,i.method),o=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,t):o.test(n)&&(n=e.validator.format(n.replace(o,"{$1}"),i.parameters)),this.errorList.push({message:n,element:t}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n=this.errorsFor(t);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(i)):(n=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,t)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[void 0===e?"undefined":_typeof(e)]||this.dependTypes[void 0===e?"undefined":_typeof(e)](e,t)},dependTypes:{boolean:function(e,t){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},n=e(t),o=n[0].getAttribute("type");for(var r in e.validator.methods){var a;"required"===r?(""===(a=n.get(0).getAttribute(r))&&(a=!0),a=!!a):a=n.attr(r),/min|max/.test(r)&&(null===o||/number|range|text/.test(o))&&(a=Number(a)),a?i[r]=a:o===r&&"range"!==o&&(i[r]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var i,n,o={},r=e(t);for(i in e.validator.methods)void 0!==(n=r.data("rule-"+i.toLowerCase()))&&(o[i]=n);return o},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,o){if(!1!==o){if(o.param||o.depends){var r=!0;switch(_typeof(o.depends)){case"string":r=!!e(o.depends,i.form).length;break;case"function":r=o.depends.call(i,i)}r?t[n]=void 0===o.param||o.param:delete t[n]}}else delete t[n]}),e.each(t,function(n,o){t[n]=e.isFunction(o)?o(i):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=e(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;for(var i=0,n=0,o=!1,r=(e=e.replace(/\D/g,"")).length-1;r>=0;r--){var a=e.charAt(r);n=parseInt(a,10),o&&(n*=2)>9&&(n-=9),i+=n,o=!o}return i%10==0},minlength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||o>=n},maxlength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||o<=n},rangelength:function(t,i,n){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||o>=n[0]&&o<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(t,i,n){var o=e(n);return this.settings.onfocusout&&o.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===o.val()},remote:function(t,i,n){if(this.optional(i))return"dependency-mismatch";var o=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),o.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=o.message,n="string"==typeof n&&{url:n}||n,o.old===t)return o.valid;o.old=t;var r=this;this.startRequest(i);var a={};return a[i.name]=t,e.ajax(e.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(n){r.settings.messages[i.name].remote=o.originalMessage;var a=!0===n||"true"===n;if(a){var s=r.formSubmitted;r.prepareElement(i),r.formSubmitted=s,r.successList.push(i),delete r.invalid[i.name],r.showErrors()}else{var l={},c=n||r.defaultMessage(i,"remote");l[i.name]=o.message=e.isFunction(c)?c(t):c,r.invalid[i.name]=!0,r.showErrors(l)}o.valid=a,r.stopRequest(i,a)}},n)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,i,n){var o=e.port;"abort"===e.mode&&(t[o]&&t[o].abort(),t[o]=n)});else{var i=e.ajax;e.ajax=function(n){var o=("mode"in n?n:e.ajaxSettings).mode,r=("port"in n?n:e.ajaxSettings).port;return"abort"===o?(t[r]&&t[r].abort(),t[r]=i.apply(this,arguments),t[r]):i.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,i,n){return this.bind(i,function(i){var o=e(i.target);if(o.is(t))return n.apply(o,arguments)})}})}(jQuery),
/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** @Copyright (C) Microsoft Corporation. All rights reserved.
*/
function(e){var t,i=e.validator,n="unobtrusiveValidation";function o(e,t,i){e.rules[t]=i,e.message&&(e.messages[t]=e.message)}function r(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function a(e){return e.substr(0,e.lastIndexOf(".")+1)}function s(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function l(t,i){var n=e(this).find("[data-valmsg-for='"+r(i[0].name)+"']"),o=n.attr("data-valmsg-replace"),a=o?!1!==e.parseJSON(o):null;n.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",n),a?(n.empty(),t.removeClass("input-validation-error").appendTo(n)):t.hide()}function c(t,i){var n=e(this).find("[data-valmsg-summary=true]"),o=n.find("ul");o&&o.length&&i.errorList.length&&(o.empty(),n.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(i.errorList,function(){e("<li />").html(this.message).appendTo(o)}))}function u(t){var i=t.data("unobtrusiveContainer"),n=i.attr("data-valmsg-replace"),o=n?e.parseJSON(n):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),o&&i.empty())}function d(t){var i=e(this);i.data("validator").resetForm(),i.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),i.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function p(t){var i=e(t),o=i.data(n),r=e.proxy(d,t);return o||(o={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:e.proxy(l,t),invalidHandler:e.proxy(c,t),messages:{},rules:{},success:e.proxy(u,t)},attachValidation:function(){i.unbind("reset."+n,r).bind("reset."+n,r).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(n,o)),o}i.unobtrusive={adapters:[],parseElement:function(t,i){var n,o,r,a=e(t),s=a.parents("form")[0];s&&((n=p(s)).options.rules[t.name]=o={},n.options.messages[t.name]=r={},e.each(this.adapters,function(){var i="data-val-"+this.name,n=a.attr(i),l={};void 0!==n&&(i+="-",e.each(this.params,function(){l[this]=a.attr(i+this)}),this.adapt({element:t,form:s,message:n,params:l,rules:o,messages:r}))}),e.extend(o,{__dummy__:!0}),i||n.attachValidation())},parse:function(t){var n=e(t).parents("form").andSelf().add(e(t).find("form")).filter("form");e(t).find(":input[data-val=true]").each(function(){i.unobtrusive.parseElement(this,!0)}),n.each(function(){var e=p(this);e&&e.attachValidation()})}},(t=i.unobtrusive.adapters).add=function(e,t,i){return i||(i=t,t=[]),this.push({name:e,params:t,adapt:i}),this},t.addBool=function(e,t){return this.add(e,function(i){o(i,t||e,!0)})},t.addMinMax=function(e,t,i,n,r,a){return this.add(e,[r||"min",a||"max"],function(e){var r=e.params.min,a=e.params.max;r&&a?o(e,n,[r,a]):r?o(e,t,r):a&&o(e,i,a)})},t.addSingleVal=function(e,t,i){return this.add(e,[t||"val"],function(n){o(n,i||e,n.params[t])})},i.addMethod("__dummy__",function(e,t,i){return!0}),i.addMethod("regex",function(e,t,i){var n;return!!this.optional(t)||(n=new RegExp(i).exec(e))&&0===n.index&&n[0].length===e.length}),i.addMethod("nonalphamin",function(e,t,i){var n;return i&&(n=(n=e.match(/\W/g))&&n.length>=i),n}),t.addSingleVal("accept","exts").addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.add("equalto",["other"],function(t){var i=a(t.element.name),n=s(t.params.other,i);o(t,"equalTo",e(t.form).find(":input[name='"+r(n)+"']")[0])}),t.add("required",function(e){"INPUT"===e.element.tagName.toUpperCase()&&"CHECKBOX"===e.element.type.toUpperCase()||o(e,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var i={url:t.params.url,type:t.params.type||"GET",data:{}},n=a(t.element.name);e.each((t.params.additionalfields||t.element.name).replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g),function(o,a){var l=s(a,n);i.data[l]=function(){return e(t.form).find(":input[name='"+r(l)+"']").val()}});o(t,"remote",i)}),t.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&o(e,"minlength",e.params.min),e.params.nonalphamin&&o(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&o(e,"regex",e.params.regex)}),e(function(){i.unobtrusive.parse(document)})}(jQuery),
/*!
* $ lightbox_me
* By: Buck Wilson
* @Version : 2.4
*
* @License: Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function(e){e.fn.lightbox_me=function(t){return this.each(function(){var i=e.extend({},e.fn.lightbox_me.defaults,t),n=e(),o=e(this),r=e('<iframe id="foo" style="z-index: '+(i.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>');if(i.showOverlay){var a=e(".js_lb_overlay:visible");a.length>0&&a.remove(),n=e('<div class="'+i.classPrefix+'_overlay js_lb_overlay"/>')}e("body").append(o.hide()).append(n),i.showOverlay&&(c(),n.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:i.zIndex+2,display:"none"}),n.hasClass("lb_overlay_clear")||n.css(i.overlayCSS)),i.showOverlay?n.fadeIn(i.overlaySpeed,function(){u(),o[i.appearEffect](i.lightboxSpeed,function(){c(),u(),i.onLoad()}),s(i)}):(u(),o[i.appearEffect](i.lightboxSpeed,function(){i.onLoad()}),s(i)),i.parentLightbox&&i.parentLightbox.fadeOut(200),e(window).resize(c).resize(u).scroll(u),e(window).bind("keyup.lightbox_me",function(e){(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0==e.which)&&i.closeEsc&&l()});function s(e){e.closeClick&&n.click(function(e){l(),e.preventDefault}),o.delegate(e.closeSelector,"click",function(e){l(),e.preventDefault()}),o.bind("close",l),o.bind("reposition",u)}function l(){o[0].style;i.destroyOnClose?o.add(n).remove():o.add(n).hide(),i.parentLightbox&&i.parentLightbox.fadeIn(200),i.preventScroll&&e("body").css("overflow",""),r.remove(),o.undelegate(i.closeSelector,"click"),o.unbind("close",l),o.unbind("repositon",u),e(window).unbind("resize",c),e(window).unbind("resize",u),e(window).unbind("scroll",u),e(window).unbind("keyup.lightbox_me"),i.onClose()}function c(){e(window).height()<e(document).height()?(n.css({height:e(document).height()+"px"}),r.css({height:e(document).height()+"px"})):n.css({height:"100%"})}function u(){o[0].style;var t=i.clipHeaderPadding?40:80;if(o.css(i.modalCSS).css({left:"50%",marginLeft:o.outerWidth()/2*-1,zIndex:i.zIndex+3}),o.height()+t>=e(window).height()&&"absolute"!=o.css("position")){var n=i.clipHeaderPadding?0:40,r=e(document).scrollTop()+n;o.css({position:"absolute",top:r+"px",marginTop:0})}else o.height()+t<e(window).height()&&(i.centered?o.css(i.modalCSS).css({position:"fixed",top:"50%",marginTop:o.outerHeight()/2*-1}):o.css({position:"fixed"}).css(i.modalCSS),i.preventScroll&&e("body").css("overflow","hidden"))}})},e.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,preventScroll:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999999,centered:!1,clipHeaderPadding:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.8}}}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * @Copyright (c) 2011-2014 Felix Gnass
 * @License: Licensed under the MIT license
 */
/*!
 * @Copyright (c) 2011-2014 Felix Gnass
 * @License: Licensed under the MIT license
 */
!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(window,function(){var e,t=["webkit","Moz","ms","O"],i={};function n(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function o(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}var r=function(){var e=n("style",{type:"text/css"});return o(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}();function a(t,n,o,a){var s=["opacity",n,~~(100*t),o,a].join("-"),l=.01+o/a*100,c=Math.max(1-(1-t)/n*(100-l),t),u=e.substring(0,e.indexOf("Animation")).toLowerCase(),d=u&&"-"+u+"-"||"";return i[s]||(r.insertRule("@"+d+"keyframes "+s+"{0%{opacity:"+c+"}"+l+"%{opacity:"+t+"}"+(l+.01)+"%{opacity:1}"+(l+n)%100+"%{opacity:"+t+"}100%{opacity:"+c+"}}",r.cssRules.length),i[s]=1),s}function s(e,i){var n,o,r=e.style;for(i=i.charAt(0).toUpperCase()+i.slice(1),o=0;o<t.length;o++)if(void 0!==r[n=t[o]+i])return n;if(void 0!==r[i])return i}function l(e,t){for(var i in t)e.style[s(e,i)||i]=t[i];return e}function c(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function u(e,t){return"string"==typeof e?e:e[t%e.length]}var d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function p(e){this.opts=c(e||{},p.defaults,d)}p.defaults={},c(p.prototype,{spin:function(t){this.stop();var i=this,o=i.opts,r=i.el=l(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex});o.radius,o.length,o.width;if(l(r,{left:o.left,top:o.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!e){var a,s=0,c=(o.lines-1)*(1-o.direction)/2,u=o.fps,d=u/o.speed,p=(1-o.opacity)/(d*o.trail/100),h=d/o.lines;!function e(){s++;for(var t=0;t<o.lines;t++)a=Math.max(1-(s+(o.lines-t)*h)%d*p,o.opacity),i.opacity(r,t*o.direction+c,a,o);i.timeout=i.el&&setTimeout(e,~~(1e3/u))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,i){var r,s=0,c=(i.lines-1)*(1-i.direction)/2;function d(e,t){return l(n(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*s+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(;s<i.lines;s++)r=l(n(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:e&&a(i.opacity,i.trail,c+s*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&o(r,l(d("#000","0 0 4px #000"),{top:"2px"})),o(t,o(r,d(u(i.color,s),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var h=l(n("group"),{behavior:"url(#default#VML)"});return!s(h,"transform")&&h.adj?function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}r.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,i){var n=i.length+i.width,r=2*n;function a(){return l(e("group",{coordsize:r+" "+r,coordorigin:-n+" "+-n}),{width:r,height:r})}var s,c=2*-(i.width+i.length)+"px",d=l(a(),{position:"absolute",top:c,left:c});function p(t,r,s){o(d,o(l(a(),{rotation:360/i.lines*t+"deg",left:~~r}),o(l(e("roundrect",{arcsize:i.corners}),{width:n,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),e("fill",{color:u(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}if(i.shadow)for(s=1;s<=i.lines;s++)p(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)p(s);return o(t,d)},p.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=(o=(o=o.childNodes[t+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i)}}():e=s(h,"animation"),p});_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * @Copyright (c) 2011-2014 Felix Gnass
 * @License: Licensed under the MIT license
 */
/*!
 * @Copyright (c) 2011-2014 Felix Gnass
 * @License: Licensed under the MIT license
 */
!function(e){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports)))e(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,t){e.fn.spin=function(i,n){return this.each(function(){var o=e(this),r=o.data();r.spinner&&(r.spinner.stop(),delete r.spinner),!1!==i&&(i=e.extend({color:n||o.css("color")},e.fn.spin.presets[i]||i),r.spinner=new t(i).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),
/*! jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * @Copyright (c) 2010 "Cowboy" Ben Alman
 * @License: Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(e,t){"$:nomunge";var i,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=i=function(e,i,o,r){var a,s=0;"boolean"!=typeof i&&(r=o,o=i,i=t);function l(){var n=this,l=+new Date-s,c=arguments;function u(){s=+new Date,o.apply(n,c)}r&&!a&&u(),a&&clearTimeout(a),r===t&&l>e?u():!0!==i&&(a=setTimeout(r?function(){a=t}:u,r===t?e-l:e))}return n.guid&&(l.guid=o.guid=o.guid||n.guid++),l},n.debounce=function(e,n,o){return o===t?i(e,n,!1):i(e,o,!1!==n)}}(window);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! waitForImages jQuery Plugin - v2.0.2 - 2015-06-02
* https://github.com/alexanderdickson/waitForImages
* @Copyright (c) 2015 Alex Dickson; @License: Licensed MIT */
/*! waitForImages jQuery Plugin - v2.0.2 - 2015-06-02
* https://github.com/alexanderdickson/waitForImages
* @Copyright (c) 2015 Alex Dickson; @License: Licensed MIT */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"]["has-src"]=function(t){return e(t).is('img[src][src!=""]')},e.expr[":"].uncached=function(t){return!!e(t).is(":has-src")&&!t.complete},e.fn.waitForImages=function(){var t,i,n,o=0,r=0,a=e.Deferred();if(e.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,i=arguments[0].each,t=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?n=arguments[0]:(t=arguments[0],i=arguments[1],n=arguments[2]),t=t||e.noop,i=i||e.noop,n=!!n,!e.isFunction(t)||!e.isFunction(i))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var s=e(this),l=[],c=e.waitForImages.hasImageProperties||[],u=e.waitForImages.hasImageAttributes||[],d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;n?s.find("*").addBack().each(function(){var t=e(this);t.is("img:has-src")&&l.push({src:t.attr("src"),element:t[0]}),e.each(c,function(e,i){var n,o=t.css(i);if(!o)return!0;for(;n=d.exec(o);)l.push({src:n[2],element:t[0]})}),e.each(u,function(i,n){var o,r=t.attr(n);if(!r)return!0;o=r.split(","),e.each(o,function(i,n){n=e.trim(n).split(" ")[0],l.push({src:n,element:t[0]})})})}):s.find("img:has-src").each(function(){l.push({src:this.src,element:this})}),o=l.length,r=0,0===o&&(t.call(s[0]),a.resolveWith(s[0])),e.each(l,function(n,l){var c=new Image,u="load.waitForImages error.waitForImages";e(c).one(u,function n(c){var d=[r,o,"load"==c.type];if(r++,i.apply(l.element,d),a.notifyWith(l.element,d),e(this).off(u,n),r==o)return t.call(s[0]),a.resolveWith(s[0]),!1}),c.src=l.src})}),a.promise()}});_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* jquery-match-height master by @liabru
* http://brm.io/jquery-match-height/
* @License: MIT
*/
/*!
* jquery-match-height master by @liabru
* http://brm.io/jquery-match-height/
* @License: MIT
*/
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=-1,i=null!==window.navigator.userAgent.match(/(iPod|iPhone|iPad)/),n=function(e){return parseFloat(e)||0},o=function(t){var i=null,o=[];return e(t).each(function(){var t=e(this),r=t.offset().top-n(t.css("margin-top")),a=o.length>0?o[o.length-1]:null;null===a?o.push(t):Math.floor(Math.abs(i-r))<=1?o[o.length-1]=a.add(t):o.push(t),i=r}),o},r=function(t){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"===(void 0===t?"undefined":_typeof(t))?e.extend(i,t):("boolean"==typeof t?i.byRow=t:"remove"===t&&(i.remove=!0),i)},a=e.fn.matchHeight=function(t){var i=r(t);if(i.remove){var n=this;return this.css(i.property,""),e.each(a._groups,function(e,t){t.elements=t.elements.not(n)}),this}return this.length<=1&&!i.target?this:(a._groups.push({elements:this,options:i}),a._apply(this,i),this)};a.version="master",a._groups=[],a._throttle=500,a._maintainScroll=!1,a._beforeUpdate=null,a._afterUpdate=null,a._rows=o,a._parse=n,a._parseOptions=r,a._apply=function(t,i){var s=r(i),l=e(t),c=[l],u=e(window).scrollTop(),d=e("html").outerHeight(!0),p=l.parents().filter(":hidden");return p.each(function(){var t=e(this);t.data("style-cache",t.attr("style"))}),p.css("display","block"),s.byRow&&!s.target&&(l.each(function(){var t=e(this),i=t.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block"),t.data("style-cache",t.attr("style")),t.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),c=o(l),l.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||"")})),e.each(c,function(t,i){var o=e(i),r=0;if(s.target)r=s.target.outerHeight(!1);else{if(s.byRow&&o.length<=1)return void o.css(s.property,"");o.each(function(){var t=e(this),i=t.attr("style"),n=t.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var o={display:n};o[s.property]="",t.css(o),t.outerHeight(!1)>r&&(r=t.outerHeight(!1)),i?t.attr("style",i):t.css("display","")})}o.each(function(){var t=e(this),i=0;s.target&&t.is(s.target)||("border-box"!==t.css("box-sizing")&&(i+=n(t.css("border-top-width"))+n(t.css("border-bottom-width")),i+=n(t.css("padding-top"))+n(t.css("padding-bottom"))),t.css(s.property,r-i+"px"))})}),p.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||null)}),a._maintainScroll&&e(window).scrollTop(u/d*e("html").outerHeight(!0)),this},a._applyDataApi=function(){var t={};e("[data-match-height], [data-mh]").each(function(){var i=e(this),n=i.attr("data-mh")||i.attr("data-match-height");t[n]=n in t?t[n].add(i):i}),e.each(t,function(){this.matchHeight(!0)})};var s=function(t){a._beforeUpdate&&a._beforeUpdate(t,a._groups),e.each(a._groups,function(){a._apply(this.elements,this.options)}),a._afterUpdate&&a._afterUpdate(t,a._groups)};a._update=function(n){if(n&&"load"==n.type)s(n);else{if(i&&n&&"resize"===n.type){var o=e(window).width();if(o===t)return;t=o}s(n)}},e(a._applyDataApi),e(window).bind("load",function(e){a._update(e)}),e(window).bind("resize orientationchange",e.debounce(a._throttle,a._update))}),
/*!
* Detect Element Resize Plugin for jQuery
*
* https://github.com/sdecima/javascript-detect-element-resize
* Sebastian Decima
*
* @version: 0.5.3
* The MIT License (MIT)
*
* Copyright (c) 2013 Sebasti�n D�cima
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of
* this software and associated documentation files (the "Software"), to deal in
* the Software without restriction, including without limitation the rights to
* use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
* the Software, and to permit persons to whom the Software is furnished to do so,
* subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
**/
function(e){var t=document.attachEvent,i=!1,n=null,o=null,r=null,a=e.fn.resize;if(e.fn.resize=function(e){return this.each(function(){this==window?a.call(jQuery(this),e):addResizeListener(this,e)})},e.fn.removeResize=function(e){return this.each(function(){removeResizeListener(this,e)})},!t){var s=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),l=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}();n=function(e){var t=e.__resizeTriggers__,i=t.firstElementChild,n=t.lastElementChild,o=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=i.offsetWidth+1+"px",o.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},o=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},r=function(e){var t=this;n(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=s(function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(i){i.call(t,e)}))})};var c=!1,u="",d="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(c=!0),!1===c)for(var g=0;g<p.length;g++)if(void 0!==m.style[p[g]+"AnimationName"]){(f=p[g])+"Animation",u="-"+f.toLowerCase()+"-",d=h[g],c=!0;break}var v="resizeanim",y="@"+u+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=u+"animation: 1ms "+v+"; "}window.addResizeListener=function(e,o){t?e.attachEvent("onresize",o):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!i){var e=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),i=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),n(e),e.addEventListener("scroll",r,!0),d&&e.__resizeTriggers__.addEventListener(d,function(t){t.animationName==v&&n(e)})),e.__resizeListeners__.push(o))},window.removeResizeListener=function(e,i){t?e.detachEvent("onresize",i):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",r),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
Tooltipster 3.2.4 | 2014-05-14
A rockin' custom tooltip jQuery plugin

@License: Developed by Caleb Jacob under the MIT license http://opensource.org/licenses/MIT

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
/*!
Tooltipster 3.2.4 | 2014-05-14
A rockin' custom tooltip jQuery plugin

@License: Developed by Caleb Jacob under the MIT license http://opensource.org/licenses/MIT

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
!function(e,t,i){var n={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};function o(t,i){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},n,i),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}o.prototype={_init:function(){var t=this;if(i.querySelector){if(null!==t.options.content)t._content_set(t.options.content);else{var n=t.$el.attr("title");void 0===n&&(n=null),t._content_set(n)}var o=t.options.functionInit.call(t.$el,t.$el,t.Content);void 0!==o&&t._content_set(o),t.$el.removeAttr("title").addClass("tooltipstered"),!a&&t.options.iconDesktop||a&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){l()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){l()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),a&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){l()&&!t.options.touchDevices||t._show()})}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(i){var n=this;n.options.functionBefore.call(n.$el,n.$el,function(){if(n.enabled&&null!==n.Content){i&&n.callbacks.show.push(i),n.callbacks.hide=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,n.options.onlyOne&&e(".tooltipstered").not(n.$el).each(function(t,i){var n=e(i),o=n.data("tooltipster-ns");e.each(o,function(e,t){var i=n.data(t),o=i.status(),r=i.option("autoClose");"hidden"!==o&&"disappearing"!==o&&r&&i.hide()})});var o=function(){n.Status="shown",e.each(n.callbacks.show,function(e,t){t.call(n.$el)}),n.callbacks.show=[]};if("hidden"!==n.Status){var r=0;"disappearing"===n.Status?(n.Status="appearing",c()?(n.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+n.options.animation+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(o)):n.$tooltip.stop().fadeIn(o)):"shown"===n.Status&&o()}else{n.Status="appearing";r=n.options.speed;n.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var s="tooltipster-"+n.options.animation,l="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",u=n.options.minWidth?"min-width:"+Math.round(n.options.minWidth)+"px;":"",d=n.options.maxWidth?"max-width:"+Math.round(n.options.maxWidth)+"px;":"",p=n.options.interactive?"pointer-events: auto;":"";if(n.$tooltip=e('<div class="tooltipster-base '+n.options.theme+'" style="'+u+" "+d+" "+p+" "+l+'"><div class="tooltipster-content"></div></div>'),c()&&n.$tooltip.addClass(s),n._content_insert(),n.$tooltip.appendTo("body"),n.reposition(),n.options.functionReady.call(n.$el,n.$el,n.$tooltip),c()?(n.$tooltip.addClass(s+"-show"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(o)):n.$tooltip.css("display","none").fadeIn(n.options.speed,o),n._interval_set(),e(t).on("scroll."+n.namespace+" resize."+n.namespace,function(){n.reposition()}),n.options.autoClose)if(e("body").off("."+n.namespace),"hover"==n.options.trigger)if(a&&setTimeout(function(){e("body").on("touchstart."+n.namespace,function(){n.hide()})},0),n.options.interactive){a&&n.$tooltip.on("touchstart."+n.namespace,function(e){e.stopPropagation()});var h=null;n.$elProxy.add(n.$tooltip).on("mouseleave."+n.namespace+"-autoClose",function(){clearTimeout(h),h=setTimeout(function(){n.hide()},n.options.interactiveTolerance)}).on("mouseenter."+n.namespace+"-autoClose",function(){clearTimeout(h)})}else n.$elProxy.on("mouseleave."+n.namespace+"-autoClose",function(){n.hide()});else"click"==n.options.trigger&&(setTimeout(function(){e("body").on("click."+n.namespace+" touchstart."+n.namespace,function(){n.hide()})},0),n.options.interactive&&n.$tooltip.on("click."+n.namespace+" touchstart."+n.namespace,function(e){e.stopPropagation()}))}n.options.timer>0&&(n.timerHide=setTimeout(function(){n.timerHide=null,n.hide()},n.options.timer+r))}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)"shown"!=t.Status&&"appearing"!=t.Status||t.hide(),t._interval_cancel();else if(t.options.positionTracker){var i=t._repositionInfo(t.$elProxy),n=!1;r(i.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?r(i.position,t.elProxyPosition.position)&&(n=!0):r(i.offset,t.elProxyPosition.offset)&&(n=!0)),n||t.reposition()}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"===(void 0===e?"undefined":_typeof(e))&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?e.empty().append(this.Content):e.text(this.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(c()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(i){var n=this;i&&n.callbacks.hide.push(i),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null;var o=function(){e.each(n.callbacks.hide,function(e,t){t.call(n.$el)}),n.callbacks.hide=[]};if("shown"==n.Status||"appearing"==n.Status){n.Status="disappearing";var r=function(){n.Status="hidden","object"==_typeof(n.Content)&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,e(t).off("."+n.namespace),e("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),e("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),o()};c()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),n.options.speed>0&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(r)):n.$tooltip.stop().fadeOut(n.options.speed,r)}else"hidden"==n.Status&&o();return n},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){if(0!==e("body").find(this.$tooltip).length){var i=function(){var i=e(t).scrollLeft();A-i<0&&(o=A-i,A=i),A+s-i>r&&(o=A-(r+i-s),A=r+i-s)},n=function(i,n){a.offset.top-e(t).scrollTop()-l-D-12<0&&n.indexOf("top")>-1&&(F=i),a.offset.top+a.dimension.height+l+12+D>e(t).scrollTop()+e(t).height()&&n.indexOf("bottom")>-1&&(F=i,R=a.offset.top-l-D-12)};this.$tooltip.css("width",""),this.elProxyPosition=this._repositionInfo(this.$elProxy);var o=null,r=e(t).width(),a=this.elProxyPosition,s=this.$tooltip.outerWidth(!1),l=(this.$tooltip.innerWidth(),this.$tooltip.outerHeight(!1));if(this.$elProxy.is("area")){var c=this.$elProxy.attr("shape"),u=this.$elProxy.parent().attr("name"),d=e('img[usemap="#'+u+'"]'),p=d.offset().left,h=d.offset().top,f=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==c){var m=parseInt(f[0]),g=parseInt(f[1]),v=parseInt(f[2]);a.dimension.height=2*v,a.dimension.width=2*v,a.offset.top=h+g-v,a.offset.left=p+m-v}else if("rect"==c){m=parseInt(f[0]),g=parseInt(f[1]);var y=parseInt(f[2]),b=parseInt(f[3]);a.dimension.height=b-g,a.dimension.width=y-m,a.offset.top=h+g,a.offset.left=p+m}else if("poly"==c){for(var S=0,w=0,E=0,_=0,C="even",T=0;T<f.length;T++){var x=parseInt(f[T]);"even"==C?(x>E&&(E=x,0===T&&(S=E)),x<S&&(S=x),C="odd"):(x>_&&(_=x,1==T&&(w=_)),x<w&&(w=x),C="even")}a.dimension.height=_-w,a.dimension.width=E-S,a.offset.top=h+w,a.offset.left=p+S}else a.dimension.height=d.outerHeight(!1),a.dimension.width=d.outerWidth(!1),a.offset.top=h,a.offset.left=p}var A=0,I=0,R=0,D=parseInt(this.options.offsetY),P=parseInt(this.options.offsetX),F=this.options.position;if("top"==F){var L=a.offset.left+s-(a.offset.left+a.dimension.width);A=a.offset.left+P-L/2,R=a.offset.top-l-D-12,i(),n("bottom","top")}if("top-left"==F&&(A=a.offset.left+P,R=a.offset.top-l-D-12,i(),n("bottom-left","top-left")),"top-right"==F&&(A=a.offset.left+a.dimension.width+P-s,R=a.offset.top-l-D-12,i(),n("bottom-right","top-right")),"bottom"==F){L=a.offset.left+s-(a.offset.left+a.dimension.width);A=a.offset.left-L/2+P,R=a.offset.top+a.dimension.height+D+12,i(),n("top","bottom")}if("bottom-left"==F&&(A=a.offset.left+P,R=a.offset.top+a.dimension.height+D+12,i(),n("top-left","bottom-left")),"bottom-right"==F&&(A=a.offset.left+a.dimension.width+P-s,R=a.offset.top+a.dimension.height+D+12,i(),n("top-right","bottom-right")),"left"==F){A=a.offset.left-P-s-12,I=a.offset.left+P+a.dimension.width+12;var k=a.offset.top+l-(a.offset.top+a.dimension.height);if(R=a.offset.top-k/2-D,A<0&&I+s>r){var N=2*parseFloat(this.$tooltip.css("border-width")),O=s+A-N;this.$tooltip.css("width",O+"px"),l=this.$tooltip.outerHeight(!1),A=a.offset.left-P-O-12-N,k=a.offset.top+l-(a.offset.top+a.dimension.height),R=a.offset.top-k/2-D}else A<0&&(A=a.offset.left+P+a.dimension.width+12,o="left")}if("right"==F){A=a.offset.left+P+a.dimension.width+12,I=a.offset.left-P-s-12;k=a.offset.top+l-(a.offset.top+a.dimension.height);if(R=a.offset.top-k/2-D,A+s>r&&I<0){N=2*parseFloat(this.$tooltip.css("border-width")),O=r-A-N;this.$tooltip.css("width",O+"px"),l=this.$tooltip.outerHeight(!1),k=a.offset.top+l-(a.offset.top+a.dimension.height),R=a.offset.top-k/2-D}else A+s>r&&(A=a.offset.left-P-s-12,o="right")}if(this.options.arrow){var M="tooltipster-arrow-"+F;if(this.options.arrowColor.length<1)var U=this.$tooltip.css("background-color");else U=this.options.arrowColor;if(o?"left"==o?(M="tooltipster-arrow-right",o=""):"right"==o?(M="tooltipster-arrow-left",o=""):o="left:"+Math.round(o)+"px;":o="","top"==F||"top-left"==F||"top-right"==F)var B=parseFloat(this.$tooltip.css("border-bottom-width")),H=this.$tooltip.css("border-bottom-color");else if("bottom"==F||"bottom-left"==F||"bottom-right"==F)B=parseFloat(this.$tooltip.css("border-top-width")),H=this.$tooltip.css("border-top-color");else if("left"==F)B=parseFloat(this.$tooltip.css("border-right-width")),H=this.$tooltip.css("border-right-color");else if("right"==F)B=parseFloat(this.$tooltip.css("border-left-width")),H=this.$tooltip.css("border-left-color");else B=parseFloat(this.$tooltip.css("border-bottom-width")),H=this.$tooltip.css("border-bottom-color");B>1&&B++;var j="";if(0!==B){var z="",$="border-color: "+H+";";-1!==M.indexOf("bottom")?z="margin-top: -"+Math.round(B)+"px;":-1!==M.indexOf("top")?z="margin-bottom: -"+Math.round(B)+"px;":-1!==M.indexOf("left")?z="margin-right: -"+Math.round(B)+"px;":-1!==M.indexOf("right")&&(z="margin-left: -"+Math.round(B)+"px;"),j='<span class="tooltipster-arrow-border" style="'+z+" "+$+';"></span>'}this.$tooltip.find(".tooltipster-arrow").remove();var V='<div class="'+M+' tooltipster-arrow" style="'+o+'">'+j+'<span style="border-color:'+U+';"></span></div>';this.$tooltip.append(V)}this.$tooltip.css({top:Math.round(R)+"px",left:Math.round(A)+"px"})}return this},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var i=t.$el.data("tooltipster-ns");if(1===i.length){var n="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html();t.$el.removeClass("tooltipstered").attr("title",n).removeData(t.namespace).removeData("tooltipster-ns").off("."+t.namespace)}else i=e.grep(i,function(e,i){return e!==t.namespace}),t.$el.data("tooltipster-ns",i);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn.tooltipster=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var i=!0;switch(t[0]){case"setDefaults":e.extend(n,t[1]);break;default:i=!1}return!!i||this}return this}if("string"==typeof t[0]){var r="#*$~&";return this.each(function(){var i=e(this).data("tooltipster-ns"),n=i?e(this).data(i[0]):null;if(!n)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof n[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var o=n[t[0]](t[1],t[2]);if(o!==n)return r=o,!1}),"#*$~&"!==r?r:this}var a=[],s=t[0]&&void 0!==t[0].multiple,l=s&&t[0].multiple||!s&&n.multiple;return this.each(function(){var i=!1,n=e(this).data("tooltipster-ns"),r=null;n?l&&(i=!0):i=!0,i&&(r=new o(this,t[0]),n||(n=[]),n.push(r.namespace),e(this).data("tooltipster-ns",n),e(this).data(r.namespace,r)),a.push(r)}),l?a:this};function r(t,i){var n=!0;return e.each(t,function(e,o){if(void 0===i[e]||t[e]!==i[e])return n=!1,!1}),n}var a=!!("ontouchstart"in t),s=!1;e("body").one("mousemove",function(){s=!0});function l(){return!s&&a}function c(){var e=(i.body||i.documentElement).style,t="transition";if("string"==typeof e[t])return!0;v=["Moz","Webkit","Khtml","O","ms"],t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<v.length;n++)if("string"==typeof e[v[n]+t])return!0;return!1}}(jQuery,window,document),function(e,t,i,n){var o,r={},a={};i.$DEBUG=i.$DEBUG||"function () { /* */ }"===function(){}.toString(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i+=1)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(t=i[r],e.call(o,t,r,i))return t}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var r=t[o];if(e.call(n,r,o,t))return o;o++}return-1}}),i.console=i.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),o=i.location,/firefox/i.test(navigator.userAgent)&&(i.oldGetComputedStyle=i.getComputedStyle,i.getComputedStyle=function(e,t){var n=i.oldGetComputedStyle(e,t);return null===n?{getPropertyValue:function(){}}:n}),o.origin||(o.origin=o.protocol+"//"+o.hostname+(o.port?":"+o.port:"")),r={Initialize:function(e){r.Feature=t.extend(!0,r.Feature,e.Feature)}},a={menuToggles:function(){t(".mobile-nav-trigger").nrtToggle({target:["next .nav-toggle-body"],addClass:"open",closeOnClickAnywhere:!1,complete:function(){t(".account-sign-in").hide()}}).on("click",function(){t(this).toggleClass("is-active")}),t(".mobile-model-nav-trigger").nrtToggle({duration:400,target:"next .toggle-body:first",addClass:"open",classTarget:"self",windowMinWidth:0,windowMaxWidth:800,closeOnClickAnywhere:!1}),t(".top-level").each(function(){var e=t(this);e.nrtToggle({duration:400,target:"next .dropdown:first",windowMinWidth:0,windowMaxWidth:800,addClass:"open",complete:function(t){e.find("span:not(.top-level-arrow)").toggleClass("icon-plus2",!t).toggleClass("icon-minus2",t)}})}),t(i).on("enterBreakpoint800",function(e){t(".main-nav .dropdown").attr("style",""),t(".main-nav > ul > li").removeClass("open"),t(".top-level").find("span").removeClass("icon-minus2")}),t(".toggle-trigger").nrtToggle({duration:400,target:"next .toggle-body:first",addClass:"open",classTarget:"self",windowMinWidth:0,windowMaxWidth:800,closeOnClickAnywhere:!1,complete:function(){var n,o=t(this);t(this.nextElementSibling).is(":visible")&&(n=o.attr("class"),t(i).trigger(e.Utility.eEvents.TOGGLE_OPEN_COMPLETE,n))}}),t(".universal-toggle-trigger").each(function(){var e=t(this),i={duration:400,target:"next .universal-toggle-body:first",addClass:"open",classTarget:"self"};e.parents(".map-tools").length?e.nrtToggle(t.extend(i,{accordion:".map-tools .universal-toggle-trigger",closeOnClickAnywhere:!1})):e.nrtToggle(i)}),t(".account-sign-in, #share-dropdown").click(function(e){e.stopPropagation()}),t(".mobile-user-trigger.icon-lock").click(function(e){t(".nav-toggle-body").slideUp(),t(".account-sign-in").fadeToggle(),t("#menu-sign-in > form").find('input[id$="EmailAddress"]').focus(),t(".page-header .wrap").removeClass("open"),e.preventDefault(),e.stopPropagation()}),t(".account-link a.icon-lock").click(function(e){t(".share-tabcontent, #share-dropdown").hide(),t(".account-sign-in .modal-title").hide(),t(".account-sign-in a.btn-close").hide(),t(".account-sign-in").fadeToggle(),t("#menu-sign-in > form").find('input[id$="EmailAddress"]').focus(),t(".page-header .wrap").removeClass("open"),e.preventDefault(),e.stopPropagation()}),t("nav a[data-ref]").each(function(){var e=t(this);e.attr("href",e.data("ref")).removeAttr("data-ref")})},otherToggles:function(){t(n).click(function(e){t(e.target).hasClass("icon-heart")||t(".account-sign-in").fadeOut()}),t(".advanced-search-trigger").nrtToggle({target:".advanced-search",exceptOnClick:".modal-container, .modal-container *, select",duration:400,closeOnClickAnywhere:!1,complete:function(e){t(".advanced-search-trigger").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".mobile-advanced-search-trigger").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".mobile-advanced-search-trigger-map").toggleClass("icon-plus",!e).toggleClass("icon-minus",e)}}).click(function(e){e.preventDefault()}),t(".mobile-advanced-search-trigger").nrtToggle({target:[".advanced-search",".simple-toggle-filters"],duration:400,complete:function(e){t(this).toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".advanced-search-trigger").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".mobile-advanced-search-trigger-map").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".search-form").toggleClass("expanded-mobile",e)}}),t(".mobile-advanced-search-trigger-map").nrtToggle({target:[".advanced-search",".simple-toggle-filters"],duration:400,complete:function(e){t(this).toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".advanced-search-trigger").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".mobile-advanced-search-trigger").toggleClass("icon-plus",!e).toggleClass("icon-minus",e),t(".search-form").toggle(e),t(".search-form").toggleClass("expanded-mobile",e)}}),t(".mobile-search-toggle").nrtToggle({target:".search-form",closeOnClickAnywhere:!1,duration:600,onTrigger:function(e){t(".mobile-advanced-search-trigger").hasClass("icon-minus")&&t(".mobile-advanced-search-trigger").trigger("toggleState")},triggerIf:!0}),t(".trigger-subnav").nrtToggle({target:[".subnav"],duration:400,addClass:"open"}),t(".history-dropdown-trigger").nrtToggle({target:".search-history .dropdown",duration:400,addClass:"open"}),t(".open-house .dropdown-trigger").nrtToggle({target:".open-house .dropdown",addClass:"open",duration:600}),t(".body-office-search-results .mobile-search-toggle, .body-agent-search-results .mobile-search-toggle").nrtToggle({target:".mid-bar",closeOnClickAnywhere:!1,duration:600}),t(".trigger-alpha-nav").nrtToggle({target:".list-alphabet",duration:400,closeOnClickAnywhere:!1,complete:function(){t(this).toggleClass("active")}}).click(function(e){e.preventDefault()})},expandTriggers:function(){t(".trigger-more-info-form").on("click",function(t){e.Utility.ExpandMoreForm(t,this,".js-more-info",0)}),t(".js-more-details-trigger").on("click",function(t){e.Utility.ExpandMore(t,this,".js-more-details",600)}),t(n).on("click","#bio-section",function(t){e.Utility.ExpandMore(t,this,".js-more-body-bio-section",600)}),t(n).on("click","#story-section",function(t){e.Utility.ExpandMore(t,this,".js-more-body-story-section",600)}),t(n).on("click","#remark-section",function(t){e.Utility.ExpandMore(t,this,".js-more-body-remark-section",600)}),t(".js-add-comment").on("click",function(t){e.Utility.ExpandMore(t,this,".js-add-comment-body",0)}),t(".trigger-secondary-search").on("click",function(t){e.Utility.ExpandMore(t,this,".secondary-search",300)}),t(n).on("click",".js-more-description",function(i){t(".description-ellipsis").hide(),e.Utility.ExpandMore(i,this,".js-more-body",600)})},ankleTriggers:function(){t(".ankle-link-trigger").on("click",function(e){t(".ankle-link li").removeClass("hide-links"),t(this).hide(),e.preventDefault()}),t(".ankle-link-city-trigger").on("click",function(e){t(".ankle-link-city li").removeClass("hide-links"),t(this).hide(),e.preventDefault()})},matchHeights:function(){var i,n=[".agent-office-search-preview .agent-block",".agent-office-search-preview .office-block",".agent-office-search .office-block",".office-results .office-block",".agent-team-results .col",".callouts-row .split-3 .callout",".callouts-row .split-4 .callout",".meta-callout-wrap .meta-callout",".tabhead > li > a",".model-homes .col","ul#propertycard_list div.property-snapshot","div.your-properties-mobile div.property-snapshot",".footer-property-snapshot"],o=n.length;for(i=0;i<o;i+=1)t(n[i]).matchHeight(),e.Utility.LogConsole("NRT.Script: matchHeight executed during window.onload for selector: "+n[i])},tabEventsOffice:function(){t(".office-profile .tabhead a").click(function(){t(i).trigger("resize"),t(".property-list-horz .property-snapshot").matchHeight(),e.Utility.LogConsole("NRT.Global: matchHeight executed on office profile tab click")})},bindTooltipster:function(){t(".tooltip").tooltipster({maxWidth:250,position:"bottom"})},bindFancyElements:function(){t("p.fancy-select").focusin(function(){t(this).addClass("input-focus")}).focusout(function(){t(this).removeClass("input-focus")})},bindMLSDisclaimerModals:function(){t("#mls-disclaimer, #mls-disclaimer-mobile, #mls-disclaimer-menu, #mls-disclaimer-search-results, #mls-disclaimer-sip").on("click",function(){t("#mls-disclaimer-modal").lightbox_me({centered:!0})})},initQuickSearch:function(){var i=new e.QuickSearch;i.Initialize("#searchtextMenu",null,!0,"#hdnSearchEntityMenu"),i.SetSearchSource(5),t("form.dropdown-search").submit(function(n){i.SetSearchInfo(null,t("#searchtextMenu").val()),i.GetResults(),e.Utility.PreventDefault(n)})}},t(function(){a.menuToggles(),a.otherToggles(),a.expandTriggers(),a.ankleTriggers(),a.tabEventsOffice(),a.bindTooltipster(),a.bindFancyElements(),a.bindMLSDisclaimerModals(),a.initQuickSearch(),t.fn.matchHeight._maintainScroll=!0,t("#searchtextMenu").on("touchstart click mousedown",function(e){t.each(t(".main-nav > ul > li"),function(e,i){0===e?t(this).addClass("permahover"):t(this).addClass("hidedropdown")}),e.stopPropagation()}),t(n).on("click",function(e){t("li.expanded-width").removeClass("permahover"),t(".hidedropdown").removeClass("hidedropdown")}),t("a.top-level").on("click",function(e){t("li.expanded-width").removeClass("permahover"),t(".hidedropdown").removeClass("hidedropdown")}),t(i).setBreakpoints({distinct:!0,breakpoints:[0,600,800]}),t("#autocompletedropdown, #autocompletedropdown2, div.search-history div.dropdown ul").addClass("notranslate"),t(".trigger-tab a").css("cursor","pointer"),e.Utility.LogConsole("NRT.Global Initialized")}),t(i).load(function(){a.matchHeights()}),e.Global=t.extend(!0,r,e.Global)}(window.NRT,jQuery,window,document),function(){var e=document.getElementsByTagName("html")[0];e.className=e.className.replace(new RegExp("(\\s|^)no-js(\\s|$)"),"js ")}(),function(e,t,i,n,o){var r=function(e,t,i){this.length=0,this.obj=e||{},this.set=t||null,this.clear=i||null,this.updateLength()};r.prototype.length=function(){return this.length},r.prototype.setItem=function(e,t){e=encodeURIComponent(e),this.obj[e]=t,this.updateLength(),this.set&&this.set(JSON.stringify(this.obj))},r.prototype.getItem=function(e){return e=encodeURIComponent(e),void 0===this.obj[e]?null:this.obj[e]},r.prototype.removeItem=function(e){e=encodeURIComponent(e),delete this.obj[e],this.updateLength(),this.set&&this.set(JSON.stringify(this.obj))},r.prototype.key=function(e){var t,i=0;for(t in this.obj){if(i===e)return decodeURIComponent(t);i+=1}return null},r.prototype.clear=function(){this.obj={},this.clear&&this.clear()},r.prototype.toArray=function(){var e,t=[];for(e=0;e<this.length;e+=1)t.push(this.getItem(this.key(e)));return t},r.prototype.numKeys=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&(i+=1);return i},r.prototype.updateLength=function(){this.length=this.numKeys(this.obj)},e.UserStorage=r}(window.NRT,jQuery,window,document);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,i,n,o){var r={},a={};r={eEvents:{HBIB_FAVE_PROP_SAVE:"nrt:hbib:property:faves:saved",HBIB_FAVE_PROP_REMOVE:"nrt:hbib:property:faves:removed",HBIB_RESIZE_SCROLL:"nrt:hbib:resize:scroll",HBIB_PREFERRED_SET:"nrt:hbib:preferred:set",HBIB_PREFERRED_REMOVE:"nrt:hbib:preferred:remove",HBIB_SAVEDSEARCH_REMOVE:"nrt:hbib:savedsearch:remove",HBIB_ACCOUNT_PANEL_LOADED:"nrt:hbib:account:panel:loaded",HBIB_ALERTPREFERENCES_UNSUBSCRIBE:"nrt:hbib:account:alertpreferences:unsubscribe",FORMS_FORM_RESET:"nrt:forms:form:reset",TOGGLE_OPEN_COMPLETE:"nrt:toggle:open:complete",TAB_OPEN_COMPLETE:"nrt:tab:open:complete",LINK_SHOW_COMPLETE:"nrt:link:show:complete",MORTGAGE_CALC_COMPLETE:"nrt:mortgage:calc:complete"},parseUri:function(e){var t=/^(?:([^:\/?\#]+):)?(?:\/\/([^\/?\#]*))?([^?\#]*)(?:\?([^\#]*))?(?:\#(.*))?/,n=t.exec(e),o=t.exec(i.location.href);return{protocol:(n[1]||o[1])+":",authority:n[2]||o[2],path:n[3]?"/"===n[3][0]?n[3]:"/"+n[3]:"/",query:n[4]&&"?"+n[4],fragment:n[5]&&"#"+n[5]}},LogConsole:function(e){void 0!==i.console&&"function"==typeof console.log&&console.log(e)},FormatCurrency:function(e,t,i){var n,o=e.toString().replace(/\$|\,/g,""),r=Math.floor(100*parseFloat(o)+.50000000001),a=r===(r=Math.abs(r)),s=r%100,l=s.toString();for(r=Math.floor(r/100).toString(),s<10&&(l="0"+l),n=0;n<Math.floor((r.length-(1+n))/3);n++)r=r.substring(0,r.length-(4*n+3))+","+r.substring(r.length-(4*n+3));return!0===t?(a?"":"-")+i+r+"."+l:(a?"":"-")+i+r},FormatCommas:function(e){return a.toLocaleStringSupportsOptions()?e.toLocaleString("en-US"):e.toLocaleString()},Compose:function(e,t){return function(i){return e(t(i))}},ExecuteOnNth:function(e,t,i){var n=0;return function(){return++n!==t?void 0:e.apply(i||this,arguments)}},AccumulatorArray:function(){var e=[];return function(t){return e.push(t),e}},AcumArrayExecuteOnNth:function(e,t,i){var n=this.ExecuteOnNth(e,t,i);return this.Compose(n,this.AccumulatorArray())},TimeDistribute:function(e,t,n){var o,r=0;return function(){o=arguments,i.setTimeout(function(){e.apply(n||this,o)},t*r++)}},ReadMore:function(e,i){var n,o,r=i||750,a=e||".bio-section",s=a.substring(1),l=0,c=0,u=!1,d=t(a),p=d.children().length,h=t("<Readmore></ReadMore>"),f=t('<span><a class="more js-more-trigger" id="'+s+'" href="#">Read more</a></span>'),m=0;0!==d.length&&(d.children().each(function(e,i){"#text"===i.nodeName&&void 0===i.innerHTML||(n="js-more-body-"+s,o=t(i).html().trim().length,c=l+o,u?(m+=o,i.className=n):(l>=r||c>=r)&&c>=r&&(u=!0,e+1<p&&(e+1,t(i).append(h))),l+=o)}),m>0?h.replaceWith(f):h.replaceWith(null))},ReadMoreProperty:function(e,i){var n,o,r=i||750,a=e||".bio-section",s=a.substring(1),l=0,c=0,u=!1,d=t(a),p=d.children().length,h=t("<Readmore></ReadMore>"),f=t('<span><a class="more js-more-trigger" id="'+s+'" href="#">Read more</a></span>');0!==d.length&&(d.children().each(function(e,i){"#text"===i.nodeName&&void 0===i.innerHTML||(n="js-more-body-"+s,o=t(i).html().trim().length,c=l+o,u?i.className=n:((l>=r||c>=r)&&(u=!0),e+1<p?t(i).append(h):i.className=n),l+=o)}),u?h.replaceWith(f):h.replaceWith(null))},UpdateUrlParam:function(e,t,i){var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+i+"$2"):e+o+t+"="+i},GetQueryStringParam:function(e){var t,n,o=i.location.search.substring(1).split("&"),r=o.length;for(n=0;n<r;n+=1)if((t=o[n].split("="))[0]===e)return t[1];return null},AssembleUrl:function(e){var t="";return e&&e.length>0&&(t="/"+e.join("/")+"/"),t},CancelEvent:function(e){return(e=arguments[0]||i.event).preventDefault(),e.stopPropagation(),e.cancelBubble=!0,t(e.target).off("click").off("mousedown").off("mouseup"),!1},PreventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},ScrubLocationName:function(e){return t.map(e.split(","),t.trim).join(", ")},Debounce:function(e,t){var n,o,r;return function(){o=this,r=arguments,i.clearTimeout(n),n=i.setTimeout(function(){e.apply(o,r)},t)}},Throttle:function(e,t){var n=!1,o=function(){n=!1};return function(){n||(e.apply(this,arguments),i.setTimeout(o,t),n=!0)}},ExpandMore:function(e,i,n,o){e.preventDefault(),o=void 0!==o?o:400,t(n).slideToggle(o),t(i).hide()},ExpandMoreForm:function(e,i,n,o){e.preventDefault(),o=void 0!==o?o:400,t(i).parent().find(n).slideToggle(o),t(i).hide()},BaseOrigin:function(){var e=n.location.href,i=t("body"),o=t("div.hbib-properties-drawer div.wrap div.trigger-body:visible");return{HM:i.hasClass("home"),PD:i.hasClass("body-property-detail")&&e.indexOf("/pid_")>-1,NDD:i.hasClass("body-property-detail")&&e.indexOf("/did_")>-1,MD:i.hasClass("body-property-detail")&&e.indexOf("/mid_")>-1,PSR:i.hasClass("body-property-search-results"),HBIB:i.hasClass("hbib"),HBSP:i.hasClass("hbib")&&e.indexOf("/account/savedproperties/")>-1,HBRV:i.hasClass("hbib")&&e.indexOf("/account/recentlyviewedproperties/")>-1,HBHD:i.hasClass("hbib")&&e.indexOf("/account/hiddenproperties/")>-1,HBSS:i.hasClass("hbib")&&e.indexOf("/account/savedsearches/")>-1,HBAP:i.hasClass("hbib")&&e.indexOf("/account/alertpreferences/")>-1,HBPA:i.hasClass("hbib")&&e.indexOf("/account/preferredagent/")>-1,HBPI:i.hasClass("hbib")&&e.indexOf("/account/personalinformation/")>-1,OP:i.hasClass("layout-two-col")&&e.indexOf("/oid_")>-1,AP:i.hasClass("agent-detail")&&e.indexOf("/aid_")>-1,TP:i.hasClass("agent-detail")&&e.indexOf("/tid_")>-1,MAP:i.hasClass("layout-two-col")&&e.indexOf("/maid_")>-1,DRRV:o.find("div#recentlyvieweddrawer.drawer-tab").hasClass("active"),DRSP:o.find("div#savedpropertiesdrawer.drawer-tab").hasClass("active"),DRSS:o.find("div#savedsearchesdrawer.drawer-tab").hasClass("active"),LP:i.hasClass("body-location-profile"),SM:e.indexOf("/sitemap/")>-1,SLP:i.hasClass("seller-leads")}},StorageClientFactory:function(t){var n,o,r,s;if(a.localStoreSupport())try{i.localStorage.setItem("nrttest","42"),o=i.localStorage.getItem("nrttest"),i.localStorage.removeItem("nrttest")}catch(e){!1}return"42"===o?(r=i.localStorage.getItem(t),n=new e.UserStorage(r?JSON.parse(r):{},function(e){i.localStorage.setItem(t,e)},function(){i.localStorage.removeItem(t)})):(s=a.readCookie(t),n=new e.UserStorage(s?JSON.parse(s):{},function(e){a.createCookie(t,e,2)},function(){a.createCookie(t,"",2)})),n},CountItemsInRow:function(e,i){var n,o,r=0;return t(e+" > "+i).each(function(){if(o=t(this).offset().top,void 0===n&&(n=o),o!==n)return!1;r+=1}),r},AbbreviateNumber:function(t){var i;return t>=1e8?i=Math.round(t/1e6)+"M":t>=1e6?i=1e4*Math.round(t/1e4)/1e6+"M":t>=1e3?"1000k"===(i=Math.round(t/1e3)+"k")&&(i="1M"):i=t,e.Utility.LogConsole("NRT.Utility.AbbreviateNumber: executed"),i},GenerateOnAjaxError:function(t,i){return function(n,o,r){var a="NRT"+(t?"."+t:"unspecified module method")+": Ajax Error";throw"function"==typeof i&&i(n,o,r),e.Event.Raise(e.Event.eError.ASYNC_ERROR,a,n,o,r),e.Utility.LogConsole(a+": "+n.toString()),new Error(a)}},checkElementInView:function(e){var n=e.offset().top,o=n+e.outerHeight(),r=t(i).scrollTop(),a=r+t(i).height();return e.is(":visible")&&o>r&&n<a}},a={createCookie:function(e,t,i){var o,r;i?((o=new Date).setTime(o.getTime()+24*i*60*60*1e3),r="; expires="+o.toGMTString()):r="",n.cookie=e+"="+t+r+"; path=/"},readCookie:function(e){var t,i,o=e+"=",r=n.cookie.split(";"),a=r.length;for(t=0;t<a;t+=1){for(i=r[t];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o))return i.substring(o.length,i.length)}return null},localStoreSupport:function(){try{return"localStorage"in i&&null!==i.localStorage}catch(e){return!1}},toLocaleStringSupportsOptions:function(){return!("object"!==("undefined"==typeof Intl?"undefined":_typeof(Intl))||!Intl||"function"!=typeof Intl.NumberFormat)}},r.BaseOrigin.prototype.toString=function(){return this.HM?"home":this.PD?"property detail":this.NDD?"new development detail":this.MD?"model detail":this.PSR?"property search results":this.HBSP?"hbib - saved properties":this.HBRV?"hbib - recently viewed properties":this.HBHD?"hbib - hidden properties":this.HBSS?"hbib - saved searches":this.HBPA?"hbib - preferred agent":this.HBPI?"hbib - personal info":this.OP?"office profile":this.AP?"agent profile":this.TP?"team profile":this.MAP?"mortgage advisor profile":this.DRRV?"drawer - recently viewed":this.DRSP?"drawer - saved properties":this.DRSS?"drawer - saved searches":this.LP?"location page":this.SM?"sitemap":"unknown"},e.Utility=r}(window.NRT,jQuery,window,document),function(e,t,i,n){e=t.extend(!0,e,{Utility:{MediaQueryEvents:function(){}}});var o={eEvents:{MQ_MOBILE_ENTER:"psr:mediaquery:mobile:enter",MQ_MOBILE_EXIT:"psr:mediaquery:mobile:exit",MQ_TABLET_ENTER:"psr:mediaquery:tablet:enter",MQ_TABLET_EXIT:"psr:mediaquery:tablet:exit",MQ_DESKTOP_ENTER:"psr:mediaquery:desktop:enter",MQ_DESKTOP_EXIT:"psr:mediaquery:desktop:exit",MQ_PSR_MAP_ENTER:"psr:mediaquery:psrmap:enter",MQ_PSR_MAP_EXIT:"psr:mediaquery:psrmap:exit"},eCurrentDisplayMode:{MOBILE:0,TABLET:1,DESKTOP:2,PSRMAP:3},currentDisplayMode:0},r={mobile_max:600,tablet_min:601,tablet_max:800,desktop_min:801,psr_map_min:1001,currentMode:function(e){o.currentDisplayMode=e},initialize:function(){o.currentDisplayMode=o.eCurrentDisplayMode.MOBILE,enquire.register("screen and (max-width:"+r.mobile_max+"px)",{match:function(){t(n).trigger(o.eEvents.MQ_MOBILE_ENTER),r.currentMode(o.eCurrentDisplayMode.MOBILE)},unmatch:function(){t(n).trigger(o.eEvents.MQ_MOBILE_EXIT)},setup:function(){e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event initialize : Mobile")},destroy:function(){t(n).off(o.eEvents.MQ_MOBILE_ENTER),t(n).off(o.eEvents.MQ_MOBILE_EXIT),e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event destroy : Mobile")},deferSetup:!0}),enquire.register("screen and (min-width:"+r.tablet_min+"px) and (max-width:"+r.tablet_max+"px)",{match:function(){t(n).trigger(o.eEvents.MQ_TABLET_ENTER),r.currentMode(o.eCurrentDisplayMode.TABLET)},unmatch:function(){t(n).trigger(o.eEvents.MQ_TABLET_EXIT)},setup:function(){e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event initialize : Tablet")},destroy:function(){t(n).off(o.eEvents.MQ_TABLET_ENTER),t(n).off(o.eEvents.MQ_TABLET_EXIT),e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event destroy : Tablet")},deferSetup:!0}),enquire.register("screen and (min-width:"+r.desktop_min+"px)",{match:function(){t(n).trigger(o.eEvents.MQ_DESKTOP_ENTER),r.currentMode(o.eCurrentDisplayMode.DESKTOP)},unmatch:function(){t(n).trigger(o.eEvents.MQ_DESKTOP_EXIT)},setup:function(){e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event initialize : Desktop")},destroy:function(){t(n).off(o.eEvents.MQ_DESKTOP_ENTER),t(n).off(o.eEvents.MQ_DESKTOP_EXIT),e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event destroy : Desktop")},deferSetup:!0}),e.Utility.BaseOrigin().PSR&&enquire.register("screen and (min-width:"+r.psr_map_min+"px)",{match:function(){t(n).trigger(o.eEvents.MQ_PSR_MAP_ENTER),r.currentMode(o.eCurrentDisplayMode.PSRMAP)},unmatch:function(){t(n).trigger(o.eEvents.MQ_PSR_MAP_EXIT)},setup:function(){e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event initialize : PSR Map")},destroy:function(){t(n).off(o.eEvents.MQ_PSR_MAP_ENTER),t(n).off(o.eEvents.MQ_PSR_MAP_EXIT)},deferSetup:!0})}};t(n).on(o.eEvents.MQ_PSR_MAP_ENTER+" "+o.eEvents.MQ_PSR_MAP_EXIT+" "+o.eEvents.MQ_DESKTOP_ENTER+" "+o.eEvents.MQ_DESKTOP_EXIT+" "+o.eEvents.MQ_TABLET_ENTER+" "+o.eEvents.MQ_TABLET_EXIT+" "+o.eEvents.MQ_MOBILE_ENTER+" "+o.eEvents.MQ_MOBILE_EXIT,function(t){e.Utility.LogConsole("NRT.Utility.MediaQueryEvents: Event :"+t.type)}),r.initialize(),e.Utility.MediaQueryEvents=o}(window.NRT,jQuery,window,document);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,i){var n,o={},r=["id"];function a(e){for(var t=r.length;t--;)if(r[t]===e)return!1;return!0}if(o.set=function(i,n){null===n?o.delete(i):2===arguments.length&&a(i)&&("object"===(void 0===n?"undefined":_typeof(n))&&(n=JSON.stringify(n)),t.setItem(e+i,n))},o.get=function(i){var n=t.getItem(e+i);try{var o=JSON.parse(n)}catch(e){return n}return o},o.delete=function(i){a(i)&&t.removeItem(e+i)},o.item=function(e,t){return 2===arguments.length?o.set(e,t):o.get(e)},!(n=o.get("id"))){var s=(new Date).getTime();n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(s+16*Math.random())%16|0;return s=Math.floor(s/16),("x"==e?t:3&t|8).toString(16)}),t.setItem(e+"id",n)}Object.defineProperty(o,"id",{value:n,enumerable:!0,configurable:!1,writeable:!1});var l=o.get("Locations"),c=NRT.Utility.BaseOrigin();o.set("Locations",{previous:l&&l.current||"unknown",current:c.LP?"lp":c.HM?"hp":c.PSR?"psr":c.SM?"sm":"unknown"}),i.NRT=i.NRT||{},NRT.session=Object.freeze(o)}("nrt.session.",sessionStorage,window),function(e,t,i){var n={eError:{GENERAL_ERROR:"nrt:error:general",ASYNC_ERROR:"nrt:error:async",INCONTACT_ERROR:"nrt:error:incontact",FORM_ERROR:"nrt:error:form",THIRD_PARTY_ERROR:"nrt:error:thirdparty"},eAction:{PROPERTY_SAVED:"nrt:property:saved",PROPERTY_DELETED:"nrt:property:deleted",PROPERTY_SHARED:"nrt:property:shared",PROPERTY_HIDDEN:"nrt:property:hidden",SEARCH_SAVED:"nrt:search:saved",SEARCH_DEFAULT_ALERTS_SAVED:"nrt:search:defaultalerts:saved",SEARCH_ALERTS_SAVED:"nrt:search:alerts:saved",SEARCH_DELETED:"nrt:search:deleted",SEARCH_DYM:"nrt:search:dym",USER_SIGNUP:"nrt:user:signup",USER_SIGNIN:"nrt:user:signin",SUBSCRIBER_ALERTS_SAVED:"nrt:subscriber:alerts:saved",SUBSCRIBER_PROFILE_SAVED:"nrt:subscriber:profile:saved",SUBSCRIBER_ALERTS_REMOVED:"nrt:subscriber:alerts:removed"},eTrackingOrigin:{PS_FAV_ICN:"ps_fav_icn",PS_HID_ICN:"ps_hid_icn",PS_EAF_NOT_LNK:"ps_eaf_not_lnk",PS_RMI_NOT_LNK:"ps_rmi_not_lnk",PS_SAS_NOT_LNK:"ps_rmi_not_lnk",PS_SHARE:"ps_share",PD_FAV_BTN:"pd_fav_btn",PD_HID_ICN:"pd_hid_icn",PD_RCV_LRT_LNK:"pd_rcv_lrt_lnk",PD_EAF_NOT_LNK:"pd_eaf_not_lnk",PD_RMI_NOT_LNK:"pd_rmi_not_lnk",PD_SAS_NOT_LNK:"pd_sas_not_lnk",PD_SHARE:"pd_share",DR_RV_FAV_ICN:"dr_rv_fav_icn",DR_SP_FAV_ICN:"dr_sp_fav_icn",HB_SP_EAF_NOT_LNK:"hb_sp_eaf_not_lnk",HB_SP_FAV_ICN:"hb_sp_fav_icn",HB_SP_SHARE:"hb_sp_share",HB_RV_EAF_NOT_LNK:"hb_rv_eaf_not_lnk",HB_RV_FAV_ICN:"hb_rv_fav_icn",HB_RV_SHARE:"hb_rv_share",HB_HD_EAF_NOT_LNK:"hb_hd_eaf_not_lnk",HB_HD_FAV_ICN:"hb_hd_fav_icn",HB_HD_SHARE:"hb_hd_share",PS_SS_TOP_LNK:"ps_ss_top_lnk",PS_SS_TOP_MBL_LNK:"ps_ss_top_mbl_lnk",PS_SS_ZER_LNK:"ps_ss_zer_lnk",PS_SS_BOT_LNK:"ps_ss_bot_lnk",USER_SIGNIN_PA:"user_signin_pa",USER_SIGNIN_TM:"user_signin_tm",PD_SM_CAR_C2A_SAS_BTN:"pd_sm_car_c2a_sas_btn",PD_SM_CAR_C2A_FAV_LNK:"pd_sm_car_c2a_fav_lnk",PD_SM_CAR_C2A_SHR_LNK:"pd_sm_car_c2a_shr_btn",PD_SM_VWR_C2A_SAS_BTN:"pd_sm_vwr_c2a_sas_btn",PD_SM_VWR_C2A_FAV_LNK:"pd_sm_vwr_c2a_fav_lnk",PD_SM_VWR_C2A_SHR_LNK:"pd_sm_vwr_c2a_shr_btn",PD_LG_CAR_C2A_SAS_BTN:"pd_lg_car_c2a_sas_btn",PD_LG_CAR_C2A_FAV_LNK:"pd_lg_car_c2a_fav_lnk",PD_LG_CAR_C2A_SHR_LNK:"pd_lg_car_c2a_shr_btn",PD_LG_VWR_C2A_SAS_BTN:"pd_lg_vwr_c2a_sas_btn",PD_LG_VWR_C2A_FAV_LNK:"pd_lg_vwr_c2a_fav_lnk",PD_LG_VWR_C2A_SHR_LNK:"pd_lg_vwr_c2a_shr_btn"},Throw:function(e){throw new Error(e)},Raise:function(e){var n=Array.prototype.slice.call(arguments,1);t(i).trigger(e,n)}};t(window).load(function(){var o=[];for(var r in n.eError)o.push(n.eError[r]);t(i).on(o,function(i,n){var o="NRT.Event.Raise\n---------------\n Event is: "+i.type+",\n Arguments are:\n",r=0;t(arguments).each(function(){r>0&&(o+="arg"+r+":"+JSON.stringify(this)+",\n"),r+=1}),e.Utility.LogConsole(o)}),t(i).on(n.eAction.PROPERTY_SAVED,function(t,i,n){var o="NRT.Event detected\n------------------\nEvent is:"+t.type+"\npid:"+i+"\norigin:"+n;e.Utility.LogConsole(o)}),t(i).on(n.eAction.SEARCH_SAVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.SEARCH_DEFAULT_ALERTS_SAVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.SEARCH_ALERTS_SAVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.SUBSCRIBER_ALERTS_REMOVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.SUBSCRIBER_ALERTS_SAVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.SUBSCRIBER_PROFILE_SAVED,function(t,i){var n="NRT.Event detected\n------------------\nEvent is:"+t.type+"\norigin:"+i;e.Utility.LogConsole(n)}),t(i).on(n.eAction.PROPERTY_HIDDEN,function(t,i,n){var o="NRT.Event detected\n------------------\nEvent is:"+t.type+"\npid:"+i+"\norigin:"+n;e.Utility.LogConsole(o)}),t(i).on(n.eAction.USER_SIGNUP,function(t,i){e.Utility.LogConsole(["NRT.Event detected","------------------","Event is: "+t.type,"SignUp type: "+i].join("\n"))}),t(i).on(n.eAction.USER_SIGNIN,function(t,i,n,o){e.Utility.LogConsole(["NRT.Event detected","------------------","Event is: "+t.type,"SignIn type: "+i,"Origin: "+n,"preEvent:"+o].join("\n"))}),t(i).on(n.eAction.PROPERTY_SHARED,function(t,i,n,o,r){e.Utility.LogConsole(["NRT.Event detected","------------------","Event is: "+t.type,"Social network: "+i,"Social action: "+n,"pid: "+o,"origin: "+r].join("\n"))}),t(i).on(n.eAction.SEARCH_DYM,function(t,i,n,o,r){e.Utility.LogConsole(["NRT.Event detected","------------------","Event is: "+t.type,"type: "+i,"origin: "+n,"DYMinput: "+o,"DYMassumed: "+r].join("\n"))})}),e.Event=n}(window.NRT,jQuery,document),function(e,t,i){e.Spinner=function(n,o){var r={spinTimeout:null,spinner:null,spinning:!1,config:{lines:11,length:11,width:7,radius:15,color:"#fff",speed:1.1,trail:55,shadow:!1,corners:.95},customElement:null,defaultElement:"#spinhighlight",defaultOverlay:'<div id="spincycle"><div class="spinnerOverlay"></div><div id="spinhighlight" class="spinnerContainer"><div style="position:absolute;left:50%;top:50%;"><div class="spinnerUnderlay"></div></div><div class="spinner"></div></div></div>',createOverlay:function(){t("body").append(this.defaultOverlay)},removeOverlay:function(){var e=t("#spincycle");e.length&&e.remove()},Spin:function(){if(e.Utility.LogConsole("Spinning with "+this.config.color.toString()),!this.spinning){this.spinning=!0;var n=null;this.customElement?n=t(this.customElement)[0]:(this.createOverlay(),n=t(this.defaultElement)[0]),this.spinner.spin(n),this.spinTimeout&&clearTimeout(this.spinTimeout);var o=this;this.spinTimeout=i.setTimeout(function(){o.Stop(),this.spinTimeout=null},9e3)}},Stop:function(){this.spinTimeout&&i.clearTimeout(this.spinTimeout),this.spinner.stop(),this.spinning=!1,this.removeOverlay()}};return n&&(r.customElement=n),o&&t.extend(r.config,o),r.spinner=new Spinner(r.config),r.spinning=!1,r}}(window.NRT,jQuery,window),function(e,t,i){var n={},o={};n={ShowStatusSlider:function(e,i,n){var r=t(o.statusSelector),a=r.find(o.statusMessage),s=null,l=!0,c=!0,u=null;null!==e&&void 0!==e&&e.length>0&&a.text(e),i&&((s=r.find(o.statusExtra)).html(i),s.length>0&&("function"==typeof n?s.show(0,function(){n(),l=!1,c=!1,u={background:"black",opacity:.6}}):s.show(0))),r.lightbox_me({lightboxSpeed:500,overlaySpeed:300,appearEffect:"slideDown",appearEase:"swing",centered:!1,closeEsc:l,closeClick:c,modalCSS:{top:0},showOverlay:null!==u,overlayCSS:u,onLoad:function(){"function"!=typeof n&&(o._statusTimer=setTimeout(function(){r.fadeOut(500,function(){r.trigger("close")})},o.statusDisplayTime))},onClose:function(){null!==o._statusTimer&&clearTimeout(o._statusTimer),null!==s&&s.html("").hide(),a.text("Completed.")}})},ShowErrorSlider:function(e,i,n){var r=t(o.errorSelector),a=r.find(o.errorMessage),s=null,l=!0,c=!0,u=null;null!==e&&void 0!==e&&e.length>0&&a.text(e),i&&((s=r.find(o.errorExtra)).html(i),s.length>0&&("function"==typeof n?s.show(0,function(){n(),l=!1,c=!1,u={background:"black",opacity:.6}}):s.show(0))),r.lightbox_me({lightboxSpeed:500,overlaySpeed:300,appearEffect:"slideDown",appearEase:"swing",centered:!1,closeEsc:l,closeClick:c,modalCSS:{top:0},showOverlay:null!==u,overlayCSS:u,onLoad:function(){"function"!=typeof n&&(o._errorTimer=setTimeout(function(){r.fadeOut(500,function(){r.trigger("close")})},o.statusDisplayTime))},onClose:function(){null!==o._errorTimer&&clearTimeout(o._errorTimer),null!==s&&s.html("").hide(),a.text("Oops! An error occurred.")}})},CloseStatusSlider:function(){var e=t(o.statusSelector);e.slideUp(500,function(){e.trigger("close")})},CloseErrorSlider:function(){var e=t(o.errorSelector);e.slideUp(500,function(){e.trigger("close")})}},o={statusSelector:"div#StatusSlider",statusMessage:"div#StatusMessage",statusExtra:"div#StatusExtra",errorSelector:"div#ErrorSlider",errorMessage:"div#ErrorMessage",errorExtra:"div#ErrorExtra",statusDisplayTime:4e3,_statusTimer:null,_errorTimer:null},e.StatusSlider=n}(window.NRT,jQuery),function(e,t){var i={Initialize:function(i,n,o,r,a,s,l){var c,u,d,p,h,f,m,g,v=n.length,y=[],b=[];for(null===a&&(a="#autocompletedropdown"),d=0;d<v;d+=1)(p=t(n[d]).first())&&(y.push(p),b.push(!0));if(u=y.length,l)for(c=l.length,h=0;h<c;h+=1)b[h]=l[h];t.widget("custom.catcomplete",t.ui.autocomplete,{_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,i){return t("<li>").append(t("<a><strong>").text(i.label)).appendTo(e)}}),t(i).autocomplete({delay:250,minLength:3,source:function(i,n){t.ajax({url:o,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({term:i.term,type:r,maxResults:5})}).done(function(e){n(t.map(e,function(e){return{label:e.EntityName,value:e}}))}).always(function(){if(u>0)for(f=0;f<v;f+=1)b[f]&&t(y[f]).val("")}).fail(function(t,i,n){var o="NRT.Autocomplete.autocomplete: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n),new Error(o)})},change:function(e,n){if(""===t(i).val()&&u>0)for(m=0;m<v;m+=1)b[m]&&t(y[m]).val("")},select:function(e,i){return t(this).val(i.item.value.EntityName),u>0&&t(y[0]).val(i.item.value.EntityID),u>1&&t(y[1]).val(i.item.value.EntityTypeID),u>2&&t(y[2]).val(i.item.value.Zone),u>3&&t(y[3]).val(i.item.value.SearchUrl).trigger("change"),s&&"function"==typeof s&&s(),!1},appendTo:a,focus:function(e,i){return i.item&&e&&(38===e.keyCode||40===e.keyCode)&&t(this).val(i.item.value.EntityName),!1},open:function(e,i){return t(a).addClass("auto-complete-dropdown"),t(".ui-corner-all a").removeClass(),!1},close:function(){return t(a).removeClass("auto-complete-dropdown"),!1}}).focusout(function(){if(""===t(i).val()&&u>0)for(g=0;g<v;g+=1)b[g]&&t(y[g]).val("")}).data("uiAutocomplete")._renderMenu=function(i,n){var o,r=this;t.each(n,function(t,n){0===t&&(o=41===e.Profile.Zone?"LOCATION":"CITY",i.append('<strong class="meta-title">'+o+"</strong>")),r._renderItemData(i,n)})}}};e.AutoComplete=i}(window.NRT,jQuery),function(e,t){var i={},n={};i={Load:function(e){n.clear(),n.load(e)},Add:function(e){return n.add(e)},AddRaw:function(i,o,r,a){var s=e.SearchLocationsCommon.CreateLocation(i,o,r,a);return s?n.add(s):(t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_INVALID,s),null)},Remove:function(e){n.remove(e)},RemoveRaw:function(i,o,r,a){var s=e.SearchLocationsCommon.CreateLocation(i,o,r,a);s?n.remove(s):t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_INVALID,s)},GetPrimary:function(){var e=null;return n.locations&&n.locations.length&&(e=n.locations[0]),e},GetPrimaryZone:function(){return n.locations&&n.locations.length?n.locations[0].zone:n.oldPrimaryZone},Count:function(){var e=0;return n.locations&&(e=n.locations.length),e},GetLocations:function(){return t.extend(!0,[],n.locations)},Clear:function(){var i=n.clear();t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_CLEARED,i),t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_PRIMARY_CHANGED)},SyncSuggestedLocations:function(i,n){var o,r,a,s,l=t("#nearbyItems input, #historyItems input"),c=l.length;if(void 0===i||void 0===n)for(r=(o=e.SearchLocationsCollection.GetLocations()).length,l.attr({checked:!1,disabled:!1}),a=0;a<r;a+=1)for(s=0;s<c;s+=1)o[a].entityId===t(l[s]).data("location").entityId&&(l[s].checked=!0,l[s].disabled=!0);else for(a=0;a<c;a+=1)i===t(l[a]).data("location").entityId&&(l[a].checked=n,l[a].disabled=n)}},n={locations:[],oldPrimaryZone:null,MQ_EVENTS:e.Utility.MediaQueryEvents,clear:function(){var e=n.locations[0];return e&&e.zone&&(n.oldPrimaryZone=e.zone),n.locations=[],e},load:function(e){var t;if(e&&e.length)for(t=0;t<e.length;t+=1)n.add(e[t])},add:function(o){return e.SearchLocationsCommon.ContainsLocation(n.locations,o)?(t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_EXISTS,o),e.Utility.LogConsole("nrt.SearchLocationsCollection.add: LOCATION_EXISTS, location not added to collection, location = "+JSON.stringify(o)),null):null!==o?(n.locations.push(o),n.MQ_EVENTS.currentDisplayMode<n.MQ_EVENTS.eCurrentDisplayMode.DESKTOP&&i.SyncSuggestedLocations(o.entityId,!0),e.Utility.LogConsole("nrt.SearchLocationsCollection.add: add location to collection, location = "+JSON.stringify(o)),t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_ADDED,o),1===n.locations.length&&t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_PRIMARY_CHANGED,o),o):(e.Utility.LogConsole("nrt.SearchLocationsCollection: location is null.  Not added to locations collection."),null)},remove:function(o){var r,a,s=null;if(!e.SearchLocationsCommon.ContainsLocation(n.locations,o))return null;for(r=n.locations.length-1;r>=0;r-=1)if(e.SearchLocationsCommon.AreLocationsEqual(n.locations[r],o)){a=n.locations.splice(r,1)[0],n.MQ_EVENTS.currentDisplayMode<n.MQ_EVENTS.eCurrentDisplayMode.DESKTOP&&i.SyncSuggestedLocations(o.entityId,!1),e.Utility.LogConsole("nrt.SearchLocationsCollection.remove: remove existing location, location = "+JSON.stringify(o)),0===r&&(n.locations.length>0?s=n.locations[0]:(n.oldPrimaryZone=a.zone,t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_CLEARED,a)),t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_PRIMARY_CHANGED,s));break}t(document).trigger(e.SearchFilters.Enums.eEvents.LOCATION_REMOVED,o)}},e.SearchLocationsCollection=i}(window.NRT,jQuery),function(e){var t={},i={};t={IsValidLocation:function(e,t,n,o){return i.isValidLocation(e,t,n,o)},CreateLocation:function(e,t,n,o){return i.createLocation(e,t,n,o)},AreLocationsEqual:function(e,t){return i.areLocationsEqual(e,t)},ContainsLocation:function(e,t){return i.containsLocation(e,t)},GetStandardizedCasing:function(e){return i.getStandardizedCasing(e)}},i={eLocationTypes:{City:0,Community:1,StreetAddress:2,SchoolDistrict:3,County:4,Zip:5,School:6,MLSNumber:9},isValidLocation:function(e,t,n,o){var r=Object.keys(i.eLocationTypes).some(function(e){return i.eLocationTypes[e]===t});return e>1&&o&&r&&(n>0||t===i.eLocationTypes.Zip&&-2===n)},createLocation:function(e,t,n,o){return i.isValidLocation(e,t,n,o)?{zone:e,entityType:t,entityId:n,displayText:o}:null},areLocationsEqual:function(e,t){return e&&t&&e.zone===t.zone&&e.entityType===t.entityType&&e.entityId===t.entityId&&(e.entityId>0||e.displayText===t.displayText)},containsLocation:function(e,t){var n,o,r=!1;if(e&&e.length&&t)for(o=e.length,n=0;n<o&&!(r=i.areLocationsEqual(e[n],t));n+=1);return r},getStandardizedCasing:function(e){return e&&(e.Zone||e.EntityType||e.EntityId||e.DisplayText||e.Text)?{zone:e.Zone,entityType:e.EntityType,entityId:e.EntityId,displayText:void 0!==e.DisplayText?e.DisplayText:e.Text}:null}},e.SearchLocationsCommon=t}(window.NRT),function(e){var t={},i={};t={Initialize:function(t,n,o,r){i.initialize(),i.currentLocation=e.SearchLocationsCommon.CreateLocation(t,n,o,r),e.SearchLocationsCollection.Add(i.currentLocation)},AddSearchLocation:function(t,n,o,r){var a=e.SearchLocationsCommon.CreateLocation(t,n,o,r);return a&&(i.initialized||i.initialize(),i.addSearchLocation(a)),a},GetLocations:function(){return i.getSearchLocationHistory()}},i={initialized:!1,searchLocationsKey:"nrt:searchLocations",searchLocationsStorage:null,currentLocation:null,searchLocations:null,initialize:function(){i.searchLocationsStorage=e.Utility.StorageClientFactory(i.searchLocationsKey),i.searchLocations=i.getSearchLocationsFromStorage(),i.initialized=!0},getSearchLocationsFromStorage:function(){var t=i.searchLocationsStorage.getItem("locations");return t=t||[],e.Utility.LogConsole("nrt.SearchLocationsHistory.getSearchLocations: returned locations from local storage"),t},saveSearchLocations:function(){i.searchLocationsStorage.setItem("locations",i.searchLocations),e.Utility.LogConsole("nrt.SearchLocationsHistory.saveSearchLocations: locations saved to local storage")},addSearchLocation:function(t){var n;if(t){for(n=i.searchLocations.length-1;n>=0;n-=1)e.SearchLocationsCommon.AreLocationsEqual(i.searchLocations[n],t)&&(i.searchLocations.splice(n,1),e.Utility.LogConsole("nrt.SearchLocationsHistory.addLocation: remove & replace existing location, location = "+t.displayText));i.searchLocations.unshift(t),e.Utility.LogConsole("nrt.SearchLocationsHistory.addLocation: add new search location, location = "+t.displayText),i.searchLocations.length>10&&(i.searchLocations.splice(10),e.Utility.LogConsole("nrt.SearchLocationsHistory.addLocation: remove excess locations")),i.saveSearchLocations()}},getSearchLocationHistory:function(){var t,n,o=[],r=i.searchLocations.length,a=0;for(n=0;n<r&&(t=i.searchLocations[n],e.SearchLocationsCommon.AreLocationsEqual(t,i.currentLocation)||(o.push(t),a+=1,e.Utility.LogConsole("nrt.SearchLocationsHistory.getSearchLocationHistory: add search location, location = "+t.displayText),5!==a));n++);return o}},e.SearchLocationsHistory=t}(window.NRT),function(e,t,i,n){var o=function(e,i){this.completes=0,this.element=e,this.options=t.extend({},r.defaults,i),this.$toggleTargets=t(),this._defaults=r.defaults,this._name=r.pluginName,this.init()},r={pluginName:"nrtToggle",defaults:{complete:null,addClass:null,classTarget:"parent",onTrigger:null,triggerIf:"both",isOn:!1,isOpen:!1,duration:400,hide:"",target:"",windowMaxWidth:null,windowMinWidth:null,closeOnClickAnywhere:!0,exceptOnClick:"",accordion:""}};o.prototype.init=function(){this.addTargets(),t(this.element).click(t.proxy(this.onClick,this)),t(this.element).on("toggleState",t.proxy(this.onToggle,this))},o.prototype.addTargets=function(){var e,i=this,n=t(this.element);"[object Array]"===Object.prototype.toString.call(this.options.target)?t.each(this.options.target,o):o(0,this.options.target);function o(o,r){e=r,"string"==typeof r&&(e=0===r.indexOf("self")?n.find(t.trim(r.replace("self",""))):0===r.indexOf("next")?n.nextAll(t.trim(r.replace("next",""))):t(r)),e.each(function(e,t){i.$toggleTargets.push(t)})}},o.prototype.onToggle=function(e){var n=t(i).outerWidth();null!==this.options.windowMinWidth&&n<this.options.windowMinWidth||null!==this.options.windowMaxWidth&&n>this.options.windowMaxWidth||(this.completes=0,this.toggle())},o.prototype.onClick=function(e){var n;this.options.closeOnClickAnywhere&&!t(this.element).is(e.originalEvent.target)&&this.options.exceptOnClick&&t(e.originalEvent.target).is(this.options.exceptOnClick)||t(e.originalEvent.target).closest(this.$toggleTargets).length||(e.preventDefault(),e.stopPropagation(),this.completes=0,e.originalEvent.target,n=t(i).outerWidth(),null!==this.options.windowMinWidth&&n<this.options.windowMinWidth||null!==this.options.windowMaxWidth&&n>this.options.windowMaxWidth||this.toggle())},o.prototype.toggle=function(){""!==this.options.hide&&t(this.options.hide+":visible").not(this.$toggleTargets).slideToggle(this.options.duration),this.options.accordion&&t(this.options.accordion).filter(".open").not(this.element).each(function(){t(this).data("plugin_"+r.pluginName).toggle()}),this.$toggleTargets.slideToggle(this.options.duration,t.proxy(this.onComplete,this)),"string"==typeof this.options.addClass&&("self"===this.options.classTarget?t(this.element).toggleClass(this.options.addClass):t(this.element).parent().toggleClass(this.options.addClass)),"function"==typeof this.options.onTrigger&&(!0===this.options.triggerIf&&this.options.isOn?this.options.onTrigger.call(this.element,!this.options.isOpen):!1!==this.options.triggerIf||this.options.isOn?"both"===this.options.triggerIf&&this.options.onTrigger.call(this.element,!this.options.isOpen):this.options.onTrigger.call(this.element,!this.options.isOpen))},o.prototype.onComplete=function(){var e;++this.completes===this.$toggleTargets.length&&(this.options.isOpen=!this.options.isOpen,"function"==typeof this.options.complete&&this.options.complete.call(this.element,this.options.isOpen)),this.options.isOn=!this.options.isOn,this.options.closeOnClickAnywhere&&(e=this,this.options.isOn?t(n).on("click."+this._name,t.proxy(e.onClick,e)):(t(e.$toggleTargets).off("click.dropdown"),t(n).off("click."+this._name)))},t.fn[r.pluginName]=function(e){return this.each(function(){t.data(this,"plugin_"+r.pluginName)||t.data(this,"plugin_"+r.pluginName,new o(this,e))})}}(window.NRT,jQuery,window,document),function(e){var t,i=function(){var e=[],t=!1;function i(){t||(t=!0,window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,66))}function n(){e.forEach(function(e){e()}),t=!1}function o(t){t&&e.push(t)}return{init:function(e){window.addEventListener("resize",i),o(e)},add:function(e){o(e)}}}(),n=0;e.fn.resetBreakpoints=function(){e(window).unbind("resize"),n=0},e.fn.breakpointHandler=function(){var i=e(window).width(),o=!1;for(var r in t.breakpoints.sort(function(e,t){return t-e})){if(i==n)return;if(!o&&i>=t.breakpoints[r]&&n<t.breakpoints[r]){if(t.distinct){for(var a in t.breakpoints.sort(function(e,t){return t-e}))e("body").hasClass("breakpoint-"+t.breakpoints[a])&&(e("body").removeClass("breakpoint-"+t.breakpoints[a]),e(window).trigger({type:"exitBreakpoint"+t.breakpoints[a],down:n>i,up:n<i}));o=!0}e("body").addClass("breakpoint-"+t.breakpoints[r]),e(window).trigger({type:"enterBreakpoint"+t.breakpoints[r],down:n>i,up:n<i})}i<t.breakpoints[r]&&n>=t.breakpoints[r]&&(e("body").removeClass("breakpoint-"+t.breakpoints[r]),e(window).trigger({type:"exitBreakpoint"+t.breakpoints[r],down:n>i,up:n<i})),t.distinct&&i>=t.breakpoints[r]&&i<t.breakpoints[r-1]&&n>i&&n>0&&!e("body").hasClass("breakpoint-"+t.breakpoints[r])&&(e("body").addClass("breakpoint-"+t.breakpoints[r]),e(window).trigger({type:"enterBreakpoint"+t.breakpoints[r],down:n>i,up:n<i}))}n!=i&&(n=i)},e.fn.setBreakpoints=function(n){if(t=e.extend({distinct:!0,breakpoints:new Array(320,480,768,1024)},n),window.requestAnimationFrame)i.init(e(window).breakpointHandler);else{var o;window.addEventListener("resize",function(){o||(o=setTimeout(function(){o=null,e(window).breakpointHandler()},66))},!1)}}}(jQuery),
/*!
 *
 * jQuery Tabset
 * Created by Anthony Colangelo (http://acolangelo.com)
 * 
 * @Copyright © 2012 Anthony Colangelo
 *
*/
function(e){e.tabset=function(t){t=e.extend({header:".tabset > h3",content:".tabset > div",activeIndex:0,activeClass:"active",before:function(){},after:function(){},fireHandlersOnInitialization:!0,registeredHandlers:[]},t);var i=e(t.header),n=e(t.content),o=i;i.is("a")||(o=o.find("a"));function r(o,r){if(r&&t.before(),i.removeClass(t.activeClass).eq(o).addClass(t.activeClass),n.removeClass(t.activeClass).hide(),n.eq(o).show().addClass(t.activeClass),r){var a="",s=e(i)[o];s&&(a=s.id),t.after(o,a)}}r(t.activeIndex,t.fireHandlersOnInitialization);var a=function(n){r(i.index(e(this).closest(t.header)),!0),n.preventDefault()};o.on("click",a),t.registeredHandlers.push({clickables:o,handler:a})}}(jQuery),function(e,t,i,n){var o={Initialize:function(o){var r,a=n.getElementsByTagName("script")[0];t(n).on("nrt:facebook:sdk:initialized",function(){e.FacebookLogin.Initialize({clickSelector:".account-sign-in .facebook-signin",onLogin:function(){e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(n).trigger(e.Event.eAction.USER_SIGNIN,["fb_manual",e.Event.eTrackingOrigin.USER_SIGNIN_TM]),e.session.item("LoggedInStatus","FBLoggedIn")),i.location.reload(),e.Utility.LogConsole("NRT.Facebook.Initialize: NRT.FacebookLogin initialized - reloading")}})}),i.fbAsyncInit=function(){FB.init({appId:o,cookie:!0,xfbml:!1,version:"v2.9"}),t(n).trigger("nrt:facebook:sdk:initialized"),e.Utility.LogConsole("NRT.Facebook.Initialize: window.fbAsyncInit completed")},n.getElementById("facebook-jssdk")||((r=n.createElement("script")).id="facebook-jssdk",r.src=i.location.protocol+"//connect.facebook.net/en_US/sdk.js",r.async=!0,a.parentNode.insertBefore(r,a),e.Utility.LogConsole("NRT.Facebook.Initialize: facebook script loaded"))}};e.Facebook=o}(window.NRT,jQuery,window,document),function(e,t,i){var n={},o={};n={LogOutAsync:function(){var e=t.Deferred();return FB.getLoginStatus(function(t){t&&"connected"===t.status?FB.logout(function(){e.resolve()}):e.resolve()}),e.promise()},LoginAsync:function(){var e=t.Deferred();return FB.getLoginStatus(function(t){t&&"connected"===t.status?(o.checkPermissionsAndContinueLogIn(),e.resolve()):e.resolve()}),e.promise()},Initialize:function(e){e&&(e.onLogin&&"function"==typeof e.onLogin&&(o.onLogin=e.onLogin),e.returnUrl&&""!==e.returnUrl&&(o.returnUrl=e.returnUrl),e.cancelUrl&&""!==e.cancelUrl&&(o.cancelUrl=e.cancelUrl),t(e.clickSelector).off("click").on("click",function(e){e.preventDefault(),o.logIn()}))}},o={onLogin:null,returnUrl:"",cancelUrl:"",requestPermissions:function(){var e=t.Deferred();return FB.login(function(t){e.resolve()},{scope:"email",auth_type:"rerequest"}),e.promise()},requestPermissionsAndRespond:function(){var e=o;FB.login(function(t){t.authResponse&&e.checkPermissionsAndRespond().done(function(t){t&&e.continueLogIn()})},{scope:"email"})},checkPermissions:function(){var e,i,n,o,r=t.Deferred(),a=!1;return FB.api("/me/permissions",function(t){for(e=t.data,i=e.length,o=0;o<i;o+=1)"email"===(n=e[o]).permission&&"granted"===n.status&&(a=!0);r.resolve(a)}),r.promise()},checkPermissionsAndRespond:function(){var i=o.checkPermissions(),n=t.Deferred();return i.done(function(t){t||e.StatusSlider.ShowErrorSlider("You must grant permission to your Facebook email."),n.resolve(t)}),n.promise()},checkPermissionsAndContinueLogIn:function(e){var t=o;t.checkPermissions().done(function(i){i?t.continueLogIn(e):t.requestPermissions().done(function(){t.checkPermissionsAndRespond().done(function(i){i&&t.continueLogIn(e)})})})},requestLogIn:function(){var e=o;FB.login(function(t){t.authResponse&&e.checkPermissionsAndContinueLogIn()},{scope:"email"})},continueToProfile:function(){i.location.assign(e.Utility.AssembleUrl(["subscriber","myprofile"]))},continueToFacebookConnect:function(t,n){var r,a=o;FB.api("/me",{fields:"link"},function(o){r=e.Utility.AssembleUrl(["subscriber","facebookconnectconfirm"])+"?userid="+t+"&email="+n+"&profileurl="+encodeURIComponent(o.link),a.returnUrl&&""!==a.returnUrl&&(r+="&returnurl="+a.returnUrl),a.cancelUrl&&""!==a.cancelUrl&&(r+="&cancelurl="+a.cancelUrl),i.location.assign(r)})},continueToRegister:function(r,a){var s=o;FB.api("/me",{fields:"first_name,last_name"},function(o){t.post(e.Utility.AssembleUrl(["subscriber","registerwithfacebook"]),{userId:r,firstName:o.first_name,lastName:o.last_name,email:a,returnUrl:s.returnUrl}).done(function(o){o.success?(t(document).trigger(e.Event.eAction.USER_SIGNUP,["fb_createAccount"]),o.returnUrl&&""!==o.returnUrl?i.location.href=o.returnUrl:n.continueToProfile()):e.StatusSlider.ShowErrorSlider()}).fail(function(){})})},continueLogIn:function(i){var n=o;FB.api("/me",{fields:"email"},function(o){o.email&&""!==o.email?t.ajax({url:e.Utility.AssembleUrl(["subscriber","facebooklogincallback"]),type:"POST",data:{userId:o.id,email:o.email}}).done(function(e){switch(e.returnCode){case 1:n.onLogin&&"function"==typeof n.onLogin?n.onLogin():n.continueToProfile();break;case 2:i&&n.continueToFacebookConnect(o.id,o.email);break;case 3:n.continueToRegister(o.id,o.email)}}):e.StatusSlider.ShowErrorSlider()})},logIn:function(){var e=o;FB.getLoginStatus(function(t){t&&("connected"===t.status?e.checkPermissionsAndContinueLogIn(!0):"not_authorized"===t.status?e.requestPermissionsAndRespond():e.requestLogIn())})}},e.FacebookLogin=n}(window.NRT,jQuery,window),function(e,t){var i={},n={};i={Initialize:function(i){i&&(n.$connect=t(i.connectSelector),n.$disconnect=t(i.disconnectSelector),n.$connectLnk=t("a",n.$connect),n.$disconnectLnk=t("a",n.$disconnect),n.$disconnectDlg=t("#facebook-disconnect-dialog"),n.$passwordOnlyDlg=t("#password-only-dialog"),n.$passwordOnlyFrm=t("#password-only-form",n.$passwordOnlyDlg),n.$connectLnk.off("click").on("click",function(e){e.preventDefault(),n.connect()}),n.$disconnectLnk.off("click").on("click",function(e){e.preventDefault(),n.verifyDisconnect()}),t("#facebook-disconnect-form",n.$disconnectDlg).off("submit").on("submit",function(e){e.preventDefault(),n.disconnect()}),n.$passwordOnlyFrm.off("submit",n.$passwordOnlyDlg).on("submit",n.$passwordOnlyDlg,function(e){e.preventDefault(),n.updatePassword()}),e.Validate.Unobtrusive.Parse(n.$passwordOnlyFrm))}},n={$connect:null,$disconnect:null,$connectLnk:null,$disconnectLnk:null,$disconnectDlg:null,$passwordOnlyDlg:null,$passwordOnlyFrm:null,requestPermissions:function(){var e=t.Deferred();return FB.login(function(t){e.resolve()},{scope:"email",auth_type:"rerequest"}),e.promise()},requestPermissionsAndRespond:function(){FB.login(function(e){if(e.authResponse){n.checkPermissionsAndRespond().done(function(e){e&&n.continueConnect()})}},{scope:"email"})},checkPermissions:function(){var e,i,n,o,r=t.Deferred(),a=!1;return FB.api("/me/permissions",function(t){for(e=t.data,i=e.length,o=0;o<i;o+=1)"email"===(n=e[o]).permission&&"granted"===n.status&&(a=!0);r.resolve(a)}),r.promise()},checkPermissionsAndRespond:function(){var i=n.checkPermissions(),o=t.Deferred();return i.done(function(t){t||e.StatusSlider.ShowErrorSlider("You must grant permission to your Facebook email."),o.resolve(t)}),o.promise()},checkPermissionsAndContinueLogIn:function(){n.checkPermissions().done(function(e){e?n.continueConnect():n.requestPermissions().done(function(){n.checkPermissionsAndRespond().done(function(e){e&&n.continueConnect()})})})},requestLogIn:function(){FB.login(function(e){e.authResponse&&n.checkPermissionsAndRespond().done(function(e){e&&n.continueConnect()})},{scope:"email"})},continueConnect:function(){FB.api("/me",function(i){t.post(e.Utility.AssembleUrl(["subscriber","facebookconnect"]),{userId:i.id}).done(function(t){t.success?(n.$connect.hide(),n.$disconnect.show()):e.Utility.LogConsole("NRT.FacebookConnect.continueConnect: Ajax Response: not success")}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.FacebookConnect.continueConnect: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})})},connect:function(){FB.getLoginStatus(function(e){"connected"===e.status?n.checkPermissionsAndContinueLogIn():"not_authorized"===e.status?n.requestPermissionsAndRespond():n.requestLogIn()})},updatePassword:function(){n.$passwordOnlyFrm.valid()&&t.post(e.Utility.AssembleUrl(["subscriber","updatepasswordonly"]),n.$passwordOnlyFrm.serialize()).done(function(i){i.success?n.disconnect():(n.$passwordOnlyDlg.html(i.html),n.$passwordOnlyFrm=t("#password-only-form",n.$passwordOnlyDlg),t.validator.unobtrusive.parse(n.$passwordOnlyFrm),e.Validate.Unobtrusive.Parse(n.$passwordOnlyFrm))}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.FacebookConnect.updatePassword: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},requestPassword:function(){n.$passwordOnlyDlg.lightbox_me({centered:!0,onClose:function(){n.$passwordOnlyFrm.validate().resetForm(),t('input[id$="Password"]',n.$passwordOnlyFrm).val("")}})},disconnectFB:function(){var e=t.Deferred();return FB.getAccessToken()?FB.api("/me/permissions","DELETE",function(t){e.resolve(t)}):e.resolve({success:!0}),e.promise()},disconnect:function(){t.post(e.Utility.AssembleUrl(["subscriber","facebookdisconnect"])).done(n.onDisconnect).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.FacebookConnect.disconnect: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},verifyDisconnect:function(){n.$disconnectDlg.lightbox_me({centered:!0})},onDisconnect:function(t){var i;t.success?n.disconnectFB().done(function(t){if(!t||!t.success)throw e.StatusSlider.ShowErrorSlider(),i="NRT.FacebookConnect.disconnect: Ajax Error",e.Event.Raise(e.Event.eError.ASYNC_ERROR,i,t,"fail",t.err),t.err&&e.Utility.LogConsole(t.err),new Error(i);n.$disconnectDlg.trigger("close"),n.$passwordOnlyDlg.trigger("close"),n.$disconnect.hide(),n.$connect.show()}):(n.$disconnectDlg.trigger("close"),n.requestPassword())}},e.FacebookConnect=i}(window.NRT,jQuery),function(e,t,i,n,o,r){e=t.extend(!0,e,{HBIB:{}});var a={},s={};a={OnFailure:function(){s.spinner.Stop(),e.StatusSlider.ShowErrorSlider()},ConfirmSetPreferred:function(i,n,o){s.cPopupData={isTeam:i,entityId:n},t(s.dialogPlaceHolderSel).load(e.Utility.AssembleUrl(["subscriber","returnconfirmpopup"]),{title:a.GetPreferredTitle(i),message:a.GetPreferredMessage(!0,i,o),submitEvent:e.Utility.eEvents.HBIB_PREFERRED_SET,submitText:"Ok"},function(){t(".flex-video, .flex-video-module").css("visibility","hidden"),t("#subscriberConfirmDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0,onClose:function(){t(".flex-video, .flex-video-module").css("visibility","visible")}})})},SetPreferredAgentTeam:function(){var i={entityId:s.cPopupData.entityId.toString(),isTeam:s.cPopupData.isTeam};t.ajax({url:e.Utility.AssembleUrl(["subscriber","setpreferredagentteam"]),type:"POST",data:i}).done(function(){"setpreferred"===decodeURIComponent(e.Utility.GetQueryStringParam("completeaction"))?n.top.location.href=n.top.location.pathname:n.top.location.reload()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.SetPreferredAgentTeam: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){t("#subscriberConfirmDialog").trigger("close")})},GetPreferredTitle:function(e){return e?"Your Team":"Your Agent"},GetPreferredMessage:function(e,t,i){return e?i+" will be set as your preferred "+(t?"team":"agent")+"?":"Are you sure you want to remove "+i+" as your preferred "+(t?"team":"agent")+"?"},ConfirmDeletePreferred:function(i,n,o){s.cPopupData={isTeam:i,entityId:n},t(s.dialogPlaceHolderSel).load(e.Utility.AssembleUrl(["subscriber","returnconfirmpopup"]),{title:a.GetPreferredTitle(i),message:a.GetPreferredMessage(!1,i,o),submitEvent:e.Utility.eEvents.HBIB_PREFERRED_REMOVE,submitText:"Ok"},function(){t(".flex-video, .flex-video-module").css("visibility","hidden"),t("#subscriberConfirmDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0,onClose:function(){t(".flex-video, .flex-video-module").css("visibility","visible")}})})},RemoveProfilePreferredAgentTeam:function(){t.ajax({url:e.Utility.AssembleUrl(["subscriber","removepreferredagentteam"]),type:"POST"}).done(function(){n.top.location.reload()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.RemoveProfilePreferredAgentTeam: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){t("#subscriberConfirmDialog").trigger("close")})},IsSaved:function(i){var n=t('a.icon-heart[data-pid="'+i+'"]:visible'),o=n.hasClass("favorite")||n.parent("p").hasClass("link-icon");return e.Utility.LogConsole("Listing "+i+" was "+(n.length>0?"":"not")+" found."),e.Utility.LogConsole("Listing "+i+" is "+(o?"":"not")+" a favorite."),o},SwitchIconFavorite:function(e,i){var n=i?"Remove from favorites":"Add to favorites",o='a.icon-heart[data-pid="'+e+'"]',r=function(){return t(this).parent("p").hasClass("action-bar")?"<span>Save"+(i?"d":"")+"</span>":'<span class="visually-hidden">'+n+"</span>"};t(o).each(function(){var e=t(this);t.inArray(e.data("origin"),["pd_lg_vwr_c2a_fav_lnk","pd_receive_alerts_link"])>-1?e.parent().toggleClass("hide",i):e.toggleClass("favorite",i).attr("title",n).attr("alt",n).html(r)}),t("body").hasClass("body-property-detail")&&(t("div.property-save p.link-icon:has("+o+"),div.property-save p.btn-save:has("+o+")").toggleClass("link-icon",i).toggleClass("btn-save",!i).find("span").text(i?"This property is saved":"Save this property"),t("div.property-save p.meta-link:has("+o+")").toggleClass("hide",i),i&&a.SwitchIconHide(e,!1))},SwitchIconHide:function(e,i){var n=i?"Hidden":"Hide",o=i?"Unhide this property":"Hide this property";t("body").hasClass("body-property-detail")&&t('a.icon-hide[data-pid="'+e+'"]').each(function(){var e=t(this);e.attr("title",o).attr("alt",o).find("span").text(n),i?e.addClass("hidden"):e.removeClass("hidden")})},AddPropertyToFavorites:function(i,r,l,c){if(s.isSubscriber&&s.isAuthenticated){var u,d=e.Utility.GetQueryStringParam("msg"),p=!1;d&&"acct"===d&&!s.displayedAccountCreated&&(s.displayedAccountCreated=!0,p=!0),u={listingId:i,isSetDefaultEmailAlert:!!r},t.ajax({url:e.Utility.AssembleUrl(["subscriber","saveproperty"]),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(u)}).done(function(r){r.success?p?e.StatusSlider.ShowStatusSlider(s.messages.accountCreated,r.message):e.StatusSlider.ShowStatusSlider(r.message):p&&e.StatusSlider.ShowErrorSlider(s.messages.accountCreated),o.location.href.indexOf("/account/")>-1&&a.RemoveHiddenListing(i),a.SwitchIconFavorite(i,!0),c&&c(),n.frameElement&&"detail-iframe"===n.frameElement.id&&n.top.App.reloadResults(),t(o).trigger(e.Event.eAction.PROPERTY_SAVED,[i,l]),e.Utility.LogConsole("nrt.HBIB > Added Favorite on "+e.Utility.BaseOrigin().toString())}).fail(function(t,i,n){p?e.StatusSlider.ShowErrorSlider(s.messages.accountCreated,"Oops! An error occurred."):e.StatusSlider.ShowErrorSlider("Oops! An error occurred.");var o="NRT.HBIB.addPropertyToFavorites: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})}else{var h,f,m,g=s.authDialog.find("p.not-a-member a");self!==top?((f=o.createElement("a")).href=e.session.get("pdModal").urls[0],(m=JSON.parse(sessionStorage.getItem("nrt.session.pdModal"))).isSyncing=!0,sessionStorage.setItem("nrt.session.pdModal",JSON.stringify(m)),h=f.pathname+n.top.location.search):h=n.top.location.pathname+n.top.location.search,g.prop("href","/sign-up/?ReturnURL="+encodeURIComponent(h)),e.CompleteActionStorage.setItem("saveproperty",{name:"saveproperty",created:new Date,params:i+"|"+(r||"")+"|"+l}),new e.HBIB.LoginAjax(s.authForm).BindForm(function(){s.isUserSignedIn=!0,s.authDialog.trigger("close"),e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(o).trigger(e.Event.eAction.USER_SIGNIN,["manual","modal_prompt",l]),e.session.item("LoggedInStatus","ManualLoggedIn")),e.Utility.LogConsole("NRT.HBIB.AddPropertyToFavorites: logged in with Facebook!"),"#ViewAllPhotos"===n.top.location.hash?n.top.location.href=h:n.top.location.reload()}),e.FacebookLogin.Initialize({clickSelector:".account-sign-in-modal .facebook-signin",onLogin:function(){e.Utility.LogConsole("NRT.HBIB.AddPropertyToFavorites: logged in with Facebook!"),e.HBIB.IsWindowNameSet(NRT.session.item("LoggedInStatus"))||(t(o).trigger(e.Event.eAction.USER_SIGNIN,["fb_manual","modal_prompt",l]),NRT.session.item("LoggedInStatus","FBLoggedIn")),s.isUserSignedIn=!0,n.top.location.href=h},returnUrl:encodeURIComponent(h),cancelUrl:encodeURIComponent(n.location.pathname+n.location.search)}),s.authDialog.lightbox_me({centered:!0,modalCSS:{top:t(n).scrollTop()+40+"px"},onClose:function(){s.isUserSignedIn||e.CompleteActionStorage.removeItem("saveproperty")}})}},RemovePropertyFromFavorites:function(i,r,s){var l={listingId:i};t.ajax({url:e.Utility.AssembleUrl(["subscriber","deleteproperty"]),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(l)}).done(function(l){!0===l.success&&(e.StatusSlider.ShowStatusSlider(l.message),t(o).trigger(e.Event.eAction.PROPERTY_DELETED,[i,r])),t("div#savedpropertiesview").length>0&&a.LoadAppState(a.GetCurrentAppState(),!0,!0),a.SwitchIconFavorite(i,!1),s&&s(),n.frameElement&&"detail-iframe"===n.frameElement.id&&n.top.App.reloadResults(),e.Utility.LogConsole("nrt.HBIB > Removed Favorite on "+e.Utility.BaseOrigin().toString())}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.removePropertyFromFavorites: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},ConfirmDeleteSavedSearch:function(i){s.cPopupData={searchId:i},t(s.dialogPlaceHolderSel).load(e.Utility.AssembleUrl(["subscriber","returnconfirmpopup"]),{title:"Delete this search",message:"Are you sure you want to delete this saved search?",submitEvent:e.Utility.eEvents.HBIB_SAVEDSEARCH_REMOVE,submitText:"Continue"},function(){t("#subscriberConfirmDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0})})},DeleteSavedSearch:function(){var i={searchId:s.cPopupData.searchId};t.ajax({type:"POST",url:e.Utility.AssembleUrl(["subscriber","deletesearch"]),data:i,dataType:"json",cache:!1}).done(function(t){t.success?a.LoadAppState(a.GetCurrentAppState(),!0,!0):e.StatusSlider.ShowErrorSlider()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.DeleteSavedSearch: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){t("#subscriberConfirmDialog").trigger("close")})},UpdateSavedSearchAlert:function(i,n){var o={searchId:i,IsSavedSearchAlertActive:n};t.ajax({url:e.Utility.AssembleUrl(["subscriber","updatesavedsearchalert"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(o)}).done(function(e){var o='[{"name":"#searchAlert'+i+'on", "value": "'+(n?"on-active":" ")+'"}, {"name":"#searchAlert'+i+'off", "value": "'+(n?" ":"off-active")+'"}]',r=JSON.parse(o);r.length>0&&(t(r[0].name).removeClass().addClass(r[0].value),t(r[1].name).removeClass().addClass(r[1].value))}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.updateSavedSearchAlert: Ajax Error";throw e.Evemt.Raise(e.Event.eError.ASYNC_ERROR,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},OnSuccessPersonalInfoSaved:function(i){t.validator.unobtrusive.parse("#personal-information-form"),e.Validate.Unobtrusive.Parse("#personal-information-form"),i.success&&(t("#hbib-account-name").text(i.acctName+"'s Account"),t("#form").html(i.html),t("#saveSuccessDialog").lightbox_me({centered:!0}))},ConfirmDisableAccount:function(){t("#disableAccountDialog").lightbox_me({centered:!0,modalCSS:{"max-width":"500px"},onClose:function(){!0===s.isDisableSuccess&&(t("#saveSuccessDialog p.modal-title").html("Delete your account"),t("#saveSuccessDialogText").html("Your account has been deleted."),t("#saveSuccessDialog").lightbox_me({centered:!0,modalCSS:{"min-width":"400px"},closeClick:!1,onClose:function(){n.location.href=s.redirectUrl}}))}})},OnSuccessDisableAccount:function(i){s.isDisableSuccess=!0,s.redirectUrl=i.Url,e.FacebookLogin.LogOutAsync().done(function(){t("#disableAccountDialog").trigger("close")})},LoadAlertPreferencesTab:function(){var e=a.CreateHBIBAppState({activeHeaderTab:"alertpreferences"});a.LoadAppState(e),a.SetMobilePropertyDropDown(),a.SetMobileAlertPreferences()},LoadMorePreferredAgentTeams:function(i,n,o){var r={AgentName:i,TeamName:n,pageNumber:o};t.ajax({url:e.Utility.AssembleUrl(["subscriber","preferredagentteamsearchresults"]),type:"GET",contentType:"application/json",dataType:"html",data:r,beforeSend:function(){s.spinner.Spin()}}).done(function(e){t("#agentteam-load-more").replaceWith(e),t(".agent-search-results-lite").show()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.loadMorePreferredAgentTeams: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){s.spinner.Stop()})},OnBeginAgentTeamSearch:function(){s.spinner.Spin()},OnSuccessLoggedInAgentTeamSearch:function(){var e="",i=t("#AgentName").val(),n=t("#TeamName").val();0===i.length&&0===n.length||(e=i.length>0?'Agents matching "'+i+'"':"",i.length>0&&n.length>0&&(e+=" and "),e+=n.length>0?'Teams matching "'+n+'"':""),t("#register-search-header").html(e),s.spinner.Stop()},InitializePreferredAgentTeamSearch:function(){var i=t("#agent-team-search-page").val();t("register"===i?"#results":"div#preferredagentview").on("click","a.reg-agent-team",function(e){e.preventDefault();var n=s.getAgentTeamInfo(this),o=null,r="",l=!1;void 0!==n&&null!==n&&n.length&&(o=n[0],r=n[2],l=n[3],"register"===i?(t('input[id$="PreferredEntityId"]').val(o),t('input[id$="PreferredIsTeam"]').val(l),t(this).parents("form").submit()):a.ConfirmSetPreferred(l,o,r))}),"register"===i&&t("#agent-team-search-btn").on("click",function(i){var n,o=t(this),r="",a="",l=t(".agent-search-results-lite"),c=t("#results"),u=t("#register-search-header"),d="";o.attr("disabled","disabled"),i.preventDefault(),r=t("#register-agentname").val(),a=t("#register-teamname").val(),c.empty(),u.empty(),l.hide(),0!==r.length||0!==a.length?(0===r.length&&0===a.length||(d=r.length>0?'Agents matching "'+r+'"':"",r.length>0&&a.length>0&&(d+=" and "),d+=a.length>0?'Teams matching "'+a+'"':""),s.spinner.Spin(),n=t("#agent-team-search :input").serializeArray(),t.ajax({url:e.Utility.AssembleUrl(["subscriber","preferredagentteamsearchresults"]),type:"GET",contentType:"application/json",dataType:"html",data:n}).done(function(e){c.html(e),u.text(d),l.show()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.initializePreferredAgentTeamSearch: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){o.removeAttr("disabled"),s.spinner.Stop()})):o.removeAttr("disabled")})},ForgotPassword:function(){var i=t("#login-form .js-subscriber-login-email-address").val();t(s.dialogPlaceHolderSel).load(e.Utility.AssembleUrl(["subscriber","returnforgotpassword"]),{subscriberEmail:i},function(){t("div.modal-message").show(),t("div.modal-response").hide(),t("#forgotPasswordDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0,modalCSS:{width:"400px"}})})},ForgotPasswordRequest:function(){var i,o={subscriberEmail:t('#forgotPasswordDialog input[id="EmailAddress"]').val()};t.ajax({type:"POST",url:e.Utility.AssembleUrl(["subscriber","forgotpassword"]),data:o,dataType:"json",cache:!1}).done(function(e){e.success?(t("div.modal-response p").html(e.responseTxt),t("div.modal-message").hide(),t("div.modal-response").show()):(i=t("#forgotPasswordDialog p.form-block").addClass("error").find("span.field-validation-valid").html(e.responseTxt).addClass("message"),n.frameElement&&"detail-iframe"===n.frameElement.id&&i.on("click","#btnForgotPasswdSignUpSubmit",function(e){e.preventDefault(),top.location=t(e.target).attr("href")+"?ReturnURL="+encodeURIComponent(top.location.pathname+top.location.search)}))}).fail(function(t,i,n){a.OnFailure();var o="NRT.HBIB.forgotPasswordRequest: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},ForgotPasswordCompact:function(){var i=t("div.dropdown .js-subscriber-login-email-address").val();t(s.dialogPlaceHolderCompactSel).load(e.Utility.AssembleUrl(["subscriber","returnforgotpassword"]),{subscriberEmail:i},function(){t("div.modal-message").show(),t("div.modal-response").hide(),t("#forgotPasswordDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0,modalCSS:{width:"400px"}})})},KickoffApp:function(i){var o,r,l,c,u=n.history;if(s.isAuthenticated){if(o="properties"===(r=t(".with-tabs .tabhead").children(".active").attr("id"))?t("section.tabcontent div.nav-your-properties").children("ul").children(".active").attr("id"):t("#"+r).children("a").data("updatetarget"),1,s.isDesktop()?u.state?(e.Utility.LogConsole("MyProfile.cshtml script > restoring state > calling LoadAppState >"),a.LoadAppState(u.state,!1,!0,function(){l=a.GetCurrentAppState(),u.replaceState(l,"",l.url)})):(c=a.CreateHBIBAppState({activeHeaderTab:r,activeTab:o,pageNumber:1,sortOrder:1}),e.Utility.LogConsole("MyProfile.cshtml script > no state for "+n.location.href+" > calling LoadAppState >"),a.LoadAppState(c,!1,!0,function(){l=a.GetCurrentAppState(),e.Utility.LogConsole("MyProfile > Replacing state with > "),a.LogAppState(l),u.replaceState(l,"",l.url)})):u.state?(e.Utility.LogConsole("MyProfile.cshtml script > restoring state > calling LoadAppState >"),a.LoadAppState(u.state,!1,!0,function(){a.SetMobilePropertyDropDown(),l=a.GetCurrentAppState(),a.SetMobileTabUIForAppState(l),u.replaceState(l,"",l.url)})):(c=a.CreateHBIBAppState({activeHeaderTab:r,activeTab:o,pageNumber:1,sortOrder:1}),e.Utility.LogConsole("MyProfile.cshtml script > no state for "+n.location.href+" > calling LoadAppState >"),a.LoadAppState(c,!1,!0,function(){l=a.GetCurrentAppState(),e.Utility.LogConsole("MyProfile > Replacing state with > "),a.LogAppState(l),u.replaceState(l,"",l.url)})),a.InitializePreferredAgentTeamSearch(),a.InitializeMyProfile(),i)switch(o){case"alertpreferences":a.SetMobileAlertPreferences();break;default:a.SetMobileRecentlyViewed()}}else n.location.href=e.Utility.AssembleUrl(["sign-in"])},OnChangeSortBy:function(e,t){var i,n=e.replace(new RegExp("view$"),"");(i=a.GetCurrentAppState()).sortOrder=t,i.pageNumber=1,a.LoadAppState(i,!1,!1,function(){"savedsearches"===n&&a.GetSavedSearchesNewListingCounts(!1)})},RegisterTabClickHandler:function(){t(".hbib .tabhead a, .hbib .toggle-trigger").click(function(){if(s.isDesktop()||!1!==t(this).hasClass("open")){var e,i=t(this).data("updatetarget");"yourproperties"===i&&(e=t(".nav-your-properties .yourproperties li.active").attr("id"),n.history.state&&void 0===e&&!s.isDesktop()&&(e=n.history.state.activeTab)),void 0===i&&(i="yourproperties",e="savedproperties");var o=a.CreateHBIBAppState({activeHeaderTab:i,activeTab:e,pageNumber:1});(s.appState&&o.activeHeaderTab!==s.appState.activeHeaderTab||o.activeTab!==s.appState.activeTab||o.pageNumber!==s.appState.pageNumber)&&a.LoadAppState(o,!1,!1)}})},SavePropertyInitialize:function(e,t,i){s.isAuthenticated=t,s.isSubscriber=e,s.authForm=i.find("form"),s.authDialog=i},InitializeMyProfile:function(){var i=t(s.savedPropertiesEmailAlertsDiv);t(s.savedPropertiesEmailAlertsBtn),t(s.savedPropertiesEmailAlertsDlg).find(s.emailAlertsFrm),t(s.savedSearchesEmailAlertsBtn),t(s.savedSearchesEmailAlertsDlg).find(s.emailAlertsFrm);e.Utility.LogConsole("HBIB.initializeMyProfile > called."),t("#sort-hbib-properties-by-mobile").on("change",function(n){var o=t(this).find("option:selected").attr("id").replace("mobile","");t(".nested-tabcontent").hide(),t(".nav-your-properties li").removeClass("active"),t("#"+o).addClass("active"),t("div#"+o+"view").show(),e.Utility.LogConsole("HBIB.sort-hbib-properties > calling LoadAppState >");var r=a.GetCurrentAppState();r.activeTab=o,r.pageNumber=1,a.LoadAppState(r,!1,!1),"recentlyviewedproperties"===o||"hiddenproperties"===o?(t("p.utility-link.trigger-dropdown").hide(),i.hide()):(t("p.utility-link.trigger-dropdown").show(),i.show())}),a.RegisterTabClickHandler(),t("#yourproperties .toggle-body, #yoursearches .toggle-body").on("click",".pagination a",function(i){var n=t(this).parents("ul");t("#"+n.data("updatetarget"));i.preventDefault();var o=a.GetCurrentAppState();o.pageNumber=parseInt(i.target.dataset.pagenumber,10),e.Utility.LogConsole("HBIB.pagination click > calling LoadAppState > "),a.LoadAppState(o,!1,!1,function(){t("html, body").animate({scrollTop:t(".page-header").first().offset().top},1e3),"savedsearchesview"===n.data("updatetarget")&&a.GetSavedSearchesNewListingCounts(!1)})}),e.SearchResultsNavigation.ResetSearchContext()},checkIfEmailExists:function(i){var n=t("input#SubscriberProfile_Email").val();if(n){var o=e.Utility.AssembleUrl(["subscriber","emailalreadyexists"])+"?email="+encodeURIComponent(n);t.ajax({type:"GET",url:o}).done(function(e){e?(t("#emailAlreadyExists").show(),t("#emailAlreadyExists")[0].scrollIntoView()):t("#emailAlreadyExists").hide(),i()})}else t("#emailAlreadyExists").hide(),i()},HookupTabSet:function(i){var n={header:".tabset .tabhead > li",content:".tabset .tabcontent > div",activeIndex:0,registeredHandlers:s.tabsetEventHandlers,fireHandlersOnInitialization:!1,activeClass:"active"},o={header:".your-properties .nav-your-properties li",content:".nested-tabcontent",activeIndex:0,fireHandlersOnInitialization:!1,activeClass:"active",after:function(e,t){var i=a.CreateHBIBAppState({activeHeaderTab:"properties",activeTab:t,pageNumber:1,sortOrder:1});a.LoadAppState(i),a.SetMobilePropertyDropDown()}};switch(e.Utility.LogConsole("HBIB.HookupTabSet > called with param "+i),t.each(s.tabsetEventHandlers,function(e,t){t.clickables.off("click",t.handler)}),i){case"yourproperties":case"savedproperties":o.activeIndex=0;break;case"recentlyviewedproperties":o.activeIndex=1;break;case"hiddenproperties":o.activeIndex=2}s.tabify(n),s.tabify(o)},GetURLForAppState:function(t){var i;return t.activeTab?"alertpreferences"===t.activeTab||"preferredagent"===t.activeTab||"personalinformation"===t.activeTab?i=e.Utility.AssembleUrl(["account",t.activeTab]):(i=e.Utility.AssembleUrl(["account",t.activeTab,"p_"+t.pageNumber]),t.sortOrder&&(i=i+"?sortOrder="+t.sortOrder)):"yourproperties"===t.activeHeaderTab?(t.activeTab="savedproperties",i=e.Utility.AssembleUrl(["account",t.activeTab,"p_"+t.pageNumber]),t.sortOrder&&(i=i+"?sortOrder="+t.sortOrder)):"savedsearches"===t.activeHeaderTab?(i=e.Utility.AssembleUrl(["account",t.activeHeaderTab,"p_"+t.pageNumber]),t.sortOrder&&(i=i+"?sortOrder="+t.sortOrder)):i=e.Utility.AssembleUrl(["account",t.activeHeaderTab]),i},LoadAppState:function(o,r,l,c){var u;o.hbibApp?s.isAuthenticated?(!1!==r&&void 0!==r||!s.appState||o.activeHeaderTab!==s.appState.activeHeaderTab||o.activeTab!==s.appState.activeTab||o.pageNumber!==s.appState.pageNumber||o.sortOrder!==s.appState.sortOrder)&&(o.url=a.GetURLForAppState(o),e.Utility.LogConsole("HBIB.LoadActiveTabForHBib >  loading requested state > "),a.LogAppState(o),s.spinner.Spin(),u=function(t){e.Forms.OpenDialog(this),t.preventDefault()},t.ajax({type:"GET",headers:{"cache-control":"no-cache no-store"},url:o.url,async:!0,cache:!1}).done(function(r){if(!i.history||!1!==l&&void 0!==l||(history.pushState(o,o.activeTab,o.url),e.Utility.LogConsole("HBIB.LoadActiveTabForHBib >  added following app state to history > "),a.LogAppState(o)),s.appState=o,s.setHbibTabs(o.activeHeaderTab),o.activeTab)t("div#"+o.activeTab+"view").html(r).waitForImages(function(){t(n).trigger(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,o.activeTab),t(this).find("div.property-snapshot").matchHeight(),"savedsearches"===o.activeTab&&s.adjustSavedSearchHeight(this),"personalinformation"===o.activeTab&&(t.validator.unobtrusive.parse("#personal-information-form"),e.Validate.Unobtrusive.Parse("#personal-information-form"),s.initializePersonalInformation(),e.FacebookConnect.Initialize({connectSelector:"#facebook-connect",disconnectSelector:"#facebook-disconnect"})),s.spinner.Stop()}),t("div#"+o.activeTab+"view a[data-ic-form]").on("click",u);else switch(o.activeHeaderTab){case"savedsearches":t("div#"+o.activeHeaderTab+"view.ajax-response").html(r).waitForImages(function(){t(n).trigger(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,o.activeHeaderTab),s.adjustSavedSearchHeight(this),s.spinner.Stop()});break;case"alertpreferences":case"preferredagent":t("div#"+o.activeHeaderTab+"view.ajax-response").html(r).promise().done(function(){t(n).trigger(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,o.activeHeaderTab),s.spinner.Stop()});break;case"personalinformation":t("div#"+o.activeHeaderTab+"view.ajax-response").html(r).promise().done(function(){t(n).trigger(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,o.activeHeaderTab),s.initializePersonalInformation(),e.FacebookConnect.Initialize({connectSelector:"#facebook-connect",disconnectSelector:"#facebook-disconnect"}),s.spinner.Stop()})}"savedproperties"!==o.activeTab&&"recentlyviewedproperties"!==o.activeTab&&"hiddenproperties"!==o.activeTab||a.HookupTabSet(o.activeTab),"preferences"!==o.activeHeaderTab&&"alertpreferences"!==o.activeHeaderTab||s.initializeAlertPreferences(),c&&c()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.LoadAppState: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){"savedsearches"!==s.appState.activeTab&&"savedsearches"!==o.activeHeaderTab||a.GetSavedSearchesNewListingCounts(!1)})):n.location.href=e.Utility.AssembleUrl(["sign-in"]):e.Event.Throw("LoadAppState function requires a requestedAppState argument with a hbibApp paramter set to true.")},LogAppState:function(t){e.Utility.LogConsole("\r\n\turl: "+t.url+",\r\n\tactiveHeaderTab: "+t.activeHeaderTab+",\r\n\tactiveTab: "+t.activeTab+",\r\n\tpageNumber: "+t.pageNumber+",\r\n\tsortOrder: "+t.sortOrder)},CreateHBIBAppState:function(e){return t.extend(!0,{hbibApp:!0},e)},GetCurrentAppState:function(){return t.extend(!0,{hbibApp:!0},s.appState)},SetMobilePropertyDropDown:function(){var e=s.appState.activeTab;t.inArray(e,["savedproperties","recentlyviewedproperties","hiddenproperties"])>-1&&t('#sort-hbib-properties-by-mobile option[id="'+e+'mobile"]').attr("selected","selected"),t.inArray(e,["recentlyviewedproperties","hiddenproperties"])>-1?(t("p.utility-link.trigger-dropdown").hide(),t(s.savedPropertiesEmailAlertsDiv).hide()):(t("p.utility-link.trigger-dropdown").show(),t(s.savedPropertiesEmailAlertsDiv).show())},SetTabUIForAppState:function(e){var i="";switch(t("ul.tabhead li a, div.nav-your-properties ul li a").removeClass("active").blur(),e.activeHeaderTab){case"properties":i="properties";break;case"savedsearches":case"searches":i="searches";break;case"alertpreferences":case"preferences":i="preferences";break;case"preferredagent":case"agent":i="agent";break;case"personalinfo":case"personalinformation":i="personalinfo"}i.length>0&&(t(".tabhead > li").removeClass("active"),t(".tabhead #"+i).addClass("active"))},SetMobileTabUIForAppState:function(e){var i="yourproperties";switch(e.activeHeaderTab){case"savedsearches":i="yoursearches";break;case"agent":i="youragent"}t("#"+i+" p.toggle-trigger").trigger("toggleState")},SetMobileRecentlyViewed:function(){var e=t("#yourproperties");e.find("p.toggle-trigger").addClass("open"),e.show(),e.find("div.wrap.toggle-body").show(),t('#sort-hbib-properties-by-mobile option[id="recentlyviewedpropertiesmobile"]').attr("selected","selected"),t("p.utility-link.trigger-dropdown").hide(),t(s.savedPropertiesEmailAlertsDiv).hide(),a.HookupTabSet("recentlyviewedproperties")},SetMobileAlertPreferences:function(){var e=t("#yourpreferences");e.find("p.toggle-trigger").addClass("open").end().show().end().find("div.wrap.toggle-body").show(),t("p.utility-link.trigger-dropdown").hide(),a.HookupTabSet("yourpreferences"),e.velocity("scroll",500)},GetSavedSearchesNewListingCounts:function(i){var n,o="",r=i?"savedSearchDrawer":"savedSearch";t('div[id^="'+r+'"]').each(function(e,t){o+=t.id.replace(r,"")+","}),o.length>0&&(n={savedSearchIds:o},t.ajax({type:"GET",url:e.Utility.AssembleUrl(["subscriber","getsavedsearchesnewlistingcounts"]),data:n,dataType:"json",cache:!1}).done(function(e){var n,o=i?"#new-listings-drawer-":"#new-listings-",r=i?"#savedSearchLinkDrawer":"#savedSearchLink";t.each(e,function(e,i){i.NewListings>=0&&(n=i.NewListings+" New Listing"+(0===i.NewListings?"s":i.NewListings>1?"s":"")+" Today",t(o+i.SearchId.toString()).show(),0===i.NewListings?t(r+i.SearchId).replaceWith(n):t(r+i.SearchId).text(n))})}).fail(function(t,i,n){a.OnFailure();var o="NRT.HBIB.GetSavedSearchesNewListingCounts: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){t.fn.matchHeight._update()}))},RemoveHiddenListing:function(i){var n;s.isSubscriber&&s.isAuthenticated&&(n={listingId:i},t.ajax({url:e.Utility.AssembleUrl(["subscriber","deletehiddenlisting"]),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n)}).done(function(t){e.Utility.BaseOrigin().PD?e.StatusSlider.ShowStatusSlider("Removed from hidden listings."):!0===t.success&&a.LoadAppState(a.GetCurrentAppState(),!0,!0)}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.removeHiddenListing: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}))},HideListing:function(i,r){var a,l,c;if(s.isSubscriber&&s.isAuthenticated)s.spinner||(s.spinner=new e.Spinner),s.spinner.Spin(),a=e.Utility.GetQueryStringParam("msg"),l=!1,a&&"acct"===a&&!s.displayedAccountCreated&&(s.displayedAccountCreated=!0,l=!0),c={listingId:i},t.ajax({url:e.Utility.AssembleUrl(["subscriber","savehiddenlisting"]),method:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(c)}).done(function(t){e.Utility.BaseOrigin().PSR?ioc("app.events").once(e.SearchListEvent.RENDER_COMPLETE,function(){s.spinner.Stop(),l?e.StatusSlider.ShowStatusSlider(s.messages.accountCreated,t.message):e.StatusSlider.ShowStatusSlider(t.message)}):(s.spinner.Stop(),l?e.StatusSlider.ShowStatusSlider(s.messages.accountCreated,t.message):e.StatusSlider.ShowStatusSlider(t.message)),r&&r(),n.frameElement&&"detail-iframe"===n.frameElement.id&&n.top.App.reloadResults()}).fail(function(t,i,n){s.spinner.Stop(),l?e.StatusSlider.ShowStatusSlider(s.messages.accountCreated,"Oops! An error occurred."):e.StatusSlider.ShowStatusSlider("Oops! An error occurred.");var o="NRT.HBIB.hideListing: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)});else{var u,d=s.authDialog.find("p.not-a-member a"),p=NRT.Utility.BaseOrigin(),h=e.Event.eTrackingOrigin,f="none";p.PD?f=h.PD_HID_ICN:p.PSR&&(f=h.PS_HID_ICN),u=n.top.location.pathname+n.top.location.search,d.prop("href","/sign-up/?ReturnURL="+encodeURIComponent(u)),e.CompleteActionStorage.setItem("hideproperty",{name:"hideproperty",created:new Date,params:i}),new e.HBIB.LoginAjax(s.authForm).BindForm(function(){s.isUserSignedIn=!0,s.authDialog.trigger("close");e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(o).trigger(e.Event.eAction.USER_SIGNIN,["manual","modal_prompt",f]),e.session.item("LoggedInStatus","ManualLoggedIn")),n.top.location.reload()}),e.FacebookLogin.Initialize({clickSelector:".account-sign-in-modal .facebook-signin",onLogin:function(){e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(o).trigger(e.Event.eAction.USER_SIGNIN,["fb_manual","modal_prompt",f]),e.session.item("LoggedInStatus","FBLoggedIn")),s.isUserSignedIn=!0,n.top.location.href=u},returnUrl:encodeURIComponent(u),cancelUrl:encodeURIComponent(n.top.location.pathname+n.top.location.search)}),s.authDialog.lightbox_me({centered:!0,modalCSS:{top:t(n).scrollTop()+40+"px"},onClose:function(){s.isUserSignedIn||e.CompleteActionStorage.removeItem("hideproperty")}})}},GetUserStatus:function(){return s.isAuthenticated},IsWindowNameSet:function(e){return["ManualLoggedIn","FBLoggedIn","AutoLoggedIn"].indexOf(e)>-1},InitializeUnsubscribe:function(){var e=s.unsubscribeAllFrm;t(e).find(".submit-link").on("click",function(e){e.preventDefault(),s.confirmUnsubscribeAll()})}},t(n).on("popstate",function(t){try{var i=t.originalEvent.state;null!==i&&i.hbibApp&&(e.Utility.LogConsole("HBIB.popstate >  popped following state > "),e.HBIB.LogAppState(i),e.HBIB.LoadAppState(i,!1,!0))}catch(t){e.Utility.LogConsole(t.toString())}}),s={appState:{url:"",pageNumber:1,activeHeaderTab:"",activeTab:"",hbibApp:!0},isDisableSuccess:!1,redirectUrl:"",cPopupData:null,isSubscriber:!1,isAuthenticated:!1,isUserSignedIn:!1,authForm:null,authDialog:null,displayedAccountCreated:!1,dialogPlaceHolderSel:"#popupPlaceholder",dialogPlaceHolderCompactSel:"#popupPlaceholderCompact",tabsetEventHandlers:[],savedPropertiesEmailAlertSettingsDialog:null,savedPropertiesEmailAlertsDiv:"#PropertyEmailAlertsDiv, #PropertyEmailAlertsDivMobile",savedPropertiesEmailAlertsBtn:"#PropertyEmailAlertsBtn, #PropertyEmailAlertsBtnMobile",savedPropertiesEmailAlertsDlg:"#PropertyEmailAlertsDlg",emailAlertsFrm:".js-email-alerts-form",savedSearchesEmailAlertSettingsDialog:null,savedSearchesEmailAlertsDiv:"#SearchEmailAlertsDiv, #SearchEmailAlertsDivMobile",savedSearchesEmailAlertsBtn:"#SearchEmailAlertsBtn, #SearchEmailAlertsBtnMobile",savedSearchesEmailAlertsDlg:"#SearchEmailAlertsDlg",alertFreq:"",unsubscribeAllFrm:"#UnsubscribeAllFrm",alertPreferencesForm:"#AlertPreferencesForm",spinner:null,messages:{accountCreated:"Your ColdwellBankerHomes.com account has been created!"},isDesktop:function(){return t("section.banner.with-tabs ul.tabhead").is(":visible")},loggedIntoHBIB:function(i){s.isSubscriber&&s.isAuthenticated?i():(new e.HBIB.LoginAjax(s.authForm).BindForm(function(){i(),n.top.location.reload(),s.authDialog.trigger("close")}),s.authDialog.lightbox_me({centered:!0,modalCSS:{top:t(n).scrollTop()+40+"px"}}))},onSuccessLogin:function(){t("#menu-log-in").find(".form-error").hide(),e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(o).trigger(e.Event.eAction.USER_SIGNIN,["manual",e.Event.eTrackingOrigin.USER_SIGNIN_TM]),e.session.item("LoggedInStatus","ManualLoggedIn"))},onFailureLogin:function(){t("#menu-log-in").find(".form-error").show()},addPropertyToFavoritesClosure:function(e,t,i,n,o,r,a,s,l){return function(){t.apply(e,[i,n,o,r,a,s,l])}},loginDeferred:t.Deferred(),signUpDeferred:t.Deferred(),getAgentTeamInfo:function(e){var i=[],n=t(e);return void 0!==e&&(i.push(n.data("entityid")),i.push(n.data("entitytype")),i.push(n.data("name")),i.push(n.data("isteam"))),i},updateSavedPropertyEmailAlerts:function(){var i,n=t(s.savedSearchesEmailAlertsDlg),o=t(s.savedPropertiesEmailAlertsDlg),r=n.find(s.emailAlertsFrm),a=o.find(s.emailAlertsFrm),l=parseInt(a.find(".js-email-alert-frequency").val()),c="",u=a.find("#EmailAlertIncludeAgent_HBIBProperty").is(":checked"),d=a.find("js-include-additional-recipients").is(":checked"),p=a.find(".js-additional-emails").val();o.find('input[id^="AlertCategory"]').each(function(){this.checked&&(c=c+this.value+",")}),","===c.substring(c.length-1)&&(c=c.substring(0,c.length-1)),i={alertFrequencyId:l,alertIds:c,isEmailPreferredAgent:u,additionalEmailRecipients:p,isIncludeAdditionalRecipients:d,isPropertyEmailAlerts:!0},t.ajax({url:e.Utility.AssembleUrl(["subscriber","updateemailalerts"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done(function(i){!0===i.success&&e.StatusSlider.ShowStatusSlider(i.message),s.alertFreq=l,t(s.savedPropertiesEmailAlertsDlg).fadeOut(),s.updateDefaultFormValues(a),s.copySavedEmailAlerts(a,r,"Property","Search")}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.updateSavedPropertyEmailAlerts: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},updateDefaultFormValues:function(e){var t;e.find(".js-email-alert-frequency")[0].defaultValue=e.find(".js-email-alert-frequency").val(),(t=e.find("#EmailAlertIncludeAgent_HBIBProperty, #EmailAlertIncludeAgent_HBIBSearch")).length>0&&(t[0].defaultChecked=t.is(":checked")),e.find("js-include-additional-recipients")[0].defaultChecked=e.find("js-include-additional-recipients").is(":checked"),e.find(".js-additional-emails")[0].defaultValue=e.find(".js-additional-emails").val(),e.find('input[id^="AlertCategory"]').each(function(){this.defaultChecked=this.checked})},confirmUnsubscribeAll:function(){var i=e.Utility.GetQueryStringParam("id"),n=e.Utility.GetQueryStringParam("token");t.ajax({url:e.Utility.AssembleUrl(["subscriber","processunsubscribe"]),type:"POST",data:{id:i,token:n}}).done(function(e){e&&e.success?(t("div#unsubscribe").hide(),t(".banner .wrap h1").text("Confirmation"),t("div#confirmation #message").show()):(t("div#unsubscribe").hide(),t("div#confirmation #error").show())}).fail(function(t,i,n){var o="NRT.HBIB.ConfirmUnsubscribeAll: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){})},updateSavedSearchEmailAlerts:function(){var i,n=t(s.savedSearchesEmailAlertsDlg),o=t(s.savedPropertiesEmailAlertsDlg),r=n.find(s.emailAlertsFrm),a=o.find(s.emailAlertsFrm),l=parseInt(r.find(".js-email-alert-frequency").val()),c="",u=r.find("#EmailAlertIncludeAgent_HBIBSearch").is(":checked"),d=r.find("js-include-additional-recipients").is(":checked"),p=r.find(".js-additional-emails").val();n.find('input[id^="AlertCategory"]').each(function(){this.checked&&(c=c+this.value+",")}),","===c.substring(c.length-1)&&(c=c.substring(0,c.length-1)),i={alertFrequencyId:l,alertIds:c,isEmailPreferredAgent:u,additionalEmailRecipients:p,isIncludeAdditionalRecipients:d,isPropertyEmailAlerts:!1},t.ajax({url:e.Utility.AssembleUrl(["subscriber","updateemailalerts"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done(function(i){!0===i.success&&e.StatusSlider.ShowStatusSlider(i.message),s.alertFreq=l,t(s.savedSearchesEmailAlertsDlg).fadeOut(),s.updateDefaultFormValues(r),s.copySavedEmailAlerts(r,a,"Search","Property")}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.updateSavedSearchEmailAlerts: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)})},copySavedEmailAlerts:function(e,i,n,o){var r,a;i.find(".js-email-alert-frequency").val(e.find(".js-email-alert-frequency").val()),i.find('input[id^="EmailAlertIncludeAgent_"]').prop("checked",e.find('input[id^="EmailAlertIncludeAgent_"]').prop("checked")),i.find("js-include-additional-recipients").prop("checked",e.find("js-include-additional-recipients").prop("checked")),r=e.find(".js-additional-emails").val(),i.find(".js-additional-emails").prop("disabled",""===r).attr("value",r),t('[id^="AlertType_HBIB'+n+'_"]').each(function(){a=this.id.split("_").pop(),t("#AlertType_HBIB"+o+"_"+a).prop("checked",t(this).prop("checked"))})},submitAlertsForm:function(e){e.submit(function(i){i.preventDefault();var n=e[0].attr("action");t.post(n)})},setupEmailAddressesValidation:function(e){e.rules("remove"),e.rules("add",{emailAlertsSettingsEmailAddresses:{data:[]},messages:{emailAlertsSettingsEmailAddresses:e.data("msgRegex")}})},resetEmailAlertForm:function(e){var i,n;e.validate().resetForm(),e.find(".error").removeClass("error"),e.find("js-include-additional-recipients").is(":checked")&&(i=e.find(".js-additional-emails"),n=t(this).is(":checked"),s.setFieldRuleRequirement(i,n),s.switchAdditionalEmailAddressesField(i,n))},switchAdditionalEmailAddressesField:function(e,t){t?(s.setupEmailAddressesValidation(e),e.removeAttr("disabled")):(e.val(""),e.parent("span").removeClass("error").find("span.custom-error").html(""),e.attr("disabled","true"))},setFieldRuleRequirement:function(i,n){var o,r=[];i.length>1?r=i:r.push(i);for(o in r)n?t(r[o]).removeClass("ignore"):t(r[o]).addClass("ignore");e.Utility.LogConsole("setFieldRuleRequirement: Form Field Rule Requirement for "+t(r[o]).attr("id")+" turned "+(n?"on":"off"))},setHbibTabs:function(e){var i="div#yourproperties.your-properties",n="div#yoursearches.your-searches",o="div#yourpreferences.your-preferences",r="div#youragent.your-agent",s="div#yourinformation.personal-info";switch(t(i+","+n+","+o+","+r+","+s).hide(),e){case"properties":var l=t(".nav-your-properties").children("ul").children(".active").attr("id");t(i).show(),"recentlyviewedproperties"!==l&&"hiddenproperties"!==l||t("#saved-property-email-alerts").hide();break;case"searches":case"savedsearches":t(n).show();break;case"preferences":case"alertpreferences":t(o).show();break;case"agent":case"preferredagent":t(r).show();break;default:t(s).show()}a.SetTabUIForAppState(a.GetCurrentAppState())},tabify:function(e){var i,n=t(e.header),o=t(e.content),r=n;e=t.extend({header:".tabset > h3",content:".tabset > div",activeIndex:0,activeClass:"active",before:function(){},after:function(){},fireHandlersOnInitialization:!0},e),n.is("a")||(r=r.find("a"));function a(i,r){var a,s;r&&e.before(),n.removeClass(e.activeClass).eq(i).addClass(e.activeClass),o.removeClass(e.activeClass).hide(),o.eq(i).show().addClass(e.activeClass),r&&(a="",(s=t(n)[i])&&(a=s.id),e.after(i,a))}a(e.activeIndex,e.fireHandlersOnInitialization),i=function(i){i.preventDefault(),a(n.index(t(this).closest(e.header)),!0)},r.on("click",i),s.tabsetEventHandlers.push({clickables:r,handler:i})},completeActionMethods:{saveproperty:function(i){var n,o=i.split("|"),r=o[0],a=""===o[1]?null:o[1],s=o[2];e.Utility.BaseOrigin().PSR?e.HBIB.AddPropertyToFavorites(r,a,s,function(){(n=t('body.body-property-search-results div.property-actions p.utility-buttons a.icon-heart[data-pid="'+r+'"]')).length>0&&t("html,body").animate({scrollTop:n.parents("div.property-snapshot").offset().top},"fast")}):e.HBIB.AddPropertyToFavorites(r,a,s),e.Utility.LogConsole("CompleteAction: saveproperty: listingId = "+r+", origin = "+s)},savesearch:function(t){var i=t;"acct"===e.Utility.GetQueryStringParam("msg")&&e.StatusSlider.ShowStatusSlider(s.messages.accountCreated),e.Utility.LogConsole("CompleteAction: savesearch: origin = "+i),e.Utility.BaseOrigin().PSR&&(e.Global.Feature.UseNewPropertySearchFilters?e.SearchFilters.SaveSearch.showSaveSearchWithAlertsCheckModal(i):e.PropertyResults.ShowSaveSearchWithAlertsCheckModal(i))},hideproperty:function(t){var i=t;e.Utility.LogConsole("CompleteAction: hideproperty: listingId = "+i),e.HBIB.HideListing(i,function(){e.Utility.BaseOrigin().PD?a.SwitchIconHide(i,!0):e.Utility.BaseOrigin().PSR&&App.reloadResults()})}},confirmUnsubscribeAllAlertPreferences:function(){t(s.dialogPlaceHolderSel).load(e.Utility.AssembleUrl(["subscriber","returnconfirmpopup"]),{title:"Unsubscribe",message:"Are you sure you want to unsubscribe from all of your email alerts?",submitEvent:e.Utility.eEvents.HBIB_ALERTPREFERENCES_UNSUBSCRIBE,submitText:"Continue"},function(){t("#subscriberConfirmDialog").lightbox_me({centered:!0,closeClick:!1,destroyOnClose:!0})})},unsubscribeAllAlertPreferences:function(){t.ajax({url:e.Utility.AssembleUrl(["subscriber","unsubscribeallalertpreferences"]),type:"POST",data:{subscriberId:0}}).done(function(t){a.LoadAppState(a.GetCurrentAppState(),!0,!0,function(){e.StatusSlider.ShowStatusSlider(t.message)})}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.UnsubscribeAlertPreferences: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){t("#subscriberConfirmDialog").trigger("close")})},setupAlertPreferencesAdditionalRecipientsValidation:function(e){e.rules("remove"),e.rules("add",{required:!1,alertPreferencesAdditionalRecipients:{data:[]},messages:{alertPreferencesAdditionalRecipients:e.data("msgRegex")}})},initializeAlertPreferences:function(){var i="#SubscriberAlertPreferencesForm",n=t(i),r=n.find("#AdditionalRecipients");t.validator.unobtrusive.parse(i),e.Validate.Unobtrusive.Parse(i),r.length>0&&s.setupAlertPreferencesAdditionalRecipientsValidation(r),n.find("input.js-submit-button.submit-btn").off("click").on("click",function(i){if(i.preventDefault(),n.valid()){var r=JSON.stringify(e.AlertPreferences.getSubscriberAlertPreferences(n));t.ajax({url:e.Utility.AssembleUrl(["subscriber","savesubscriberalertpreferences"]),method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:r}).done(function(i){i.success?(t(o).trigger(e.Event.eAction.SUBSCRIBER_ALERTS_SAVED),a.LoadAppState(a.GetCurrentAppState(),!0,!0,function(){e.StatusSlider.ShowStatusSlider(i.message)})):e.StatusSlider.ShowErrorSlider()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider()})}}),t(o).off("click","div#alertpreferencesview .unsubscribe").on("click","div#alertpreferencesview .unsubscribe",function(i){i.preventDefault(),s.confirmUnsubscribeAllAlertPreferences(),t(o).trigger(e.Event.eAction.SUBSCRIBER_ALERTS_REMOVED)})},initializePersonalInformation:function(){var i="#personal-information-form",n=t(i);t.validator.unobtrusive.parse(i),e.Validate.Unobtrusive.Parse(i),n.find("input.js-submit-button.submit-btn").off("click").on("click",function(i){i.preventDefault(),a.checkIfEmailExists(function(){if(n.valid()&&!t("#emailAlreadyExists").is(":visible")){var i=n.serializeArray();t.ajax({url:e.Utility.AssembleUrl(["subscriber","myprofile"]),method:"POST",dataType:"json",data:i}).done(function(i){i.success?(t(o).trigger(e.Event.eAction.SUBSCRIBER_PROFILE_SAVED),t("input#SubscriberProfile_Email")[0].defaultValue=t("input#SubscriberProfile_Email").val(),a.LoadAppState(a.GetCurrentAppState(),!0,!0,a.OnSuccessPersonalInfoSaved(i))):e.StatusSlider.ShowErrorSlider()}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider()})}})})},adjustSavedSearchHeight:function(e){t(e).find("div.recent-searches").find("h3").matchHeight().end().find("div.equalheight").matchHeight().end().find("div.col").matchHeight()}},t(n).load(function(){var i;s.spinner=new e.Spinner,t("#sign-out").on("click",function(i){var o=t(this),r=e.FacebookLogin.LogOutAsync();i.preventDefault(),r.done(function(){e.session.item("LoggedInStatus",""),n.top.location.replace(o.attr("href"))})}),t.validator.unobtrusive.parse("#authdialog > form"),e.Validate.Unobtrusive.Parse("#authdialog > form"),t.validator.unobtrusive.parse("#menu-sign-in > form"),e.Validate.Unobtrusive.Parse("#menu-sign-in > form"),t("div#savedpropertiesview, div#recentlyviewedpropertiesview, div#hiddenpropertiesview, div#savedsearchesview").on("change","select#sort-by:visible",function(){var i=t(this).parents(".nested-tabcontent, div.wrap.ajax-response").attr("id");e.HBIB.OnChangeSortBy(i,this.value)}),t("div#hiddenpropertiesview").on("click","a#unhideListing.icon-rotate-left",function(i){var n=t(this).data("listingId");e.HBIB.RemoveHiddenListing(n),i.preventDefault()}),t("div#preferredagentview").on("click",'a.icon-cross2[id^="preferred"]',function(i){var n=t(this).data();e.HBIB.ConfirmDeletePreferred(n.isTeam,n.entityId,n.name),i.preventDefault()}),NRT.Utility.BaseOrigin().HBIB&&t(o).on("click",".alert-preferences-link",function(t){e.HBIB.LoadAlertPreferencesTab(),t.preventDefault()}),t(o).on("click","div#subscriberConfirmDialog input.submit-btn",function(){var e=t(this).data("eventName");t(n).trigger(e,s.isTeam)}),t(n).on(e.Utility.eEvents.HBIB_PREFERRED_REMOVE,function(e){a.RemoveProfilePreferredAgentTeam()}),t(n).on(e.Utility.eEvents.HBIB_PREFERRED_SET,function(e){a.SetPreferredAgentTeam()}),t(n).on(e.Utility.eEvents.HBIB_SAVEDSEARCH_REMOVE,function(e){a.DeleteSavedSearch()}),t(n).on(e.Utility.eEvents.HBIB_ALERTPREFERENCES_UNSUBSCRIBE,function(e){s.unsubscribeAllAlertPreferences()}),t(n).on(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,function(e,i){t("#"+i+"view").css("height","").show(),t('.toggle-trigger[data-updatetarget="'+i+'"]').addClass("open")}),i=n.frameElement&&"detail-iframe"===n.frameElement.id?"pdmodal":e.session.id,e.CompleteActionStorage=e.Utility.StorageClientFactory("nrt:"+i+":completeaction"),s.isSubscriber&&s.isAuthenticated&&e.CompleteActionStorage.length&&setTimeout(function(){var t,i,n,o,r=(new Date).getTime(),a=e.CompleteActionStorage.toArray();for(e.Global.Feature.UseNewPropertySearchFilters&&!e.Utility.BaseOrigin().PSR&&(a=a.filter(function(e){return"savesearch"!==e.name})),o=a.length,n=0;n<o;n+=1)t=a[n],r-Date.parse(t.created)>72e5||((i=s.completeActionMethods[t.name])&&"function"==typeof i&&i(t.params),e.CompleteActionStorage.removeItem(t.name))},1e3),t(o).on("click","p.link-icon.delete-search.new-alert-prefs a",function(i){e.HBIB.ConfirmDeleteSavedSearch(t(this).data("searchId")),i.preventDefault()}),e.Utility.LogConsole("HBIB: window.onload: eventing for hbib events")}),t(o).on("click","a.icon-heart[data-pid]",function(i){var n=t(i.currentTarget),o=n.data();n.is(".favorite")?e.HBIB.RemovePropertyFromFavorites(o.pid,o.origin):e.HBIB.AddPropertyToFavorites(o.pid,null,o.origin),n.blur(),i.preventDefault()}),e.HBIB=a}(window.NRT,jQuery,Modernizr,window,document),function(e,t,i){e=t.extend(!0,e,{HBIB:{Drawer:{}}});var n={},o={};n={Initialize:function(){var i=null;o.$drawer=t(".hbib-properties-drawer"),o.$authDialogBox=t("#authdialog"),i=o.$authDialogBox.find("form"),o.loginForm=new e.HBIB.LoginAjax(i),o.spinner=new e.Spinner(o.$drawer,{color:"#000"}),t(".trigger-tab").click(t.proxy(o.onDrawerClick,this)),o.$drawer.on("click","p.account-link > a",t.proxy(o.onSignUpClick,this)),o.$drawer.on("click",".drawer-handle .button-holder",t.proxy(o.onDrawerClose,this))}},o={$drawer:null,$authDialogBox:null,loginForm:null,spinner:null,drawerIsClicked:!1,sliderIsSetUp:!1,onDrawerClick:function(){var i=t(".trigger-body, .hbib-properties-drawer").slideToggle(400),n=(new t.Deferred).resolve().promise(),r=t("#trigger-tab-indicator"),a=t(".recent-properties-trigger");r&&(r.toggleClass("up"),a.toggleClass("trigger-state-on")),o.drawerIsClicked||(o.drawerIsClicked=!0,n=o.loadData(),t.when(i).done(function(){"pending"===n.state()&&o.spinner.Spin()})),t.when(n,i).done(function(){var i;t(".trigger-body",".hbib-properties-drawer").is(":visible")&&!o.sliderIsSetUp&&(o.$drawer.waitForImages(function(){(i=t(this)).hasClass("no-account")?i.find("div.property-snapshot.property-snapshot-lite.equalheight").matchHeight():(i.find("div#recentlyvieweddrawer div.property-snapshot.property-snapshot-lite.equalheight").matchHeight(),i.find("div#savedpropertiesdrawer div.property-snapshot.property-snapshot-lite.equalheight").matchHeight(),i.find("div#savedsearchesdrawer div.col").find("h3").matchHeight().end().find("p:last").matchHeight().end().find("div.equalheight").matchHeight()),e.Utility.LogConsole("NRT.HBIB.onDrawerClick: animation done: matchHeight on saved and recently viewed listings and saved searches")}),o.setUpDrawer(),t(".hbib-properties-drawer .trigger-body").css("height","auto"))})},onSignUpClick:function(e){e.preventDefault(),t(".share-tabcontent, #share-dropdown").hide(),t(".wrap",".page-header").removeClass("open"),o.loginForm.BindForm(function(){o.$authDialogBox.trigger("close"),i.location.reload(!0)}),o.$authDialogBox.lightbox_me({centered:!0,onClose:function(){o.loginForm.ResetForm()}})},onDrawerClose:function(){var e=t("#trigger-tab-indicator"),i=t(".recent-properties-trigger");t(".trigger-body, .hbib-properties-drawer").slideUp(),o.$drawer.removeClass("active"),e&&(e.toggleClass("up"),i.removeClass("trigger-state-on"))},loadData:function(){return t.ajax({url:e.Utility.AssembleUrl(["subscriber","propertiesdrawer"]),type:"GET",cache:!1}).done(function(i){t(".trigger-body",o.$drawer).html(i),e.HBIB.GetUserStatus()&&e.HBIB.GetSavedSearchesNewListingCounts(!0),t(".drawer-tab .property-snapshot a").click(function(){e.SearchResultsNavigation.ResetSearchContext()})}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.HBIB.loadData: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n.toString()),new Error(o)}).always(function(){o.spinner.Stop()})},setUpDrawer:function(){var e=t(".hbib-properties-drawer.no-account");t.tabset({header:".hbib-properties-drawer.with-account div.nav-your-properties li",content:".drawer-tab",activeIndex:0,after:function(){t.fn.matchHeight._update()}}),e.length>0&&o.initializeOwlCarousel()},initializeOwlCarousel:function(){var e=t(".hbib-properties-drawer.no-account div.property-list-horz.owl-carousel"),i=e.nextAll(".controls").addClass("large-controls"),n=!1;e.length>0&&(e.find(".property-snapshot").length>3&&(n=!0),e.trigger("destroy.owl.carousel"),e.html(e.find(".owl-stage-outer").html()).removeClass("owl-loaded"),e.off("initialized.owl.carousel").on("initialized.owl.carousel",function(i){t(".hbib-properties-drawer .drawer-tab.active").css("height","auto"),e.css("visibility","visible").find(".owl-stage").css("margin","0 auto"),o.sliderIsSetUp=!0}),e.off("changed.owl.carousel").on("changed.owl.carousel",function(e){0===e.item.index?i.find(".prev").fadeOut():i.find(".prev").fadeIn(),e.item.count<=e.item.index+e.page.size?i.find(".next").fadeOut():i.find(".next").fadeIn()}),e.owlCarousel({dots:!1,loop:!1,margin:20,stagePadding:5,merge:!0,mergeFit:!0,startPosition:0,nav:!1,touchDrag:n,mouseDrag:n,responsive:{0:{items:3,slideBy:3},1200:{items:4,slideBy:4}}}),n&&i.find(".prev").html('<a class="nav-prev"></a>').css({"z-index":100}).off("click").on("click",function(){e.trigger("prev.owl.carousel")}).end().find(".next").html('<a class="nav-next"></a>').css({"z-index":100}).off("click").on("click",function(){e.trigger("next.owl.carousel")}).end())}},t(i).load(function(){e.HBIB.Drawer.Initialize()}),e.HBIB.Drawer=n}(window.NRT,jQuery,window),function(e,t,i){e=t.extend(!0,e,{HBIB:{LoginAjax:function(){}}});var n=function(i){var n,o=this,r=function(){o.$formErrors.show(),o.$form.find('input[id$="Password"]').val(""),o.$form.find('input[id$="EmailAddress"]').select()};if(this.$form=t(i),n=this.$form.data("_login"))return n;this.$formErrors=this.$form.find(".form-error"),this.ajaxConfig={url:e.Utility.AssembleUrl(["subscriber","loginajax"]),type:"POST",headers:{"x-my-custom-header":"manual"},statusCode:{400:t.proxy(r,this),418:t.proxy(r,this)}},this.$formErrors.hide(),this.$form.submit(t.proxy(function(e){e.preventDefault(),o.$form.valid()&&(o.ajaxConfig.data=o.$form.serialize().replace(/Menu/g,""),t.ajax(o.ajaxConfig))},o)),this.$form.data("_login",this)};n.prototype.BindForm=function(e){"function"==typeof e&&(this.ajaxConfig.statusCode[200]=e)},n.prototype.ResetForm=function(){var e,t,i;if(this.$formErrors.length&&this.$formErrors.hide(),(t=(e=this.$form.find(".message")).length)>0){for(i=0;i<t;i+=1)e.eq(i).parents(".error").removeClass("error");e.hide()}},t(i).load(function(){new e.HBIB.LoginAjax("#menu-sign-in > form").BindForm(function(){t(document).trigger(e.Event.eAction.USER_SIGNIN,["manual",e.Event.eTrackingOrigin.USER_SIGNIN_TM]),NRT.session.item("LoggedInStatus","ManualLoggedIn"),i.location.reload()})}),t(document).on("nrt:facebook:sdk:initialized",function(){FB.getLoginStatus(function(i){if(i&&"connected"===i.status){if(!e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus")))return t(document).trigger(e.Event.eAction.USER_SIGNIN,["fb_auto"]),e.session.item("LoggedInStatus","FBLoggedIn"),void(e.HBIB.GetUserStatus()||e.FacebookLogin.LoginAsync())}else e.HBIB.GetUserStatus()&&(e.HBIB.IsWindowNameSet(e.session.item("LoggedInStatus"))||(t(document).trigger(e.Event.eAction.USER_SIGNIN,["auto"]),e.session.item("LoggedInStatus","AutoLoggedIn")))})}),e.HBIB.LoginAjax=n}(window.NRT,jQuery,window),function(e,t,i){var n=function(){this.searchTerm="",this.searchData=null,this.searchType=null,this.sipType=null,this.sipTerm=null,this.$searchInputField=null,this.$sipTermInputField=null,this.$hiddenEntityField=null,this.useDefaultEntityURL=!1,this.searchLocationLimit="All",this.searchSource=-1,this.hiddenSearchEntity={HasEntity:!1},this.resultsCallback=function(n){n&&n.singleResultURL&&n.singleResultURL.length>0?i.location.href=n.singleResultURL:n&&n.redirectToUrl&&n.redirectToUrl.length>0?(e.SearchHistory.AddItem({searchURL:n.redirectToUrl,searchTerm:n.searchTerm}),n.searchEntity&&n.searchEntity.HasEntity&&e.SearchLocationsHistory.AddSearchLocation(n.searchEntity.Zone,n.searchEntity.EntityType,n.searchEntity.EntityId,n.searchEntity.Text),i.location.href=n.redirectToUrl):(t(".error").removeClass("error"),this.$searchInputField.closest("form").parent().addClass("error"),t(".message").remove(),this.$searchInputField.parent().append('<span for="searchtext" class="message">Oops! We didn\'t find any matching locations. Try again?</span>'))},this.validateForm=function(){var t=this.$searchInputField.closest("form"),i=/^[a-zA-Z0-9\s,\-_'"&\.\/\#()]+$/g;return e.Validate.Initialize(t),this.$searchInputField&&(this.$searchInputField.rules("remove"),this.$searchInputField.rules("add",{required:!0,messages:{required:"Oops! We didn't find any matching locations. Try again?"}}),this.$searchInputField.rules("add",{regex:i,messages:{regex:"Oops, we didn't understand those characters, Try again?"}})),this.$sipTermInputField&&(this.$sipTermInputField.rules("remove"),this.$sipTermInputField.rules("add",{required:!0,messages:{required:"Oops! We didn't find any matches. Try again?"}}),this.$sipTermInputField.rules("add",{regex:i,messages:{regex:"Oops, we didn't understand those characters, Try again?"}})),t.valid()}};n.prototype.Initialize=function(e,i,n,o){e&&(this.$searchInputField=t(e)),i&&(this.$sipTermInputField=t(i)),o&&(this.$hiddenEntityField=t(o)),this.useDefaultEntityURL=n||!1},n.prototype.SetSearchTerm=function(e){this.searchTerm=e},n.prototype.SetSearchData=function(e){this.searchData=e},n.prototype.SetSearchInfo=function(e,t){if(this.searchData=null,this.searchTerm=null,void 0!==t&&null!==t&&0!==t.length||(t=this.$searchInputField.val()),void 0===e||null===e){var i=this.GetHiddenSearchEntity();i.HasEntity?void 0===t||null===t?this.searchData=i:t&&t.length>0&&(t.toLowerCase()===i.Text.toLowerCase()?this.searchData=i:t.toLowerCase()!==i.Text.toLowerCase()&&(this.searchTerm=t)):this.searchTerm=t}else t&&t.length>0?e.Text.toLowerCase()===t.toLowerCase()?this.searchData=e:this.searchTerm=t:this.searchData=e},n.prototype.SetSearchType=function(e){this.searchType=e},n.prototype.SetResultsCallback=function(e){this.resultsCallback=e},n.prototype.SetSIPType=function(e){this.sipType=e},n.prototype.SetSIPTerm=function(e){this.sipTerm=e},n.prototype.SetSearchSource=function(e){this.searchSource=e},n.prototype.SetSearchLocationLimit=function(e){this.searchLocationLimit=e},n.prototype.GetDirectResultsURL=function(e){var t="",n="";return e.FriendlyURL&&e.FriendlyURL.length>0?n=i.location.protocol+"//"+i.location.hostname+e.FriendlyURL:(n=i.location.protocol+"//"+i.location.hostname+e.URL,-3===e.EntityId&&2===e.EntityType&&(t="?searchTerm="+encodeURIComponent(e.Text))),n+t},n.prototype.GetNLSResults=function(){var n=t("#phrasesearch"),o=n.val();t.ajax({url:e.Utility.AssembleUrl(["searchresults","getsearchurl"]),data:"phrase="+o,type:"POST"}).done(function(e){if(null==e||e.errorMessage&&e.errorMessage.length>0)return t(".error").removeClass("error"),n.closest("form").parent().addClass("error"),t(".message").remove(),void n.parent().append('<span for="searchtext" class="message">'+e.errorMessage+"</span>");i.location=i.location.origin+e.targetURL}).fail(function(e,t,i){""===i&&(i="error from NLS"),alert(i.toString())})},n.prototype.GetResults=function(){if(this.validateForm()){var n=this;this.useDefaultEntityURL&&this.searchData&&this.searchData.URL&&this.searchData.URL.length>0?(e.SearchHistory.AddItem({searchURL:this.searchData.URL,searchTerm:this.searchData.Text}),this.searchData.HasEntity&&e.SearchLocationsHistory.AddSearchLocation(this.searchData.Zone,this.searchData.EntityType,this.searchData.EntityId,this.searchData.Text),i.location=n.GetDirectResultsURL(n.searchData)):t.ajax({url:e.Utility.AssembleUrl(["quicksearch","getsearchresultsurl"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({searchEntity:n.searchData,searchTerm:n.searchTerm,searchTypeId:n.searchType,sipInfo:{SearchInitiationType:n.sipType,SearchInitiationTerm:n.sipTerm},searchLocationLimit:n.searchLocationLimit,searchSource:n.searchSource})}).done(function(e){n.resultsCallback(e)}).fail(function(t,i,n){var o="NRT.QuickSearch.getResults: get search: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+t.toString()),new Error(o)})}},n.prototype.GetHiddenSearchEntity=function(){try{var e,i;this.$hiddenEntityField&&(e=this.$hiddenEntityField.val())&&e.length>0&&(i=t.parseJSON(e))&&i.HasEntity&&(this.hiddenSearchEntity=i)}finally{return this.hiddenSearchEntity}},n.prototype.GetSearchInfo=function(e,t){return this.SetSearchInfo(e,t),{SearchData:this.searchData,SearchTerm:this.searchTerm}},e.QuickSearch=n}(window.NRT,jQuery,window),function(e,t){var i={},n={};i={Initialize:function(){n.initialize()},AddListing:function(e){n.addListing(e)},Prefetch:function(e,t,i){return n.prefetch(e,t,i),!1},SchedulePrefetch:function(e,t,i,o){e>0&&!n.isListingPrefetched(e)&&n.schedulePrefetch(e,t,i,o)},InitializeSearchResults:function(){i.Initialize(),n.registerSearchResults(),ioc("app.events").on(e.SearchListEvent.RENDER_COMPLETE,function(){n.registerSearchResults()}),ioc("app.events").on(e.SearchMapEvent.INFO_WINDOW_DETAIL_LINK_CLICK,function(e){n.prefetch(e.listingID,!1)})},InitializeTabsets:function(e){i.Initialize(),n.registerTabsets(e)}},n={prefetchStorageKey:"nrt:prefetch",prefetchStorage:null,prefetchedListings:null,prefetchedImageURLs:null,initialize:function(){n.prefetchStorage=e.Utility.StorageClientFactory(n.prefetchStorageKey),n.prefetchedListings=n.getPrefetchedListings(),n.removeOldListings(n.prefetchedListings),n.savePrefetchedListings()},getPrefetchedListings:function(){n.prefetchStorage=e.Utility.StorageClientFactory(n.prefetchStorageKey);var t=n.prefetchStorage.getItem("listings");return t=t||[],e.Utility.LogConsole("NRT.PrefetchedListings.getPrefetchedListings: returned listings from local storage"),t},savePrefetchedListings:function(){n.prefetchStorage=e.Utility.StorageClientFactory(n.prefetchStorageKey),n.prefetchStorage.setItem("listings",n.prefetchedListings),e.Utility.LogConsole("NRT.PrefetchedListings.savePrefetchedListings: listings saved to local storage")},isListingPrefetched:function(t){var i=!1;return t>0&&(i=n.prefetchedListings.some(function(e){return e.id===t})),i&&e.Utility.LogConsole("NRT.PrefetchedListings.isListingPrefetched: listing #"+t+" already prefetched"),i},removeOldListings:function(t){var i;if(t.length>0)for(i=t.length-1;i>=0;i-=1)Math.abs(Date.now()-t[i].date)>9e5&&(e.Utility.LogConsole("NRT.PrefetchedListings.removeOldListings: removed listing #"+t[i].id),t.splice(i,1));return t},addListing:function(t){var i;t>0&&!n.isListingPrefetched(t)&&(i={id:t,date:Date.now()},n.prefetchedListings.unshift(i),e.Utility.LogConsole("NRT.PrefetchedListings.addListing: added listing #"+t),n.savePrefetchedListings())},schedulePrefetch:function(e,i,o,r){t(document).one("mousemove touchmove",function(){setTimeout(n.prefetch(e,i,r),o)})},prefetch:function(i,o,r){t.ajax({url:e.Utility.AssembleUrl(["propertylisting","prefetch"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({id:i,returnImages:o})}).done(function(a){e.Utility.LogConsole("NRT.PrefetchedListings.preFetch: ajax call done, listing #"+i+", HttpStatus = "+a.HttpStatus),200!==a.HttpStatus&&304!==a.HttpStatus||(n.addListing(i),o&&a.ImageUrls&&a.ImageUrls.length>0&&(r?t(r).one("mouseover",function(){n.preloadImages(i,a.ImageUrls,r)}):setTimeout(function(){n.preloadImages(i,a.ImageUrls,r)},500)))}).fail(function(t,n,o){if(0!=t.status){var r="NRT.PrefetchedListings.preFetchPropertyDetailsInfo: ajax call failed, listing #"+i+", Status = "+t.status;throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,r,t,n,o),e.Utility.LogConsole(r+": "+o),new Error(r)}e.Utility.LogConsole("NRT.PrefetchedListings.preFetch: ajax call failed, listing #"+i+", Status = "+t.status)})},preloadImages:function(t,i,n){for(var o=0;o<i.length;o+=1){(new Image).src=i[o],n&&n.length>0?e.Utility.LogConsole("NRT.PrefetchedListings.preFetch: image loaded, link = "+n+", listing #"+t+", url = "+i[o]):e.Utility.LogConsole("NRT.PrefetchedListings.preFetch: image loaded, link = [UNKNOWN], listing #"+t+", url = "+i[o])}},registerSearchResults:function(){t(".search-list .list-items .property-snapshot .photo-carousel img").one("mousedown touchstart keydown",function(){var i=t(this).closest(".property-snapshot").data().pid;n.prefetch(i,!1,"#"+t(this).id),e.Utility.LogConsole("NRT.PrefetchedListings.registerSearchResults: photo carousel click fired, prefetch PD info for listing #"+i)}),t(".search-list .list-items .property-snapshot a").one("mousedown touchstart keydown",function(i){var o=t(this),r=o.closest(".property-snapshot").data("pid");n.prefetch(r,!1,"#"+o.id),e.Utility.LogConsole("NRT.PrefetchedListings.registerSearchResults: Property Snapshot text link fired, prefetch PD info for listing #"+r)})},registerTabsets:function(i){i||(i=".tab-content .property-snapshot"),t(i).one("mouseover",function(i){var o=t(this).data("pid");o&&o>0&&(n.prefetch(o,!0),e.Utility.LogConsole("NRT.PrefetchedListings.registerTabsets: Tabset Property Snapshot engaged, prefetch PD info for listing #"+o))}),t(i).on("click","a",function(){e.SearchResultsNavigation.ResetSearchContext()})}},e.PrefetchedListings=i}(window.NRT,jQuery),function(e,t){var i=function(){this.textBoxSelector=null,this.selectedObject=null,this.searchTerm=null,this.searchLocationLimit="All",this.returnSearchURL=!1,this.htmlEncode=function(e){return t("<div/>").html(e).text()}};i.prototype.Initialize=function(i,n,o,r,a){var s=this,l=["City","Community","Street","School District","County","Zip Code","School","MLSNumber"];this.textBoxSelector=i,this.returnSearchURL=r||!1,null!==a&&(this.searchLocationLimit=a),t.widget("custom.catcomplete",t.ui.autocomplete,{_renderMenu:function(i,n){var o,r=this,a="",s="";t.each(n,function(t,n){o=l[n.value.EntityType],41!==e.Profile.Zone||a===o||"City"!==o&&"Community"!==o?a!==o&&(a=o,s=o,i.append('<strong class="meta-title">'+s+"</strong>")):(a=o,"Locations"!==s&&(s="Locations",i.append('<strong class="meta-title">'+s+"</strong>"))),r._renderItemData(i,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,i){return t("<li>").append(t("<a><strong>").text(i.label)).appendTo(e)}}),t(this.textBoxSelector).catcomplete({delay:250,minLength:3,source:function(i,o){t.ajax({url:n,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({Text:i.term,SearchLocationLimit:s.searchLocationLimit,ReturnSearchURL:s.returnSearchURL})}).done(function(e){o(t.map(e.Hs,function(e){return{label:s.htmlEncode(e.Text),value:e}}))}).fail(function(t,i,n){var o="NRT.PropertySearchAutocomplete.initialize: save search: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n),new Error(o)})},appendTo:"#autocompletedropdown",select:function(e,i){var n=t(this);return n.val(s.htmlEncode(i.item.value.Text)),s.selectedObject=i.item.value,s.searchTerm=n.val(),!1},focus:function(e,i){var n=t(this);return i.item&&e&&(38===e.keyCode||40===e.keyCode)&&n.val(s.htmlEncode(i.item.value.Text)),!1},change:function(e,i){var n=t(this);o&&null===i.item?n.val(""):s.searchTerm=n.val()}})},i.prototype.GetSearchTerm=function(){return null!==this.searchTerm?this.searchTerm:t(this.textBoxSelector).val()},i.prototype.GetSelectedObject=function(){return this.selectedObject},i.prototype.SetSearchLocationLimit=function(e){this.searchLocationLimit=e},e.PropertySearchAutocomplete=i}(window.NRT,jQuery),function(e,t){var i={},n={};i={Initialize:function(){t.getScript("//translate.google.com/translate_a/element.js?cb=NRT.Translate.googleTranslateElementInit",function(e,i,o){t(".language-link > a").on("click",n.openHandler),t(".language-link-small > a").on("click",n.openHandler),t("ul.select-language > li > a").on("click",n.languageSelect)})},googleTranslateElementInit:function(){new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"bn,de,en,es,fr,hi,ja,ko,pt,ru,vi,zh-CN,zh-TW",layout:google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1,gaTrack:!0,gaId:"UA-46913301-1"},"google_translate_element")}},n={openHandler:function(e){t("#mdTranslate").lightbox_me({lightboxSpeed:500,overlaySpeed:300,appearEffect:"fadeIn",appearEase:"swing",centered:!0,closeEsc:!0,closeClick:!1}),e.preventDefault()},languageSelect:function(e){var i=t(this),o=i.attr("data-text"),r=i.attr("data-abbr");e&&e.preventDefault&&e.preventDefault(),t(".language-current").text(o),t(".language-abbr").text(r),"EN"===r?t(".language-abbr").addClass("notranslate"):t(".language-abbr").removeClass("notranslate"),t("iframe.goog-te-menu-frame").contents().find(".goog-te-menu2-item div span:contains("+o+")").click(),n.checkCookie(o),t(".btn-close").click()},checkCookie:function(e){Cookies.getJSON("googtrans")||t("iframe.goog-te-menu-frame").contents().find(".goog-te-menu2-item div span:contains("+e+")").click()}},e.Translate=i}(window.NRT,jQuery,window);var fby=fby||[];!function(e,t,i){var n={Initialize:function(){t.ajax({url:"//cdn.feedbackify.com/f.js",dataType:"script",cache:!0}).done(function(){e.Utility.LogConsole("NRT.Feedback.Initialize: loaded Feedbackify")}),t("#feedback_link").click(function(){return fby.push(["showForm","11267"]),!1})}};e.Feedback=n}(window.NRT,jQuery,window),function(e,t){var i={Initialize:function(e){var i=t(e);i.removeData("validator"),i.removeData("unobtrusiveValidation"),i.validate({errorClass:"message",errorElement:"span",ignore:".ignore",invalidHandler:function(e,i){var n,o=i.numberOfInvalids(),r=i.errorList,a=r.length;if(o)for(n=0;n<a;n+=1)t(r[n].element).parent().addClass("error")},errorPlacement:function(e,i){i.data("errorid")?t("#"+i.data("errorid")).append(e):e.insertAfter(i)},showErrors:function(e,t){var i,n;for(i=0;t[i];i+=1)n=this.errorList[i].element,this.errorsFor(n).remove();this.defaultShowErrors()}})}};(e=t.extend(!0,e,{Validate:{}})).Validate=t.extend(!0,e.Validate,i)}(window.NRT,jQuery),function(e,t){e=t.extend(!0,e,{Validate:{Unobtrusive:{}}});var i={},n={};i={Parse:function(e){var i,o,r=t(e);r.length&&(i="validator",(o=t.data(r[0],i))&&t.extend(o.settings,{errorClass:"message",errorElement:"span",errorPlacement:t.proxy(n._errorPlacement,r),highlight:t.proxy(n._highlight,r),unhighlight:t.proxy(n._unhighlight,r),showErrors:t.proxy(n._showErrors,o),success:""}))}},n={_errorPlacement:function(e,t){e.insertAfter(t)},_highlight:function(e){t(e).parent().addClass("error")},_unhighlight:function(e){t(e).parent().removeClass("error")},_showErrors:function(e,t){var i,n,o=t.length;for(i=0;i<o;i+=1)n=t[i].element,this.errorsFor(n).remove();this.defaultShowErrors()}},e.Validate.Unobtrusive=i}(window.NRT,jQuery),function(e){e.validator.setDefaults({onfocusout:function(t,i,n){if(e("#MenuSubscriberLogin_Password")[0]===t||e("#MenuSubscriberLogin_EmailAddress")[0]===t||e(".js-subscriber-login-password")[0]===t||e(".js-subscriber-login-email-address")[0]===t)return!1},highlight:function(t,i,n){e(t).closest('form[id^="IC_"]').find('label[for="'+e(t).attr("id")+'"]').parent().addClass("error"),e(t).parent().addClass("error")},unhighlight:function(t,i,n){e(t).parent().removeClass("error"),e(t).closest('form[id^="IC_"]').find('label[for="'+e(t).attr("id")+'"]').parent().removeClass("error")}}),e.validator.unobtrusive.adapters.add("requiredif",["other","comp","value"],function(t){t.rules.requiredif={other:e('[name$=".'+t.params.other+'"]'),comp:t.params.comp,value:t.params.value},t.messages.requiredif=t.message}),e.validator.unobtrusive.adapters.add("uszipcode",{},function(e){e.rules.uszipcode=!0,e.messages.uszipcode=e.message}),e.validator.addMethod("requiredif",function(t,i,n){var o,r=n.other;return!(r.length&&(o="checkbox"===r.attr("type")?r.is(":checked").toString():r.val(),"isequalto"===n.comp?o===n.value:o!==n.value))||e.validator.methods.required.call(this,t,i,n)}),e.validator.addMethod("agentTeamSearchLocationRequiredCheck",function(t,i,n){var o="true"===e('input[name="'+n.data[0]+'"]').val().toLowerCase();return""!==e(i).val()||!!o&&""!==e('input[name="'+n.data[1]+'"]').val()},""),e.validator.addMethod("agentTeamSearchLocationValidityCheck",function(t,i,n){var o,r,a;return!e(i).val()||(o=e('input[name="'+n.data[1]+'"]').val(),r=e('input[name="'+n.data[2]+'"]').val(),a=e('input[name="'+n.data[3]+'"]').val(),o&&r&&a)},""),e.validator.addMethod("advisorSearchLocationCheck",function(t,i,n){var o,r,a;return"true"===e("input#"+n.data[0]).val().toLowerCase()||(!e(i).val()||(o=e("input#"+n.data[1]).val(),r=e("input#"+n.data[2]).val(),a=e("input#"+n.data[3]).val(),o&&r&&a))},""),e.validator.addMethod("officeSearchLocationRequiredCheck",function(t,i,n){return e(i).val().trim()},""),e.validator.addMethod("officeSearchLocationValidityCheck",function(t,i,n){var o,r,a;return!e(i).val()||(o=e('input[name="'+n.data[1]+'"]').val(),r=e('input[name="'+n.data[2]+'"]').val(),a=e('input[name="'+n.data[3]+'"]').val(),o&&r&&a)},""),e.validator.addMethod("agentTeamSearchNameCheck",function(t,i,n){return""!==e(i).val()||!("true"===e('input[name="'+n.data[0]+'"]').val().toLowerCase())},""),e.validator.addMethod("advisorSearchNameCheck",function(t,i,n){return""!==e(i).val()||!("true"===e("input#"+n.data[0]).val().toLowerCase())},""),e.validator.addMethod("uszipcode",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)}),e.validator.addMethod("inContactPhoneNumber",function(e,t){var i;return Number.prototype.isBetween||(Number.prototype.isBetween=function(e,t){return e<=this&&this<=t}),0===e.length?this.optional(t)||!0:0!==(i=e.replace(/[^\d]/g,"").length||0)&&(this.optional(t)||i.isBetween(10,15))}),e.validator.addMethod("emailAlertsSettingsEmailAddresses",function(e,t){var i=e.split(",").length;return!!/^([a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+(\.[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,})){1}(,[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+(\.[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,}))*$/.test(e)&&(!(i>2)&&(this.optional(t)||!0))}),e.validator.addMethod("alertPreferencesAdditionalRecipients",function(e,t){var i=e.split(",").length,n=/^([a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+(\.[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,})){1}(,[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+(\.[a-z0-9,!#\$%&'\*\+/=\?\^_`\{\|}~-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,}))*$/.test(e);return!(i>2)&&(this.optional(t)||n)})}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * Pikaday
 *
 * @Copyright © 2014 David Bushell | @License: BSD & MIT license | https://github.com/dbushell/Pikaday
 */
/*!
 * Pikaday
 *
 * @Copyright © 2014 David Bushell | @License: BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(e,t){var i;if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){try{i=require("moment")}catch(e){}module.exports=t(i)}else"function"==typeof define&&define.amd?define(function(e){return i=e.defined&&e.defined("moment")?e("moment"):void 0,t(i)}):e.Pikaday=t(e.moment)}(window,function(e){var t="function"==typeof e,i=!!window.addEventListener,n=window.document,o=window.setTimeout,r=function(e,t,n,o){i?e.addEventListener(t,n,!!o):e.attachEvent("on"+t,n)},a=function(e,t,n,o){i?e.removeEventListener(t,n,!!o):e.detachEvent("on"+t,n)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},u=function(e){c(e)&&e.setHours(0,0,0,0)},d=function(e,t){return e.getTime()===t.getTime()},p=function(e,t,i){var n,o;for(n in t)(o=void 0!==e[n])&&"object"===_typeof(t[n])&&void 0===t[n].nodeName?c(t[n])?i&&(e[n]=new Date(t[n].getTime())):l(t[n])?i&&(e[n]=t[n].slice(0)):e[n]=p({},t[n],i):!i&&o||(e[n]=t[n]);return e},h=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},f={field:null,bound:void 0,position:"bottom left",format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},m=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},g=function(e,t,i,n,o,r,a){if(a)return'<td class="is-empty"></td>';var s=[];return r&&s.push("is-disabled"),o&&s.push("is-today"),n&&s.push("is-selected"),'<td data-day="'+e+'" class="'+s.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+i+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button></td>"},v=function(e,t,i,n,o){var r,a,s,c,u,d=e._o,p=i===d.minYear,h=i===d.maxYear,f='<div class="pika-title">',m=!0,g=!0;for(s=[],r=0;r<12;r++)s.push('<option value="'+(i===o?r-t:12+r-t)+'"'+(r===n?" selected":"")+(p&&r<d.minMonth||h&&r>d.maxMonth?"disabled":"")+">"+d.i18n.months[r]+"</option>");for(c='<div class="pika-label">'+d.i18n.months[n]+'<select class="pika-select pika-select-month">'+s.join("")+"</select></div>",l(d.yearRange)?(r=d.yearRange[0],a=d.yearRange[1]+1):(r=i-d.yearRange,a=1+i+d.yearRange),s=[];r<a&&r<=d.maxYear;r++)r>=d.minYear&&s.push('<option value="'+r+'"'+(r===i?" selected":"")+">"+r+"</option>");return u='<div class="pika-label">'+i+d.yearSuffix+'<select class="pika-select pika-select-year">'+s.join("")+"</select></div>",d.showMonthAfterYear?f+=u+c:f+=c+u,p&&(0===n||d.minMonth>=n)&&(m=!1),h&&(11===n||d.maxMonth<=n)&&(g=!1),0===t&&(f+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(f+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),f+"</div>"},y=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+function(e){var t,i=[];for(t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+m(e,t)+'">'+m(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?i.reverse():i).join("")+"</thead>"}(e)+(i=t,"<tbody>"+i.join("")+"</tbody>")+"</table>";var i},b=function(a){var l=this,u=l.config(a);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t){if(!s(t,"is-disabled")){if(s(t,"pika-button")&&!s(t,"is-empty"))return l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),void(u.bound&&o(function(){l.hide(),u.field&&u.field.blur()},100));s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth()}if(s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onInputChange=function(i){var n;i.firedBy!==l&&(n=t?(n=e(u.field.value,u.format))&&n.isValid()?n.toDate():null:new Date(Date.parse(u.field.value)),l.setDate(c(n)?n:null),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){l._c||(l._b=o(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!i&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),r(t,"change",l._onChange)));do{if(s(n,"pika-single"))return}while(n=n.parentNode);l._v&&t!==u.trigger&&l.hide()}},l.el=n.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":""),r(l.el,"mousedown",l._onMouseDown,!0),r(l.el,"change",l._onChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?n.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),r(u.field,"change",l._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var d=u.defaultDate;c(d)?u.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",r(u.trigger,"click",l._onInputClick),r(u.trigger,"focus",l._onInputFocus),r(u.trigger,"blur",l._onInputBlur)):this.show()};return b.prototype={config:function(e){this._o||(this._o=p({},f,!0));var t=p(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(u(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(u(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),l(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||f.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return c(this._d)?t?e(this._d).format(i||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,n){t&&e.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var i=this._o.minDate,o=this._o.maxDate;c(i)&&e<i?e=i:c(o)&&e>o&&(e=o),this._d=new Date(e.getTime()),u(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),function(e,t,i){var o;n.createEvent?((o=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),o=p(o,i),e.dispatchEvent(o)):n.createEventObject&&(o=n.createEventObject(),o=p(o,i),e.fireEvent("on"+t,o))}(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=o<i.getTime()||n.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=h(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=h({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,i=t.minYear,n=t.maxYear,r=t.minMonth,a=t.maxMonth,s="";this._y<=i&&(this._y=i,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=n&&(this._y=n,!isNaN(a)&&this._m>a&&(this._m=a));for(var l=0;l<t.numberOfMonths;l++)s+='<div class="pika-lendar">'+v(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=s,t.bound&&"hidden"!==t.field.type&&o(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var c=this;o(function(){c._o.onDraw.call(c)},0)}}},adjustPosition:function(){if(!this._o.container){var e,t,i,o=this._o.trigger,r=o,a=this.el.offsetWidth,s=this.el.offsetHeight,l=window.innerWidth||n.documentElement.clientWidth,c=window.innerHeight||n.documentElement.clientHeight,u=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop;if("function"==typeof o.getBoundingClientRect)e=(i=o.getBoundingClientRect()).left+window.pageXOffset,t=i.bottom+window.pageYOffset;else for(e=r.offsetLeft,t=r.offsetTop+r.offsetHeight;r=r.offsetParent;)e+=r.offsetLeft,t+=r.offsetTop;(e+a>l||this._o.position.indexOf("right")>-1&&e-a+o.offsetWidth>0)&&(e=e-a+o.offsetWidth),(t+s>c+u||this._o.position.indexOf("top")>-1&&t-s-o.offsetHeight>0)&&(t=t-s-o.offsetHeight),this.el.style.cssText=["position: absolute","left: "+e+"px","top: "+t+"px"].join(";")}},render:function(e,t){var i=this._o,n=new Date,o=function(e,t){return[31,(i=e,i%4==0&&i%100!=0||i%400==0?29:28),31,30,31,30,31,31,30,31,30,31][t];var i}(e,t),r=new Date(e,t,1).getDay(),a=[],s=[];u(n),i.firstDay>0&&(r-=i.firstDay)<0&&(r+=7);for(var l=o+r,p=l;p>7;)p-=7;l+=7-p;for(var h=0,f=0;h<l;h++){var m=new Date(e,t,h-r+1),v=i.minDate&&m<i.minDate||i.maxDate&&m>i.maxDate,b=!!c(this._d)&&d(m,this._d),S=d(m,n),w=h<r||h>=o+r;s.push(g(h-r+1,t,e,b,S,v,w)),7==++f&&(a.push((E=s,"<tr>"+(i.isRTL?E.reverse():E).join("")+"</tr>")),s=[],f=0)}var E;return y(i,a)},isVisible:function(){return this._v},show:function(){this._v||(!function(e,t){e.className=(i=(" "+e.className+" ").replace(" "+t+" "," "),i.trim?i.trim():i.replace(/^\s+|\s+$/g,""));var i}(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(r(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(n,"click",this._onClick),this.el.style.cssText="",t=this.el,s(t,i="is-hidden")||(t.className=""===t.className?i:t.className+" "+i),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this));var t,i},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},b}),
/*!
 * Pikaday jQuery plugin.
 *
 * @Copyright © 2013 David Bushell | @License: BSD & MIT license | https://github.com/dbushell/Pikaday
 */
function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?t(require("jquery"),require("../pikaday")):"function"==typeof define&&define.amd?define(["jquery","pikaday"],t):t(e.jQuery,e.Pikaday)}(window,function(e,t){e.fn.pikaday=function(){var i=arguments;return i&&i.length||(i=[{}]),this.each(function(){var n=e(this),o=n.data("pikaday");if(o instanceof t)"string"==typeof i[0]&&"function"==typeof o[i[0]]&&o[i[0]].apply(o,Array.prototype.slice.call(i,1));else if("object"===_typeof(i[0])){var r=e.extend({},i[0]);r.field=n[0],n.data("pikaday",new t(r))}})}}),
/*!
	Autosize v1.18.9 - 2014-05-27
	Automatically adjust textarea height based on user input.
	@Copyright (c) 2014 Jack Moore - http://www.jacklmoore.com/autosize
	@License: http://www.opensource.org/licenses/mit-license.php
*/
function(e){var t,i={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&n.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(r){return this.length?(r=e.extend({},i,r||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){var i,a,s,l=this,c=e(l),u=0,d=e.isFunction(r.callback),p={height:l.style.height,overflow:l.style.overflow,overflowY:l.style.overflowY,wordWrap:l.style.wordWrap,resize:l.style.resize},h=c.width(),f=c.css("resize");c.data("autosize")||(c.data("autosize",!0),"border-box"!==c.css("box-sizing")&&"border-box"!==c.css("-moz-box-sizing")&&"border-box"!==c.css("-webkit-box-sizing")||(u=c.outerHeight()-c.height()),a=Math.max(parseInt(c.css("minHeight"),10)-u||0,c.height()),c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===f?c.css("resize","none"):"both"===f&&c.css("resize","horizontal"),"onpropertychange"in l?"oninput"in l?c.on("input.autosize keyup.autosize",g):c.on("propertychange.autosize",function(){"value"===event.propertyName&&g()}):c.on("input.autosize",g),!1!==r.resizeDelay&&e(window).on("resize.autosize",v),c.on("autosize.resize",g),c.on("autosize.resizeIncludeStyle",function(){t=null,g()}),c.on("autosize.destroy",function(){t=null,clearTimeout(s),e(window).off("resize",v),c.off("autosize").off(".autosize").css(p).removeData("autosize")}),g());function m(){var t,i=!!window.getComputedStyle&&window.getComputedStyle(l,null);i?(0!==(t=l.getBoundingClientRect().width)&&"number"==typeof t||(t=parseInt(i.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,n){t-=parseInt(i[n],10)})):t=c.width(),o.style.width=Math.max(t,0)+"px"}function g(){var s,p;t!==l?function(){var a={};if(t=l,o.className=r.className,o.id=r.id,i=parseInt(c.css("maxHeight"),10),e.each(n,function(e,t){a[t]=c.css(t)}),e(o).css(a).attr("wrap",c.attr("wrap")),m(),window.chrome){var s=l.style.width;l.style.width="0px",l.offsetWidth,l.style.width=s}}():m(),!l.value&&r.placeholder?o.value=(c.attr("placeholder")||"")+r.append:o.value=l.value+r.append,o.style.overflowY=l.style.overflowY,p=parseInt(l.style.height,10),o.scrollTop=0,o.scrollTop=9e4,s=o.scrollTop,i&&s>i?(l.style.overflowY="scroll",s=i):(l.style.overflowY="hidden",s<a&&(s=a)),p!==(s+=u)&&(l.style.height=s+"px",d&&r.callback.call(l,l))}function v(){clearTimeout(s),s=setTimeout(function(){var e=c.width();e!==h&&(h=e,g())},parseInt(r.resizeDelay,10))}})):this}}(window.jQuery||window.$);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,i,n,o){var r={},a={};r={EFormPresentation:{inline:0,dialog:1,anchored:2},InitializeForm:function(t){var i,n,o,r="";if(0===t.length){var s="NRT.Forms.initializeForm: Implementation Error > missing form";throw e.Event.Raise(e.Event.eError.FORM_ERROR,s),e.Utility.LogConsole(s),new Error(s)}i=a.formParentSelector,n=t.data(a.formNameDataName),o=t.data(a.formTypeIDDataName),t.find("input.datepicker"),a.initializeFormDatePicker(t),"function"==typeof a["initialize"+n]&&(a["initialize"+n](t),e.Utility.LogConsole("NRT.Forms.initializeForm: Custom initialization completed for Form "+t.attr("id"))),a.setupAreaOfInterestDDL(t),"dialog"===(r=t.parent(i).attr("id").split("_").pop().toLowerCase())&&a.eFormType.EmailAFriend!==o?(a.removeInlineFormSpecifics(t),t.data(a.formPresentationDataName,r),t.find("textarea").trigger("autosize.destroy")):a.initInline(t,o),t.find("textarea").autosize()},Initialize:function(){var o,s=t(a.availableFormsSelector);s.length>0&&(o=t.ajaxSettings.cache,t.ajaxSetup({cache:!0,async:!0}),t.getScript(a.inContactScriptUrl).done(function(){s.each(function(){var e=t(this);e.attr("id",e.attr("id")),r.InitializeForm(e)}),t(n).on("click","a[data-ic-form]",function(e){e.preventDefault(),t(this).blur(),r.OpenDialog(this)})}).fail(function(t,i,n){e.StatusSlider.ShowErrorSlider();var o="NRT.Forms.initialize: Ajax Load Failed";throw e.Event.Raise(e.Event.eError.INCONTACT_ERROR,o,a.inContactScriptUrl,t,i,n),e.Utility.LogConsole(o+" for "+a.inContactScriptUrl),new Error(o)}),t.ajaxSetup({cache:o})),t(i).on(e.Utility.eEvents.HBIB_FAVE_PROP_SAVE,function(e,i){-1===t.inArray(i,a.savedProperties)&&a.savedProperties.push(i)}),t(i).on(e.Utility.eEvents.HBIB_FAVE_PROP_REMOVE,function(e,i){for(;t.inArray(i,a.savedProperties)>-1;)a.savedProperties.pop(i)})},ResetForm:function(t,i){t.find(a.formErrorSelector).html("").hide(),t.find(a.formInputs).show(),t.find(a.messageSentSelector).hide(),t.find(a.savePropertySelector).hide(),t.find("p.modal-title,h2.title").hide(),t.parent().find("a.btn-close.close").hide(),t[0].reset(),t.find("input.submit-btn").attr("disabled",!1),t.find(".error").removeClass("error"),t.data(a.formTypeIDDataName)===a.eFormType.EmailAFriend&&e.SocialShare.Close(),e.Utility.LogConsole("NRT.Forms.resetForm: form "+t.attr("id")+" reset")},OpenDialog:function(e){var i=t(e),n=t(e).data(),o=n[a.formPresentationDataName],s="div#"+n.icForm+"_Dialog form[id^="+n.icForm+"]",l=t(s).first(),c=l.data(a.formTypeIDDataName),u=n.icFormTitle,d="object"===_typeof(n.icFormFields)?n.icFormFields:null;0===l.length&&(s="form[id^="+n.icForm+"]",l=t(s).first()),n&&(t.inArray(c,[a.eFormType.ContactUsTeam,a.eFormType.ContactUsOffice])>-1&&(u=null),a.initDialog(i,s,c,u,d,r.EFormPresentation[o]))}},a={inContactScriptUrl:function(){for(var t=i.location.protocol+(0===i.location.hostname.indexOf("dr.")?"//dr-incontact.":"//incontact.")+/[^\.]+\.[^\.]+$/.exec(i.location.hostname)[0]+e.Utility.AssembleUrl(["js","incontact","2"]),o=3,r=n.createElement("div"),a=r.getElementsByTagName("i");r.innerHTML="\x3c!--[if gt IE "+ ++o+"]><i></i><![endif]--\x3e",a[0];);return 4<o&&o<10?e.Utility.AssembleUrl(["incontact","js","incontact","2"]):t}(),confirmationSelector:"div#IC_FormConfirmation_Dialog",confirmationDisplayTime:4e3,availableFormsSelector:"form[id^=IC_]",formParentSelector:"div[id$=_Dialog],[id$=_Inline],[id$=_Anchored]",formBaseSelector:"div#icFormBase:hidden",formBaseDataName:"icFormBase_info",formSubscriberContactInfoDataName:"icFormBase_subscriberContactInfo",formEmailAlertPreferredInfoDataName:"icFormBase_emailAlertPreferredInfo",formPresentationDataName:"icFormPresentation",formTypeIDDataName:"icFormTypeId",formNameDataName:"icFormName",formInputs:"div.form-wrap",formErrorSelector:"p.form-error",messageSentSelector:"div.message-sent",savePropertySelector:"div.message-sent div.js-save-property",formTitle:"",moreInfoFormID:"",scheduleShowingID:"",icDatePicker:null,eFieldType:["Unknown","Email","Phone","ZipCode","String"],eFormPresentationName:["Inline","Dialog","Anchored"],eFormType:{ContactMe:0,ContactUsTeam:1,BuilderServices:2,RequestMoreInfo:3,ScheduleAShowing:4,RequestAHomeValuation:5,RequestAMovingQuote:6,ListingMyProperty:7,RequestMortgageInfo:8,Careers:9,JoinOurOffice:10,EmploymentOpportunity:11,Concierge:12,RelocationContact:13,PriorityReservation:14,ContactCustomerService:15,EmailAFriend:16,RequestHomeWarranty:17,InquireAboutEvent:18,ContactMeMortgageAdvisor:19,SendTextMessage:20,MortgageCalculator:21,Promotion:22,PrivacyPolicy:23,ConciergeServiceProvider:25,Registration:26,HelpSelectingAssociate:27,DirectEmail:28,ContactUsOffice:29,GenericForm:99},eFormOrigin:{OfficeSearchResults:0,OfficeProfile:1,AgentSearchResults:2,AgentProfile:3,TeamProfile:4,MortgageServices:5,PropertySearchResults:6,PropertyDetails:7,NCSearchResults:8,NCCommunityDetails:9,NCModelDetails:10,MyAccount:11,CareersHome:14,SiteMap:15,MortgageAdvisorSearchResults:16,MortgageAdvisorProfile:17,MortgageCalculator:18,ContactUsHome:19,AgentBrandedProfile:20,TeamBrandedProfile:21,EventsSearchResults:22,EmploymentSearchResults:23,BuyYourHomeNCContent:24,EmailCampaignMessage:25,AdCampaign:26,VisitPittsburgh:27,Relocation:28,Promotion:29,AgentRecruitingSite:30,MySite:31,OfficeAgentSearch:32,ContentPages:33,DirectEmail:34,LocationProfile:35},FormModel:{FormID:0,OriginID:0,ZoneID:0,CompanyID:0,StateID:0,RegionID:0,ListingID:0,DevelopmentID:0,ModelID:0,OfficeID:0,PreferredAgentID:0,PreferredTeamID:0,AgentID:0,TeamID:0,MortgageAdvisorID:0,IsIDX:!1},FormFields:{FirstName:"",LastName:"",EmailFrom:"",Phone:"",Message:"",State:"",TimeOfDay:"",ShowingDate:"",HasLicense:""},showError:function(e,i){t(e).find(a.messageSentSelector).hide().end().find(a.formErrorSelector).html(i).fadeIn(1e3).end()},showSuccess:function(i,n,o){var s=t(i);if(0===s.length){var l="NRT.Forms.showsuccess: Implementation Error > missing form";throw e.Event.Raise(e.Event.eError.FORM_ERROR,l),e.Utility.LogConsole(l),new Error(l)}s.find(a.formErrorSelector).html("").hide(),a.saveSubscriberProfile(s),"inline"===s.data(a.formPresentationDataName)?t.inArray(s.data(a.formTypeIDDataName),[a.eFormType.RequestMoreInfo,a.eFormType.ScheduleAShowing,a.eFormType.EmailAFriend])>-1?a.showConfirmationInline(s,o,null,!0):a.showConfirmationInline(s,o,null,!1):(n.parent().trigger("close"),r.ResetForm(s),r.InitializeForm(s),a.showConfirmationDialog(null,!1))},callbackHandler:function(t,i){var n,o,r;return function(s,l){if(n="#"+t.attr("id"),o=[],void 0===s)"nocontent"===l?a.showSuccess(n,t,i):(o.push("An unknown issue occurred"),o.push("-----------------------------"),o.push("No response or status are present in the callback"));else switch(s.status){case 200:case 202:case 204:a.showSuccess(n,t,i);break;case 400:if(o.push(s.statusText),o.push("-----------------------------"),o.push.apply(o,s.responseJSON.Message.replace(/.{35}\S*\s+/g,"$&@").split(/\s+@/)),void 0!==s.responseJSON.Data&&void 0!==s.responseJSON.Data.MissingFields&&s.responseJSON.Data.MissingFields.length>0)o.push("Missing Field"+(s.responseJSON.Data.MissingFields.length>1?"s":"")+":"),s.responseJSON.Data.MissingFields.forEach(function(e,t){s.responseJSON.Data.MissingFields.length>1&&o.push("Field "+(t+1)),o.push("- Name: "+e.Name),o.push("- Type: "+a.eFieldType[e.Type]),o.push("- MaxLength: "+e.MaxLength)});else if(void 0!==s.responseJSON.Data&&void 0!==s.responseJSON.Data.InvalidFields&&s.responseJSON.Data.InvalidFields.length>0)o.push("Invalid Field"+(s.responseJSON.Data.InvalidFields.length>1?"s":"")+":"),s.responseJSON.Data.InvalidFields.forEach(function(e,t){s.responseJSON.Data.InvalidFields.length>1&&o.push("Field "+(t+1)),o.push("- Name: "+e.Name),o.push("- Type: "+a.eFieldType[e.Type]),o.push("- Value: "+e.Value)});else if(void 0!==s.responseJSON.Data&&"object"===_typeof(s.responseJSON.Data)){o.push("Data Issue:");for(r in s.responseJSON.Data)s.responseJSON.Data.hasOwnProperty(r)&&o.push("- "+r+': "'+s.responseJSON.Data[r]+'"')}break;default:o.push(s.statusText)}if(o.length>0){a.showError(n,o.join("<br/>"));var c="NRT.Forms.callbackHandler: Error: "+o.join(", ");e.Event.Raise(e.Event.eError.FORM_ERROR,c),e.Utility.LogConsole(c),t.find("input.js-submit-button").attr("disabled",!1)}}},saveSubscriberProfile:function(e){var i=e.find("input.js-phone-input");if(i&&i.length>0){var n=i[0].value;t.ajax({async:!0,method:"post",url:"/Subscriber/UpdateSubscriberPhone",data:{phone:n},dataType:"json",complete:function(e,t,i){}})}},formValidation:function(){validator.numberOfInvalids()&&t.each(validator.errorList,function(e,i){t(i.element).parent().addClass("error")})},initializeFormValues:function(i){var n,o;try{(n=i[0].elements).length>0&&t.each(n,function(e,t){void 0!==a.FormFields[t.name]&&(o=a.FormFields[t.name],""===t.value&&""!==o&&(t.value=o))}),e.Utility.LogConsole("NRT.Forms.initializeFormValues: Form Values initialized for form "+a.FormModel.FormID)}catch(t){e.StatusSlider.ShowErrorSlider();var r="NRT.Forms.initializeFormValues: Error: Failure to initialize Form Values for form "+a.FormModel.FormID;throw e.Event.Raise(e.Event.eError.FORM_ERROR,r,t),e.Utility.LogConsole(r+"\nEither Form is missing from View or is missing Form Fields\n"+t),new Error(r)}},initializeFormValidation:function(i){var n,o,r,s="",l=i.find("input.js-phone-input");if(0===i.length)throw s="NRT.Forms.initializeFormValidation: Implementation Error > missing form",e.Event.Raise(e.Event.eError.FORM_ERROR,s),e.Utility.LogConsole(s),new Error(s);(n=i[0].elements).length>0&&t.each(n,function(e,i){t(this).parent().removeClass("error")}),e.Validate.Initialize(i),l&&l.length>0&&a.setupPhoneValidation(l),i.find("input.js-submit-button").off("click").on("click",function(n){i.find(a.messageSentSelector).slideUp(500).fadeOut(500),(o=i.validate()).form()?setTimeout(function(){t(n.currentTarget).attr("disabled",!0)},10):(0===i.find(".error:visible:first:in-viewport").length&&(r=i.find(".error:visible:first").offset().top+"px",t("html, body").animate({scrollTop:r},"500","swing")),s="NRT.Forms.initializeFormValidation: Validation Error",e.Utility.LogConsole(s+": This form ("+o.currentForm.id+") is invalid?"),e.Utility.LogConsole(s+": What is invalid: "+JSON.stringify(o.invalid)),n.preventDefault())}),e.Utility.LogConsole("NRT.Forms.initializeFormValidation: Form Validation initialized for form "+a.FormModel.FormID)},copyElements:function(e,t){var i;for(i in t)t.hasOwnProperty(i)&&e[i]&&(t[i]=e[i]);return t},initializeFormFields:function(i,o,r){var s,l,c,u,d,p,h;if(0===i.length){var f="NRT.Forms.initializeFormFields: Implementation Error > missing form";throw e.Event.Raise(e.Event.eError.FORM_ERROR,f),e.Utility.LogConsole(f),new Error(f)}t("<input>").attr({type:"hidden",name:"URL",value:n.location.href}).appendTo(i),s=i.attr("id"),c=(l=t(a.formBaseSelector)).data(a.formBaseDataName),u=l.data(a.formSubscriberContactInfoDataName),d=l.data(a.formEmailAlertPreferredInfoDataName),null!==c&&"object"===(void 0===c?"undefined":_typeof(c))&&(p=c),null!==p&&"object"===(void 0===p?"undefined":_typeof(p))&&(a.FormModel=a.copyElements(p,a.FormModel)),null!==r&&"object"===(void 0===r?"undefined":_typeof(r))&&(a.FormModel=a.copyElements(r,a.FormModel),a.initializeFormValues(i)),null!==o&&o>-1&&(a.FormModel.FormID=o),u&&"object"===(void 0===u?"undefined":_typeof(u))&&null!==u.EmailFrom&&(a.FormFields=a.copyElements(u,a.FormFields),a.FormModel.PreferredAgentID=u.PreferredAgentID,a.FormModel.PreferredTeamID=u.PreferredTeamID),d&&"object"===(void 0===d?"undefined":_typeof(d))&&(a.FormModel=a.copyElements(d,a.FormModel)),a.initializeFormValidation(i),h=a.callbackHandler(i,a.FormModel.ListingID),i.off("submit"),e.InContact.bind("#"+s,a.FormModel,h),e.Utility.LogConsole("NRT.Forms.initializeFormFields: Form "+s+" initialized")},initInline:function(t,i){if(0===t.length){var n="NRT.Forms.initInline: Implementation Error > missing form";throw e.Event.Raise(e.Event.eError.FORM_ERROR,n),e.Utility.LogConsole(n),new Error(n)}var o=t.parent().data(),r=o.icFormTitle||"Contact",s=o.icFormFields||null;i!==a.eFormType.EmailAFriend&&(t.find("p.btn-primary.tablet-down-show.trigger-more-info-form a").text(r),t.find("h2.title").text(r).show(),t.find(".js-link-cancel").hide()),a.initializeFormFields(t,i,s),e.Utility.LogConsole("NRT.Forms.initInline: initialized")},initDialog:function(n,o,s,l,c,u){var d,p,h,f,m,g=t(o),v="a.btn-close.close",y=".js-link-cancel";if(g.data(a.formTypeIDDataName)===a.eFormType.ScheduleAShowing?(t("#IC_RequestMoreInfo_3_Dialog").trigger("close"),t("#IC_EmailAFriend_16_Dialog").trigger("close")):g.data(a.formTypeIDDataName)===a.eFormType.RequestMoreInfo&&(t("#IC_ScheduleAShowing_4_Dialog").trigger("close"),t("#IC_EmailAFriend_16_Dialog").trigger("close")),d="#"+g.closest("div[id^=IC_"+g.data(a.formNameDataName)+"_"+g.data(a.formTypeIDDataName)+"]").attr("id"),p=t(d),0===g.length){var b="NRT.Forms.initDialog: Implementation Error > missing form";throw e.Event.Raise(e.Event.eError.FORM_ERROR,b),e.Utility.LogConsole(b),new Error(b)}if(g.data(a.formTypeIDDataName)===a.eFormType.EmailAFriend){if((h=e.SocialShare.Open(n,s,u,d,g,v,y))===d)return;p=t(h)}else g.data(a.formPresentationDataName,"dialog"),null!==l&&l.length>0&&g.find("p.modal-title").text(l),g.find("p.modal-title").show(),g.find(y).show(),g.parent().find(v).show(),g.css("box-shadow","none"),g.remove("p.btn-primary.tablet-down-show.trigger-more-info-form"),g.removeClass("div.tablet-up-show.js-more-info");a.initializeFormFields(g,s,c),t(".flex-video, .flex-video-module").css("visibility","hidden"),m=function(){f.trigger("reposition")},f=p.lightbox_me({lightboxSpeed:500,overlaySpeed:300,appearEffect:"fadeIn",appearEase:"swing",centered:!0,closeEsc:!0,closeClick:!1,preventScroll:!1,modalCSS:{top:t(i).scrollTop()+40+"px"},onLoad:function(){p.find(v+","+y).one("click",function(e){p.trigger("close"),e.preventDefault()}),p.find("div.form-wrap").resize(m)},onClose:function(){var e=g.attr("id").split("_").pop(),i=g.data(a.formNameDataName),n=g.parent().attr("id").split("_")[1];p.find("div.form-wrap").removeResize(m),g.parent().attr("id").indexOf("RequestMoreInfo")>-1&&a.eFormType[i]===a.eFormType.ScheduleAShowing?(g.data(a.formNameDataName,"RequestMoreInfo"),g.data(a.formTypeIDDataName,a.eFormType.RequestMoreInfo),g.find("input.FormID:hidden").val(a.eFormType.RequestMoreInfo)):g.find("input.FormID:hidden").val(a.eFormType[i]),g.attr("originalForm")&&"RequestMoreInfo"===n?g.attr("id",g.attr("originalForm")).data("icFormName","RequestMoreInfo").data("icFormTypeId","3").find("input.FormID:hidden").val("3").end().removeAttr("originalForm"):g.attr("originalForm")&&"ScheduleAShowing"===n?g.attr("id",g.attr("originalForm")).data("icFormName","ScheduleAShowing").data("icFormTypeId","4").find("input.FormID:hidden").val("4").end().removeAttr("originalForm"):g.attr("id","IC_"+i+"_"+a.eFormType[i]+"_"+e),r.ResetForm(g),r.InitializeForm(g),t(".flex-video, .flex-video-module").css("visibility","visible")}}),e.Utility.LogConsole("NRT.Forms.initDialog: initialized")},showConfirmationInline:function(i,n,o,r){var s=i.find(a.messageSentSelector),l=null;i.data(a.formTypeIDDataName)===a.eFormType.EmailAFriend&&e.SocialShare.EmailSent(i),null!==o&&void 0!==o&&s.text(o),r&&(s.slideDown(500).fadeIn(500),(l=i.find(a.savePropertySelector)).hide(),n&&!e.HBIB.IsSaved(n)&&(l.show(),l.find("a#ReceiveEmailAlerts").one("click",function(o){var r="unknown",s=e.Utility.BaseOrigin(),l=a.eFormType[t(this).parents("form").data(a.formNameDataName)],c=e.Event.eTrackingOrigin;switch(e.Utility.LogConsole("NRT.Forms.showConfirmationInline: a#ReceiveEmailAlerts.onclick > fired"),o.preventDefault(),l){case a.eFormType.RequestMoreInfo:s.PD?r=c.PD_RMI_NOT_LNK:s.PSR&&(r=c.PS_RMI_NOT_LNK);break;case a.eFormType.ScheduleAShowing:s.PD?r=c.PD_SAS_NOT_LNK:s.PSR&&(r=c.PS_SAS_NOT_LNK);break;case a.eFormType.EmailAFriend:s.PD?r=c.PD_EAF_NOT_LNK:s.PSR?r=c.PS_EAF_NOT_LNK:s.HBSP?r=c.HB_SP_EAF_NOT_LNK:s.HBHD?r=c.HB_HD_EAF_NOT_LNK:s.HBRV&&(r=c.HB_RV_EAF_NOT_LNK)}e.HBIB.AddPropertyToFavorites(n,!0,r,function(){i.parent().trigger("close")}),t(".share-tabcontent, #share-dropdown").hide(),i.find(a.savePropertySelector).hide()}))),s.slideDown(500).fadeIn(500)},showConfirmationDialog:function(i,n){var o,r;i=null!==i&&void 0!==i&&i.length>0?i:"Your message has been sent!",n?(o='<div class="js-save-property"><p class="single-line"><a href="#" id="ReceiveEmailAlerts">Get notified if the price changes</a>&nbsp;&nbsp;<a href="#" id="CloseSlider">Close</a></p></div>',r=function(){var i=t(a.savePropertySelector),n=i.find("a#ReceiveEmailAlerts"),o=i.find("a#CloseSlider");o.one("click",function(t){n.off("click"),e.StatusSlider.CloseStatusSlider(),t.preventDefault()}),n.one("click",function(t){e.Utility.LogConsole("NRT.Forms.showConfirmationDialog: a#ReceiveEmailAlerts.onclick > fired"),o.off("click"),e.StatusSlider.CloseStatusSlider(),t.preventDefault()})},e.StatusSlider.ShowStatusSlider(i,o,r)):e.StatusSlider.ShowStatusSlider(i,null,null)},removeInlineFormSpecifics:function(e){e.removeClass("sub-form").addClass("basic-form").find("p.btn-primary.tablet-down-show.trigger-more-info-form").remove().end().find("h2.title").remove().end().find("div").removeClass("tablet-up-show js-more-info").find("div.form-wrap").find("p.form-label").remove().end().find("p.input-split").removeClass("input-split").find("p label.move").removeClass("move")},setFieldRuleRequirement:function(e,i){var n=[];e.length>1?n=e:n.push(e);for(var o in n)i?t(n[o]).removeClass("ignore"):t(n[o]).addClass("ignore")},toggleSeeThisProperty:function(e){var i=t(e.currentTarget).is(":checked"),n=t(e.currentTarget).parents("form").attr("id"),o=n.split("_").pop(),r=i?n.replace("RequestMoreInfo_3","ScheduleAShowing_4"):n.replace("ScheduleAShowing_4","RequestMoreInfo_3"),s=t("form#"+n),l=s.find("div#divSeeThisProperty_"+o),c=s.find("input.js-showing-date"),u=s.find("select.js-showing-time");s.attr("originalForm")||s.attr("originalForm",n),i?(s.attr("id",r),s.data("icFormName","ScheduleAShowing"),s.data("icFormTypeId","4"),s.find("input.FormID:hidden").val("4"),l.slideDown(500)):(s.attr("id",r),s.data("icFormName","RequestMoreInfo"),s.data("icFormTypeId","3"),s.find("input.FormID:hidden").val("3"),l.slideUp(500)),a.setFieldRuleRequirement([c,u],i)},toggleSelling:function(e){var i=t(e.currentTarget).is(":checked"),n="form#"+t(e.currentTarget).parentsUntil(a.availableFormsSelector).parent().attr("id"),o=t(n),r=o.find("div#divSelling"),s=o.find("input#SellingAddress"),l=o.find("input#SellingCity"),c=o.find("select.js-selling-state");i?r.slideDown(500):(r.slideUp(500),r.find(".error").removeClass("error")),a.setFieldRuleRequirement([s,l,c],i)},toggleBuying:function(e){var i=t(e.currentTarget).is(":checked"),n="form#"+t(e.currentTarget).parentsUntil(a.availableFormsSelector).parent().attr("id"),o=t(n),r=o.find("div#divBuying"),s=o.find("input.js-towns-and-state");i?r.slideDown(500):(r.slideUp(500),r.find(".error").removeClass("error")),a.setFieldRuleRequirement(s,i)},setupPhoneValidation:function(e,t){e.rules("remove"),e.rules("add",{inContactPhoneNumber:{data:[]},messages:{inContactPhoneNumber:e.data("msgRegex")}})},initializeFormDatePicker:function(e){var i=e.find("input.datepicker");if(void 0!==i){var n=i.siblings("span.icon-icon-calendar");i.pikaday({firstDay:0}),t(n).click(function(e){e.stopPropagation(),i.click()})}},initializeHelpSelectingAssociate:function(e){var t=e.find("input.js-check-selling"),i=t.is(":checked"),n=e.find("input.js-selling-address"),o=e.find("input.js-selling-city"),r=e.find("select.js-selling-state"),s=e.find("input.js-check-buying"),l=s.is(":checked"),c=e.find("input.js-towns-and-state"),u=e.find("div#divSelling"),d=e.find("div#divBuying");u.hide(),d.hide(),a.setFieldRuleRequirement([n,o,r],i),a.setFieldRuleRequirement(c,l),t.off("click").on("click",function(e){a.toggleSelling(e)}),s.off("click").on("click",function(e){a.toggleBuying(e)})},initializeScheduleAShowing:function(e){var t=e.attr("id").split("_").pop(),i=e.find("input#chkSeeThisProperty_"+t),n=e.find("div#divSeeThisProperty_"+t),o=i.is(":checked"),r=e.find("input.js-showing-date"),s=e.find("select.js-showing-time");a.setFieldRuleRequirement([r,s],o),n.show(),i.off("click").on("click",function(e){a.toggleSeeThisProperty(e)})},initializeRequestMoreInfo:function(e){var t=e.attr("id").split("_").pop(),i=e.find("input#chkSeeThisProperty_"+t),n=e.find("div#divSeeThisProperty_"+t),o=i.is(":checked"),r=e.find("input.js-showing-date"),s=e.find("select.js-showing-time");a.setFieldRuleRequirement([r,s],o),n.hide(),i.off("click").on("click",function(e){a.toggleSeeThisProperty(e)})},setupAreaOfInterestDDL:function(i){var n=i.find("select.js-area-of-interest-ddl"),o=i.find("input.js-area-of-interest:hidden"),r=i.find("input#ZoneID:hidden"),a=i.find("input#RegionID:hidden"),s=i.find("input#StateID:hidden"),l=i.find("input#js-company-id:hidden");n.on("change",function(){var e=t(this).serializeArray()[0].value.split("_")||null,i=e[0]||"",n=e[1]||"",c=e[2]||"",u=e[3]||"",d=e[4]||"";o.val(i),r.val(n),a.val(c),s.val(u),l.val(d)}),n.length>0&&e.Utility.LogConsole("NRT.Forms.setupAreaOfInterestDDL: Initialization of AreaOfInterestDDL completed for Form "+i.attr("id"))}},t(n).on("ready",function(){r.Initialize(),t('select > option[value="dash"]').attr("disabled",""),t(n).on(e.Utility.eEvents.FORMS_FORM_RESET,function(e,t){t.length>0&&r.ResetForm(t)})}),(e.Utility.BaseOrigin().PD||e.Utility.BaseOrigin().SLP)&&t(".form-js-label").find("input[type=text]:not(.datepicker), input[type=tel], input[type=email], textarea").on("input",function(i){t(i.currentTarget).attr("data-empty",!i.currentTarget.value),e.Utility.LogConsole("NRT.Forms: float label event - on input - "+t(i.currentTarget).attr("id"))}),e.Forms=r}(window.NRT,jQuery,window,document);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
* autoNumeric.js
* @author: Bob Knothe
* @author: Sokolov Yura
* @version: 1.9.20 - 2014-03-30 GMT 8:30 PM
*
* Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
* Created by Sokolov Yura on 2010-11-07
*
* @Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
*
* The MIT License (http://www.opensource.org/licenses/mit-license.php)
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
/*!
* autoNumeric.js
* @author: Bob Knothe
* @author: Sokolov Yura
* @version: 1.9.20 - 2014-03-30 GMT 8:30 PM
*
* Created by Robert J. Knothe on 2010-10-25. Please report any bugs to https://github.com/BobKnothe/autoNumeric
* Created by Sokolov Yura on 2010-11-07
*
* @Copyright (c) 2011 Robert J. Knothe http://www.decorplanit.com/plugin/
*
* The MIT License (http://www.opensource.org/licenses/mit-license.php)
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
!function(e){function t(e,t,i){if(void 0===e.selectionStart){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}else e.selectionStart=t,e.selectionEnd=i}function i(e,t){"string"==typeof e[t]&&(e[t]*=1)}function n(t,n){o=t,r=n,e.each(r,function(e,t){"function"==typeof t?r[e]=t(o,r,e):"function"==typeof o.autoNumeric[t]&&(r[e]=o.autoNumeric[t](o,r,e))});var o,r;n.oEvent=null,n.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var a=n.vMax.toString().split("."),s=n.vMin||0===n.vMin?n.vMin.toString().split("."):[];if(i(n,"vMax"),i(n,"vMin"),i(n,"mDec"),n.allowLeading=!0,n.aNeg=n.vMin<0?"-":"",a[0]=a[0].replace("-",""),s[0]=s[0].replace("-",""),n.mInt=Math.max(a[0].length,s[0].length,1),null===n.mDec){var l=0,c=0;a[1]&&(l=a[1].length),s[1]&&(c=s[1].length),n.mDec=Math.max(l,c)}null===n.altDec&&n.mDec>0&&("."===n.aDec&&","!==n.aSep?n.altDec=",":","===n.aDec&&"."!==n.aSep&&(n.altDec="."));var u=n.aNeg?"([-\\"+n.aNeg+"]?)":"(-?)";n.aNegRegAutoStrip=u,n.skipFirstAutoStrip=new RegExp(u+"[^-"+(n.aNeg?"\\"+n.aNeg:"")+"\\"+n.aDec+"\\d].*?(\\d|\\"+n.aDec+"\\d)"),n.skipLastAutoStrip=new RegExp("(\\d\\"+n.aDec+"?)[^\\"+n.aDec+"\\d]\\D*$");var d="-"+n.aNum+"\\"+n.aDec;return n.allowedAutoStrip=new RegExp("[^"+d+"]","gi"),n.numRegAutoStrip=new RegExp(u+"(?:\\"+n.aDec+"?(\\d+\\"+n.aDec+"\\d+)|(\\d*(?:\\"+n.aDec+"\\d*)?))"),n}function o(e,t,i){if(t.aSign)for(;e.indexOf(t.aSign)>-1;)e=e.replace(t.aSign,"");e=(e=(e=e.replace(t.skipFirstAutoStrip,"$1$2")).replace(t.skipLastAutoStrip,"$1")).replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var n=e.match(t.numRegAutoStrip);if(e=n?[n[1],n[2],n[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==i){var o=[],r="";-1!==(o=e.split(t.aDec))[0].indexOf("-")&&(r="-",o[0]=o[0].replace("-","")),o[0].length>t.mInt&&"0"===o[0].charAt(0)&&(o[0]=o[0].slice(1)),e=r+o.join(t.aDec)}if(i&&"deny"===t.lZero||i&&"allow"===t.lZero&&!1===t.allowLeading){var a="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===i?")":"|$)");a=new RegExp(a),e=e.replace(a,"$1$2")}return e}function r(e,t,i){return t=t.split(","),"set"===i||"focusout"===i?(e=e.replace("-",""),e=t[0]+e+t[1]):"get"!==i&&"focusin"!==i&&"pageLoad"!==i||e.charAt(0)!==t[0]||(e=(e=e.replace(t[0],"-")).replace(t[1],"")),e}function a(e,t,i){if(t&&i){var n=e.split(t);n[1]&&n[1].length>i&&(i>0?(n[1]=n[1].substring(0,i),e=n.join(t)):e=n[0])}return e}function s(e,t,i){return t&&"."!==t&&(e=e.replace(t,".")),i&&"-"!==i&&(e=e.replace(i,"-")),e.match(/\d/)||(e+="0"),e}function l(e,t){var i=+e;if(i<1e-6&&i>-1)(e=+e)<1e-6&&e>0&&(e=(e=(e+10).toString()).substring(1)),e<0&&e>-1&&(e="-"+(e=(e-10).toString()).substring(2)),e=e.toString();else{var n=e.split(".");void 0!==n[1]&&(0==+n[1]?e=n[0]:(n[1]=n[1].replace(/0*$/,""),e=n.join(".")))}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function c(e,t,i){return i&&"-"!==i&&(e=e.replace("-",i)),t&&"."!==t&&(e=e.replace(".",t)),e}function u(t,i){var n=+(t=s(t=a(t=o(t,i),i.aDec,i.mDec),i.aDec,i.aNeg));return"set"===i.oEvent&&(n<i.vMin||n>i.vMax)&&e.error("The value ("+n+") from the 'set' method falls outside of the vMin / vMax range"),n>=i.vMin&&n<=i.vMax}function d(e,t,i){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||i?e+t.aSign:e:null}function p(e,t){var i=(e=o(e,t)).replace(",","."),n=d(e,t,!0);if(null!==n)return n;var a="";a=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var s=e.split(t.aDec);t.altDec&&1===s.length&&(s=e.split(t.altDec));var l=s[0];if(t.aSep)for(;a.test(l);)l=l.replace(a,"$1"+t.aSep+"$2");if(0!==t.mDec&&s.length>1?(s[1].length>t.mDec&&(s[1]=s[1].substring(0,t.mDec)),e=l+t.aDec+s[1]):e=l,t.aSign){var c=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,c&&(e=t.aNeg+e)}return"set"===t.oEvent&&i<0&&null!==t.nBracket&&(e=r(e,t.nBracket,t.oEvent)),e}function h(e,t){e=""===e?"0":e.toString(),i(t,"mDec"),"CHF"===t.mRound&&(e=(Math.round(20*e)/20).toString());var n="",o=0,r="",a="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,s=function(e){var t=0===a?/(\.(?:\d*[1-9])?)0*$/:1===a?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+a+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),0===a&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(r="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===r&&0==+e&&(r=""),(+e>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var l=e.lastIndexOf("."),c=-1===l?e.length-1:l,u=e.length-1-c;if(u<=t.mDec){if(n=e,u<a){-1===l&&(n+=".");for(var d="000000";u<a;)n+=d=d.substring(0,a-u),u+=d.length}else u>a?n=s(n):0===u&&0===a&&(n=n.replace(/\.$/,""));if("CHF"!==t.mRound)return 0==+n?n:r+n;"CHF"===t.mRound&&(l=n.lastIndexOf("."),e=n)}var p=l+t.mDec,h=+e.charAt(p+1),f=e.substring(0,p+1).split(""),m="."===e.charAt(p)?e.charAt(p-1)%2:e.charAt(p)%2,g=!0;if(m=0===m&&e.substring(p+2,e.length)>0?1:0,h>4&&"S"===t.mRound||h>4&&"A"===t.mRound&&""===r||h>5&&"A"===t.mRound&&"-"===r||h>5&&"s"===t.mRound||h>5&&"a"===t.mRound&&""===r||h>4&&"a"===t.mRound&&"-"===r||h>5&&"B"===t.mRound||5===h&&"B"===t.mRound&&1===m||h>0&&"C"===t.mRound&&""===r||h>0&&"F"===t.mRound&&"-"===r||h>0&&"U"===t.mRound||"CHF"===t.mRound)for(o=f.length-1;o>=0;o-=1)if("."!==f[o]){if("CHF"===t.mRound&&f[o]<=2&&g){f[o]=0,g=!1;break}if("CHF"===t.mRound&&f[o]<=7&&g){f[o]=5,g=!1;break}if("CHF"===t.mRound&&g?(f[o]=10,g=!1):f[o]=+f[o]+1,f[o]<10)break;o>0&&(f[o]="0")}return 0==+(n=s((f=f.slice(0,p+1)).join("")))?n:r+n}function f(t,i){this.settings=i,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=n(this.$that,this.settings),this.value=t.value}f.prototype={init:function(e){this.value=this.that.value,this.settingsClone=n(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=function(e){var t={};if(void 0===e.selectionStart){e.focus();var i=document.selection.createRange();t.length=i.text.length,i.moveStart("character",-e.value.length),t.end=i.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}(this.that),"keydown"!==e.type&&"keyup"!==e.type||(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,i,n){e=Math.max(e,0),i=Math.min(i,this.that.value.length),this.selection={start:e,end:i,length:i-e},(void 0===n||n)&&t(this.that,e,i)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value;return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=o(e[0],this.settingsClone),e[1]=o(e[1],this.settingsClone),e},normalizeParts:function(e,t){var i=this.settingsClone;""!==(e=o(e,i,!!(t=o(t,i)).match(/^\d/)||"leading"))&&e!==i.aNeg||"deny"!==i.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1"));var n=e+t;if(i.aDec){var r=n.match(new RegExp("^"+i.aNegRegAutoStrip+"\\"+i.aDec));r&&(n=(e=e.replace(r[1],r[1]+"0"))+t)}return"zero"!==i.wEmpty||n!==i.aNeg&&""!==n||(e+="0"),[e,t]},setValueParts:function(e,t){var i=this.settingsClone,n=this.normalizeParts(e,t),o=n.join(""),r=n[0].length;return!!u(o,i)&&(r>(o=a(o,i.aDec,i.mDec)).length&&(r=o.length),this.value=o,this.setPosition(r,!1),!0)},signPosition:function(){var e=this.settingsClone,t=e.aSign,i=this.that;if(t){var n=t.length;if("p"===e.pSign){return e.aNeg&&i.value&&i.value.charAt(0)===e.aNeg?[1,n+1]:[0,n]}var o=i.value.length;return[o-n,o]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),i=this.selection;i.start<t[1]&&i.end>t[0]&&((i.start<t[0]||i.end>t[1])&&this.value.substring(Math.max(i.start,t[0]),Math.min(i.end,t[1])).match(/^\s*$/)?i.start<t[0]?this.setSelection(i.start,t[0],e):this.setSelection(t[1],i.end,e):this.setSelection(Math.min(i.start,t[0]),Math.max(i.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+o(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1])||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,i=this.which,n=this.ctrlKey,o=this.cmdKey,r=this.shiftKey;if((n||o)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||r&&45===t)return this.checkPaste(),!1;if(t>=112&&t<=123||t>=91&&t<=93||t>=9&&t<=31||t<8&&(0===i||i===t)||144===t||145===t||45===t)return!0;if((n||o)&&65===t)return!0;if((n||o)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),86!==t&&45!==t||("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(n||o)return!0;if(37===t||39===t){var a=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===e.type&&a&&!this.shiftKey&&(37===t&&l.charAt(s-2)===a?this.setPosition(s-1):39===t&&l.charAt(s+1)===a&&this.setPosition(s+1)),!0}return t>=34&&t<=40},processAllways:function(){var e;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0)},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),i=this.getBeforeAfterStriped(),n=i[0],o=i[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?!e.mDec||!e.aDec||(!!(e.aNeg&&o.indexOf(e.aNeg)>-1)||(n.indexOf(e.aDec)>-1||(o.indexOf(e.aDec)>0||(0===o.indexOf(e.aDec)&&(o=o.substr(1)),this.setValueParts(n+e.aDec,o),!0)))):"-"===t||"+"===t?!e.aNeg||(""===n&&o.indexOf(e.aNeg)>-1&&(n=e.aNeg,o=o.substring(1,o.length)),n=n.charAt(0)===e.aNeg?n.substring(1,n.length):"-"===t?e.aNeg+n:n,this.setValueParts(n,o),!0):!(t>="0"&&t<="9")||(e.aNeg&&""===n&&o.indexOf(e.aNeg)>-1&&(n=e.aNeg,o=o.substring(1,o.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(n=e.aNeg+n),this.setValueParts(n+t,o),!0)},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),i=this.value;if((""===e.aSep||""!==e.aSep&&-1===i.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===i.indexOf(e.aSign))){var n=[],o="";(n=i.split(e.aDec))[0].indexOf("-")>-1&&(o="-",n[0]=n[0].replace("-",""),t[0]=t[0].replace("-","")),n[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=o+t[0]}var r=p(this.value,this.settingsClone),a=r.length;if(r){for(var s=t[0].split(""),l=0;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var c=new RegExp("^.*?"+s.join(".*?")),u=r.match(c);u?(0===(a=u[0].length)&&r.charAt(0)!==e.aNeg||1===a&&r.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(a=this.settingsClone.aSign.length+("-"===r.charAt(0)?1:0)):e.aSign&&"s"===e.pSign&&(a-=e.aSign.length)}this.that.value=r,this.setPosition(a),this.formatted=!0}};function m(t){return"string"==typeof t&&(t="#"+(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),e(t)}function g(e,t,i){var n=e.data("autoNumeric");n||(n={},e.data("autoNumeric",n));var o=n.holder;return(void 0===o&&t||i)&&(o=new f(e.get(0),t),n.holder=o),o}var v={init:function(i){return this.each(function(){var n=e(this),a=n.data("autoNumeric"),l=n.data();if("object"===(void 0===a?"undefined":_typeof(a)))return this;if((a=e.extend({},{aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}},l,i)).aDec===a.aSep)return e.error("autoNumeric will not function properly when the decimal character aDec: '"+a.aDec+"' and thousand separator aSep: '"+a.aSep+"' are the same character"),this;n.data("autoNumeric",a),a.lastSetValue="",a.runOnce=!1;var f=g(n,a);if(-1===e.inArray(n.prop("tagName"),a.tagList)&&"INPUT"!==n.prop("tagName"))return e.error("The <"+n.prop("tagName")+"> is not supported by autoNumeric()"),this;if(!1===a.runOnce&&a.aForm){if(n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")){var m=!0;""===n[0].value&&"empty"===a.wEmpty&&(n[0].value="",m=!1),""===n[0].value&&"sign"===a.wEmpty&&(n[0].value=a.aSign,m=!1),m&&n.autoNumeric("set",n.val())}-1!==e.inArray(n.prop("tagName"),a.tagList)&&""!==n.text()&&n.autoNumeric("set",n.text())}a.runOnce=!0,n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(n.on("keydown.autoNumeric",function(t){return(f=g(n)).settings.aDec===f.settings.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+f.settings.aDec+"' and thousand separator aSep: '"+f.settings.aSep+"' are the same character"),this):f.that.readOnly?(f.processed=!0,!0):(f.init(t),f.settings.oEvent="keydown",f.skipAllways(t)?(f.processed=!0,!0):f.processAllways()?(f.processed=!0,f.formatQuick(),t.preventDefault(),!1):(f.formatted=!1,!0))}),n.on("keypress.autoNumeric",function(e){var t=g(n),i=t.processed;return t.init(e),t.settings.oEvent="keypress",!!t.skipAllways(e)||(i?(e.preventDefault(),!1):t.processAllways()||t.processKeypress()?(t.formatQuick(),e.preventDefault(),!1):void(t.formatted=!1))}),n.on("keyup.autoNumeric",function(e){var i=g(n);i.init(e),i.settings.oEvent="keyup";var o=i.skipAllways(e);return i.kdCode=0,delete i.valuePartsBeforePaste,n[0].value===i.settings.aSign&&("s"===i.settings.pSign?t(this,0,0):t(this,i.settings.aSign.length,i.settings.aSign.length)),!!o||(""===this.value||void(i.formatted||i.formatQuick()))}),n.on("focusin.autoNumeric",function(){var e=g(n);if(e.settingsClone.oEvent="focusin",null!==e.settingsClone.nBracket){var i=n.val();n.val(r(i,e.settingsClone.nBracket,e.settingsClone.oEvent))}e.inVal=n.val();var o=d(e.inVal,e.settingsClone,!0);null!==o&&(n.val(o),"s"===e.settings.pSign?t(this,0,0):t(this,e.settings.aSign.length,e.settings.aSign.length))}),n.on("focusout.autoNumeric",function(){var e=g(n),t=e.settingsClone,i=n.val(),a=i;e.settingsClone.oEvent="focusout";var l="";"allow"===t.lZero&&(t.allowLeading=!1,l="leading"),""!==i&&(i=null===d(i=o(i,t,l),t)&&u(i,t,n[0])?c(i=h(i=s(i,t.aDec,t.aNeg),t),t.aDec,t.aNeg):"");var f=d(i,t,!1);null===f&&(f=p(i,t)),f!==a&&n.val(f),f!==e.inVal&&(n.change(),delete e.inVal),null!==t.nBracket&&n.autoNumeric("get")<0&&(e.settingsClone.oEvent="focusout",n.val(r(n.val(),t.nBracket,t.oEvent)))}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var i=m(e(this)),n=i.data("autoNumeric");if("object"!==(void 0===n?"undefined":_typeof(n)))return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var o=i.autoNumeric("get");return g(i,n=e.extend(n,t),!0),n.aDec===n.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+n.aDec+"' and thousand separator aSep: '"+n.aSep+"' are the same character"),this):(i.data("autoNumeric",n),""!==i.val()||""!==i.text()?i.autoNumeric("set",o):void 0)})},set:function(t){return e(this).each(function(){var i=m(e(this)),n=i.data("autoNumeric"),r=t.toString(),a=t.toString();return"object"!==(void 0===n?"undefined":_typeof(n))?(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(a!==i.attr("value")&&a!==i.text()||!1!==n.runOnce||(r=r.replace(",",".")),a!==i.attr("value")&&"INPUT"===i.prop("tagName")&&!1===n.runOnce&&(r=o(r,n)),e.isNumeric(+r)?(r=l(r,n),n.oEvent="set",n.lastSetValue=r,r.toString(),""!==r&&(r=h(r,n)),u(r=c(r,n.aDec,n.aNeg),n)||(r=h("",n)),r=p(r,n),i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?i.val(r):-1!==e.inArray(i.prop("tagName"),n.tagList)?i.text(r):(e.error("The <"+i.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var t=m(e(this)),i=t.data("autoNumeric");if("object"!==(void 0===i?"undefined":_typeof(i)))return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;i.oEvent="get";var n="";if(t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"))n=t.eq(0).val();else{if(-1===e.inArray(t.prop("tagName"),i.tagList))return e.error("The <"+t.prop("tagName")+"> is not supported by autoNumeric()"),!1;n=t.eq(0).text()}return""===n&&"empty"===i.wEmpty||n===i.aSign&&("sign"===i.wEmpty||"empty"===i.wEmpty)?"":(null!==i.nBracket&&""!==n&&(n=r(n,i.nBracket,i.oEvent)),(i.runOnce||!1===i.aForm)&&(n=o(n,i)),0==+(n=s(n,i.aDec,i.aNeg))&&"keep"!==i.lZero&&(n="0"),"keep"===i.lZero?n:n=l(n,i))},getString:function(){for(var t=!1,i=m(e(this)).serialize().split("&"),n=0;n<i.length;n+=1){var o=i[n].split("="),r=e('*[name="'+decodeURIComponent(o[0])+'"]').data("autoNumeric");"object"===(void 0===r?"undefined":_typeof(r))&&null!==o[1]&&void 0!==e('*[name="'+decodeURIComponent(o[0])+'"]').data("autoNumeric")&&(o[1]=e('input[name="'+decodeURIComponent(o[0])+'"]').autoNumeric("get"),i[n]=o.join("="),t=!0)}return!0===t?i.join("&"):(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var t=!1,i=m(e(this)).serializeArray();return e.each(i,function(i,n){var o=e('*[name="'+decodeURIComponent(n.name)+'"]').data("autoNumeric");"object"===(void 0===o?"undefined":_typeof(o))&&(""!==n.value&&void 0!==e('*[name="'+decodeURIComponent(n.name)+'"]').data("autoNumeric")&&(n.value=e('input[name="'+decodeURIComponent(n.name)+'"]').autoNumeric("get").toString()),t=!0)}),!0===t?i:(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){return m(e(this)).eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){return v[t]?v[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==(void 0===t?"undefined":_typeof(t))&&t?void e.error('Method "'+t+'" is not supported by autoNumeric()'):v.init.apply(this,arguments)}}(jQuery);
/*!
 * UUID.js: The RFC-compliant UUID generator for JavaScript.
 *
 * @fileOverview
 * @author  LiosK
 * @version v3.3.0
 * @license The MIT License: Copyright (c) 2010-2016 LiosK.
 */
var UUID;UUID=function(e){function t(){}return t.generate=function(){var e=t._getRandomInt,i=t._hexAligner;return i(e(32),8)+"-"+i(e(16),4)+"-"+i(16384|e(12),4)+"-"+i(32768|e(14),4)+"-"+i(e(48),12)},t._getRandomInt=function(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN},t._getIntAligner=function(e){return function(t,i){for(var n=t.toString(e),o=i-n.length,r="0";o>0;o>>>=1,r+=r)1&o&&(n=r+n);return n}},t._hexAligner=t._getIntAligner(16),t.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"],t.FIELD_SIZES=[32,16,16,8,8,48],t.genV4=function(){var e=t._getRandomInt;return(new t)._init(e(32),e(16),16384|e(12),128|e(6),e(8),e(48))},t.parse=function(e){var i;if(i=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i.exec(e)){var n=i[1]||"",o=i[8]||"";if(n+o===""||"{"===n&&"}"===o||"urn:uuid:"===n.toLowerCase()&&""===o)return(new t)._init(parseInt(i[2],16),parseInt(i[3],16),parseInt(i[4],16),parseInt(i[5],16),parseInt(i[6],16),parseInt(i[7],16))}return null},t.prototype._init=function(){var e=t.FIELD_NAMES,i=t.FIELD_SIZES,n=t._binAligner,o=t._hexAligner;this.intFields=new Array(6),this.bitFields=new Array(6),this.hexFields=new Array(6);for(var r=0;r<6;r++){var a=parseInt(arguments[r]||0);this.intFields[r]=this.intFields[e[r]]=a,this.bitFields[r]=this.bitFields[e[r]]=n(a,i[r]),this.hexFields[r]=this.hexFields[e[r]]=o(a,i[r]/4)}return this.version=this.intFields.timeHiAndVersion>>12&15,this.bitString=this.bitFields.join(""),this.hexNoDelim=this.hexFields.join(""),this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5],this.urn="urn:uuid:"+this.hexString,this},t._binAligner=t._getIntAligner(2),t.prototype.toString=function(){return this.hexString},t.prototype.equals=function(e){if(!(e instanceof t))return!1;for(var i=0;i<6;i++)if(this.intFields[i]!==e.intFields[i])return!1;return!0},t.genV1=function(){var e=(new Date).getTime(),i=t._state;e!=i.timestamp?(e<i.timestamp&&i.sequence++,i.timestamp=e,i.tick=t._getRandomInt(4)):Math.random()<t._tsRatio&&i.tick<9984?i.tick+=1+t._getRandomInt(4):i.sequence++;var n=t._getTimeFieldValues(i.timestamp),o=n.low+i.tick,r=4095&n.hi|4096;i.sequence&=16383;var a=i.sequence>>>8|128,s=255&i.sequence;return(new t)._init(o,n.mid,r,a,s,i.node)},t.resetState=function(){t._state=new t._state.constructor},t._tsRatio=.25,t._state=new function(){var e=t._getRandomInt;this.timestamp=0,this.sequence=e(14),this.node=1099511627776*(1|e(8))+e(40),this.tick=e(4)},t._getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),i=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&i,hi:i>>>16,timestamp:t}},t.makeBackwardCompatible=function(){var e=t.generate;t.generate=function(i){return i&&1==i.version?t.genV1().hexString:e.call(t)},t.makeBackwardCompatible=function(){}},t.overwrittenUUID=e,t}(UUID),function(e,t,i){var n={},o={};n={Initialize:function(e){o.initialize(e)},ProcessPageLoad:function(e){o.processPageLoad(e),o.save()},ProcessTabset:function(e){o.processTabset(e),o.save()}},o={clientID:null,pageType:null,impressions:null,options:{hasProfile:!1,hasAgentResults:!1,hasTeamResults:!1,hasTeamMembers:!1,hasListingAgents:!1,hasListingTeams:!1,hasOfficeManagers:!1,hasNearbyAgents:!1,hasNearbyTeams:!1,hasPropertyResults:!1,hasDevelopmentModels:!1,hasStaticTab:!1,hasTabsets:!1,hasHBIBTabsets:!1},initialize:function(e){o.setClientID(),o.pageType=e,o.impressions=[],o.configureOptions(),o.options.hasTabsets&&o.registerTabsetEvents(),o.options.hasPropertyResults&&o.registerPropertySearchResultsEvents(),o.options.hasHBIBTabsets&&o.registerHBIBAcountPanelLoadedEvents()},setClientID:function(){o.clientID=UUID.genV1().hexString},configureOptions:function(){switch(o.pageType){case 1:o.options.hasTabsets=!0;break;case 2:o.options.hasProfile=!0,o.options.hasTabsets=!0;break;case 3:o.options.hasProfile=!0,o.options.hasTeamMembers=!0,o.options.hasTabsets=!0;break;case 4:o.options.hasAgentResults=!0,o.options.hasTeamResults=!0;break;case 5:o.options.hasNearbyAgents=!0;break;case 6:o.options.hasOfficeManagers=!0,o.options.hasTabsets=!0;break;case 7:o.options.hasAgentResults=!0,o.options.hasTeamResults=!0;break;case 8:o.options.hasProfile=!0,o.options.hasListingAgents=!0,o.options.hasListingTeams=!0,o.options.hasTabsets=!0;break;case 9:o.options.hasPropertyResults=!0;break;case 10:case 11:case 12:o.options.hasTabsets=!0,o.options.hasNearbyAgents=!0,o.options.hasNearbyTeams=!0;break;case 14:o.options.hasHBIBTabsets=!0;break;case 18:o.options.hasProfile=!0,o.options.hasListingAgents=!0,o.options.hasListingTeams=!0,o.options.hasDevelopmentModels=!0;break;case 19:o.options.hasProfile=!0,o.options.hasListingAgents=!0,o.options.hasListingTeams=!0}},registerTabsetEvents:function(){t(i).on(e.Utility.eEvents.TAB_OPEN_COMPLETE,function(t,i){e.Utility.LogConsole("NRT.Impressions: handled TAB_OPEN_COMPLETE"),i&&i.content&&(o.processTabset(i.content),o.save())})},registerPropertySearchResultsEvents:function(){ioc("app.events").on(e.SearchListEvent.RENDER_COMPLETE,function(){o.setClientID(),o.processPageLoad(),o.save()})},registerHBIBAcountPanelLoadedEvents:function(){t(i).on(e.Utility.eEvents.HBIB_ACCOUNT_PANEL_LOADED,function(){o.processTabset("div.tab.your-properties.active .nested-tabcontent"),o.save()})},addImpression:function(t,i,n){var r;t&&i&&n&&n>0&&(r={EntityID:n,EntityType:i,ImpressionType:t},o.impressions.push(r),e.Utility.LogConsole("NRT.Impressions.addImpression: added ImpressionType = "+t+", EntityType = "+i+", EntityIDs = "+n))},addImpressions:function(e,t,i){var n;if(i&&i.length>0)for(n=0;n<i.length;n+=1)o.addImpression(e,t,i[n])},processPageLoad:function(e){o.options.hasProfile&&o.processProfile(),o.options.hasAgentResults&&o.processAgentResults(),o.options.hasTeamResults&&o.processTeamResults(),o.options.hasTeamMembers&&o.processTeamMembers(),o.options.hasListingAgents&&o.processListingAgents(),o.options.hasListingTeams&&o.processListingTeams(),o.options.hasOfficeManagers&&o.processOfficeManagers(),o.options.hasNearbyAgents&&o.processNearbyAgents(),o.options.hasNearbyTeams&&o.processNearbyTeams(),o.options.hasPropertyResults&&o.processPropertyResults(),o.options.hasDevelopmentModels&&o.processDevelopmentModels(),o.options.hasStaticTab&&o.processStaticTab(),o.options.hasTabsets&&e&&o.processTabset(e)},processProfile:function(){var e=t("#impressions-Profile");e.length>0&&o.processImpressionElement(e)},processAgentResults:function(){var e=t("#impressions-AgentResult");e.length>0&&o.processImpressionElement(e)},processTeamResults:function(){var e=t("#impressions-TeamResult");e.length>0&&o.processImpressionElement(e)},processTeamMembers:function(){var e=t("#impressions-TeamMembers");e.length>0&&o.processImpressionElement(e)},processListingAgents:function(){var e=t("#impressions-ListingAgents");e.length>0&&o.processImpressionElement(e)},processListingTeams:function(){var e=t("#impressions-ListingTeams");e.length>0&&o.processImpressionElement(e)},processOfficeManagers:function(){var e=t("#impressions-OfficeManagers");e.length>0&&o.processImpressionElement(e)},processNearbyAgents:function(){var e=t("#impressions-NearbyAgents");e.length>0&&o.processImpressionElement(e)},processNearbyTeams:function(){var e=t("#impressions-NearbyTeams");e.length>0&&o.processImpressionElement(e)},processPropertyResults:function(){var e=t("#impressions-PropertyResult");e.length>0&&o.processImpressionElement(e)},processDevelopmentModels:function(){var e=t("#impressions-DevelopmentModels");e.length>0&&o.processImpressionElement(e)},processStaticTab:function(){var e=t("#impressions-StaticTab");e.length>0&&o.processImpressionElement(e)},processTabset:function(e){var i,n,r=null;if(e&&e.length>0&&(r=t(e)),r&&r.length>0){switch(o.pageType){case 1:case 8:case 10:case 11:case 12:i=r.filter("div.tab-content.active");break;case 2:case 3:case 6:i=r.filter("div.tab.active");break;case 14:i=r.filter("div.nested-tabcontent.active:visible");break;default:i=null}if(i&&i.length>0&&(n=i.find("input.impressions-tabset-item"))&&n.length>0)for(var a=0;a<n.length;a++)o.processImpressionElement(n[a])}},processImpressionElement:function(e){var i,n,r,a,s;e&&(i=t(e).data("impressiontype"),n=t(e).data("entitytype"),r=t(e).data("entityid"),a=t(e).data("entityids"),s=r&&r>0?[r]:a,o.addImpressions(i,n,s))},save:function(){var i={clientID:o.clientID,pageType:o.pageType,impressions:o.impressions};i.impressions&&i.impressions.length>0?t.ajax({url:e.Utility.AssembleUrl(["impressions","save"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done(function(t){e.Utility.LogConsole("NRT.Impressions.save: ajax call done, HttpStatus = "+t+", Count = "+i.impressions.length),200===t&&(o.impressions=[])}).fail(function(t,i,n){var o="NRT.Impressions.save: ajax call failed, Status = "+t.status;throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n),new Error(o)}):e.Utility.LogConsole("NRT.Impressions.save: no impressions, save aborted")}},e.Impressions=n}(window.NRT,jQuery,window),function(e,t){var i={},n={};i={InitializePropertySearchResults:function(t,o){n.initialize(t),e.Global.Feature.UsePDModal||(i.BindPropertyDetailsLinkEvents(o,window.location.pathname+window.location.search),ioc("app.events").on(e.SearchListEvent.RENDER_COMPLETE,function(){i.BindPropertyDetailsLinkEvents(o,window.location.pathname+window.location.search)}),ioc("app.events").on(e.SearchMapEvent.INFO_WINDOW_DETAIL_LINK_CLICK,function(e){i.RegisterPropertyDetails(o,window.location.pathname+window.location.search,e.listingID,e.listingUrl)}))},InitializePropertyDetail:function(o,r){n.initialize(o),n.currentListingID=r;var a=window.location.pathname+window.location.search,s=i.GetSearchInfo(a);document.referrer&&document.referrer.length>0&&s&&i.GetPreviousNext(s.id,r,function(o){if(n.currentSearchID=s.id,s.url.length>0){var r,a,l=t("#pnResults");l&&n.activateLink(l,s.url),o.PrevUrl&&o.PrevUrl.length>0&&(r=t("#pnPrev"),n.previousListingID=o.PrevListingID,r&&(r.one("mouseover",function(){i.PreFetchPreviousNext(s.id,o.PrevListingID)}).click(function(){i.SetSearchInfo(s.id,s.url,o.PrevUrl),i.SaveSearchesToStorage(),n.setSearchContext(s.id,o.PrevListingID,s.url)}),n.activateLink(r,o.PrevUrl),e.PrefetchedListings.SchedulePrefetch(o.PrevListingID,!0,3e3,"#pnPrev"))),o.NextUrl&&o.NextUrl.length>0&&(a=t("#pnNext"),n.nextListingID=o.NextListingID,a&&(a.one("mouseover",function(){i.PreFetchPreviousNext(s.id,o.NextListingID)}).click(function(){i.SetSearchInfo(s.id,s.url,o.NextUrl),i.SaveSearchesToStorage(),n.setSearchContext(s.id,o.NextListingID,s.url)}),n.activateLink(a,o.NextUrl),e.PrefetchedListings.SchedulePrefetch(o.NextListingID,!0,3e3,"#pnNext")))}}),e.PrefetchedListings.AddListing(r),i.SaveSearchesToStorage()},GetSearchInfo:function(e){return n.getSearchInfo(e)},SetSearchInfo:function(e,t,i){n.setSearchInfo(e,t,i)},SaveSearchesToStorage:function(){n.saveSearchesToStorage()},GetPreviousNext:function(e,t,i){n.getPreviousNext(e,t,i,!0)},PreFetchPreviousNext:function(e,t){n.preFetchPreviousNext(e,t)},BindPropertyDetailsLinkEvents:function(e,t){n.bindPropertyDetailsLinkEvents(e,t)},RegisterPropertyDetails:function(e,t,i,o){n.registerPropertyDetails(e,t,i,o)},ResetPropertyDetails:function(){n.resetPropertyDetails()},ResetPropertySearch:function(e,t){n.resetPropertySearch(e,t)},ResetSearchContext:function(){n.resetSearchContext()}},n={prevnextSearchInfoStorageKey:"nrt:searchinfo",searchInfoStorage:null,searches:null,currentSearchID:0,currentListingID:0,previousListingID:0,nextListingID:0,initialize:function(t){n.searchInfoStorage=e.Utility.StorageClientFactory(n.prevnextSearchInfoStorageKey),n.searches=n.getSearches(t),e.PrefetchedListings.Initialize()},getSearches:function(t){n.searchInfoStorage=e.Utility.StorageClientFactory(n.prevnextSearchInfoStorageKey);var i=n.searchInfoStorage.getItem("searches");return i=i||[],t&&(i=n.removeOldSearches(i)),i},removeOldSearches:function(e){var t;if(e.length>0)for(t=e.length-1;t>=0;t-=1)Math.abs(Date.now()-e[t].date)>36e5&&e.splice(t,1);return e},saveSearchesToStorage:function(){n.searchInfoStorage=e.Utility.StorageClientFactory(n.prevnextSearchInfoStorageKey),n.searchInfoStorage.setItem("searches",n.searches)},getSearchInfo:function(e){var t=n.searches.filter(function(t){return t.current===e});return t&&t.length>0?t[0]:n.getSearchInfoBackup()},getSearchInfoBackup:function(){var i,n=t("#hdnPrevNext").val(),o=null;return n&&n.length>0&&(i=JSON.parse(decodeURIComponent(n)))&&i.id&&i.id>=0&&(o=i,e.Utility.LogConsole("NRT.SearchResultsNavigation.getSearchInfoBackup: search info retrieved from hidden field hdnPrevNext")),o},setSearchInfo:function(e,t,i){var o,r,a,s=n.searches;if(e>0)if(s.some(function(t){return t.id===e}))for(r=s.length,o=0;o<r;o+=1)s[o].id===e&&((a=s[o]).url=t,a.date=Date.now(),a.current=i);else a={id:e,url:t,date:Date.now(),current:i},s.unshift(a);n.searches=s},getPreviousNext:function(i,n,o,r){t.ajax({url:e.Utility.AssembleUrl(["propertylisting","getpreviousnext"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({searchID:i,listingID:n,returnData:r})}).done(function(t){e.Utility.LogConsole("NRT.SearchResultsNavigation.getPreviousNext: ajax call done, listing #"+n),r&&o&&(o(t),e.Utility.LogConsole("NRT.SearchResultsNavigation.getPreviousNext: ajax callback processed, listing #"+n))}).fail(function(t,i,n){var o="NRT.SearchResultsNavigation.getPreviousNext: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n),new Error(o)})},preFetchPreviousNext:function(e,t){n.getPreviousNext(e,t,null,!1)},bindPropertyDetailsLinkEvents:function(i,o){t(document).on("mousedown touchstart keydown",".search-list .list-items .property-snapshot-psr-panel a",function(r){var a=t(this),s=a.attr("href"),l=a.closest(".property-snapshot-psr-panel").data("pid");return n.registerPropertyDetails(i,o,l,s),e.Utility.LogConsole('NRT.SearchResultsNavigation.bindPropertyDetailsLinkEvents: Property Snapshot text link fired via "'+r.type+'" event, listing #'+l),!0}),t(document).on("click",".search-list .list-items .property-snapshot .prop-pix img",function(){var r=t(this).closest(".property-snapshot-psr-panel").data(),a=r.detailurl,s=r.pid;return n.registerPropertyDetails(i,o,s,a),e.Utility.LogConsole("NRT.SearchResultsNavigation.bindPropertyDetailsLinkEvents: photo carousel click fired, listing #"+s),!0})},registerPropertyDetails:function(e,t,i,o){o&&o.length>1&&i&&i>0&&(n.setSearchInfo(e,t,o),n.saveSearchesToStorage(),n.setSearchContext(e,i,t),n.preFetchPreviousNext(e,i))},activateLink:function(e,t){e.attr("href",t).addClass("enabled").removeClass("disabled")},resetPropertyDetails:function(){n.currentSearchID>0&&n.currentListingID>0&&n.reset(n.currentSearchID,n.currentListingID,n.previousListingID,n.nextListingID)},resetPropertySearch:function(e,t){e>0&&t>0&&n.reset(e,t,0,0)},reset:function(i,n,o,r){t.ajax({url:e.Utility.AssembleUrl(["propertylisting","resetpreviousnext"]),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({searchID:i,listingID:n,previousListingID:o,nextListingID:r})}).done(function(){e.Utility.LogConsole("NRT.SearchResultsNavigation.reset: ajax call done")}).fail(function(t,i,n){var o="NRT.SearchResultsNavigation.reset: Ajax Error";throw e.Event.Raise(e.Event.eError.ASYNC_ERROR,o,t,i,n),e.Utility.LogConsole(o+": "+n),new Error(o)})},setSearchContext:function(t,i,n){var o=new Date,r="."+window.location.hostname;o.setHours(o.getHours()+1),Cookies.set("SearchContext","SID="+t+"&PID="+i+"&URL="+n,{path:"/",expires:o,domain:r}),e.Utility.LogConsole("NRT.SearchResultsNavigation.setSearchContext: set Search Context, listing #"+i)},resetSearchContext:function(){var t=new Date,i="."+window.location.hostname;t.setYear(t.getFullYear()-1),Cookies.set("SearchContext","",{path:"/",expires:t,domain:i}),e.Utility.LogConsole("NRT.SearchResultsNavigation.resetSearchContext: reset")}},e.SearchResultsNavigation=i}(window.NRT,jQuery),function(e,t,i,n){var o={},r={};o={Open:function(i,n,a,s,l,c,u){var d;if(void 0===r._dom)return s;if(r._shareFields=i.data().shareFields,null!==r._link&&i.data()!==r._link.data()&&r._dom.tab.share.find("div.addthis_toolbox").remove(),r._link=i,t("#IC_RequestMoreInfo_3_Dialog").trigger("close"),t("#IC_ScheduleAShowing_4_Dialog").trigger("close"),!1===r._shareFields.IsDisplaySocialTab?t("#share-share-nav").hide():t("#share-share-nav").show(),d=r._shareFields.TinyUrl,r._dom.tab.copyUrl.find('input[type="text"]').val(d),r._dom.tab.share.find(".addthis_toolbox").length||r._dom.tab.share.prepend('<div class="addthis_toolbox addthis_default_style" addthis:url="'+r._shareFields.TinyUrl+'" addthis:media="'+r._shareFields.Media+'" addthis:title="'+r._shareFields.Title+'" addthis:description="'+r._shareFields.Description+'"><a class="addthis_button_facebook_share" title="Facebook" rel="nofollow" fb:share:layout="button"></a><a class="addthis_button_tweet" title="Twitter" rel="nofollow" tw:count="none"></a><a class="share-pinit" style="cursor: pointer; float: left;" title="Pinterest" rel="nofollow"><img src="https://assets.pinterest.com/images/PinExt.png" alt="Pin It" /></a><a class="addthis_button_google_plusone" rel="nofollow" g:plusone:size="tall" g:plusone:count="false" g:plusone:annotation="none"></a></div>'),r.nav(r.TAB_EMAIL),o.ConfigPinIt(t(".share-pinit"),{url:encodeURIComponent(r._shareFields.TinyUrl),title:encodeURIComponent(r._shareFields.Title),description:encodeURIComponent(r._shareFields.Description),media:encodeURIComponent(r._shareFields.Media),pid:encodeURIComponent(r._shareFields.ListingID)}),t(s).css("display","block"),t(s).css("padding","0"),t(s).css("max-width","100%"),l.find("input.js-check-copy-sender:checkbox,input.js-check-request-more-info:checkbox").on("change",function(){var e=t(this);l.find("input#"+e.val()+":hidden").val(e.is(":checked"))}),t(".nav-share").addClass("nav-share-results"),0===l.length){var p="NRT.SocialShare.Open: Implementation Error > missing form";return e.Event.Raise(e.Event.eError.FORM_ERROR,p),e.Utility.LogConsole(p),s}return l.find(u).show(),l.parent().find(c).show(),l.css("box-shadow","none"),l.remove("p.btn-primary.tablet-down-show.trigger-more-info-form"),l.removeClass("div.tablet-up-show.js-more-info"),"#share-dropdown"},Close:function(){var e="#"+t(r._link).data().icForm;t(e).parent().trigger("close")},ConfigPinIt:function(e,t){e.click(function(e){r.readyAddThis().done(function(){r.pinIt(t)}),e.preventDefault()})},EmailSent:function(n,o){var a=n.find("div.form-wrap"),s=n.find(r._messageSentSelector),l="input#chkCopySender",c="input#chkRequestMoreInfo",u=t("#share-dropdown");return a.slideUp({duration:500,queue:!1,complete:function(){(i.innerWidth||t(i).width())<=800&&"absolute"===u.css("position")&&(u.trigger("reposition"),e.Utility.LogConsole("NRT.Share.EmailSent: sent form > repositioned modal"))}}),16===n.data("icFormTypeId")?(n.find("input.js-name-to").val(""),n.find("input.js-email-to").val(""),n.find("textarea").val(""),void 0!=t(l)[0]&&(t(l)[0].checked=!1),void 0!=t(c)[0]&&(t(c)[0].checked=!1)):n[0].reset(),n.find("input#EmailAFriend_CopySender, input#EmailAFriend_RequestMoreInfo").val("false"),n.find("div#SendAnother").off("click").on("click",function(n){a.find("input.submit-btn").attr("disabled",!1),a.slideDown({duration:500,queue:!1}).fadeIn({duration:500,queue:!1}),s.slideUp({duration:500,queue:!1}).fadeOut({duration:500,queue:!1,complete:function(){(i.innerWidth||t(i).width())<=800&&"absolute"===u.css("position")&&(u.trigger("reposition"),e.Utility.LogConsole("NRT.Share.EmailSent: sending another form > repositioned modal"))}}),n.preventDefault()}),t("a.icon-export").data()}},r={_dom:{},_link:null,_shareFields:null,_formPresentationDataName:"icFormPresentation",_messageSentSelector:"div.message-sent",TAB_EMAIL:"tab:email",TAB_SHARE:"tab:share",TAB_COPYURL:"tab:copyurl",nav:function(e){switch(e){case r.TAB_EMAIL:r._dom.nav.email.addClass("active"),r._dom.tab.email.show();break;case r.TAB_SHARE:r._dom.nav.share.addClass("active"),r._dom.tab.share.show();break;case r.TAB_COPYURL:r._dom.nav.copyUrl.addClass("active"),r._dom.tab.copyUrl.show();break;default:throw'Invalid tab value "'+e+'"'}if(r._dom.active!==e){switch(r._dom.active){case r.TAB_EMAIL:r._dom.nav.email.removeClass("active"),r._dom.tab.email.hide();break;case r.TAB_SHARE:r._dom.nav.share.removeClass("active"),r._dom.tab.share.hide();break;case r.TAB_COPYURL:r._dom.nav.copyUrl.removeClass("active"),r._dom.tab.copyUrl.hide()}r._dom.active=e}},readyAddThis:function(){var e=t.Deferred();return t.getScript("https://s7.addthis.com/js/300/addthis_widget.js#async=1").done(function(t,i){addthis.init(),addthis.toolbox(".addthis_toolbox"),e.resolve()}),e.promise()},pinIt:function(n){var o,r,a={height:320,width:665,top:Math.max(0,screen.availHeight/2-160),left:Math.max(0,screen.availWidth/2-333)},s="channelmode=0,directories=0,fullscreen=0,location=0,menubar=0,resizable=0,scrollbars=1,status=0,titlebar=0,toolbar=0,top="+a.top+"px,left="+a.left+"px,height="+a.height+"px,width="+a.width+"px,resizable=1",l=i.location.protocol+"//pinterest.com/pin/create/button/?url="+n.url+"&media="+n.media+"&title="+n.title+"&description="+n.description,c=NRT.Utility.BaseOrigin(),u=e.Event.eTrackingOrigin;c.PD?r=u.PD_SHARE:c.PSR?r=u.PS_SHARE:c.HBSP?r=u.HB_SP_SHARE:c.HBRV?r=u.HB_RV_SHARE:c.HBHD&&(r=u.HB_HD_SHARE),t(document).trigger(e.Event.eAction.PROPERTY_SHARED,["Pinterest","pin",n.pid,r]),i.addthis_conf={xcs:1,xtr:1},n.imp_url=0,o=i.open(l,"pinit",s,!0);try{o.resizeTo(a.width,a.height),o.moveTo(a.left,a.top),o.focus()}catch(e){}void 0!==i._ate&&_ate.share.track("pinterest",0,n,a.addthis_config_internal)}},t(i).load(function(){r._dom={active:r.TAB_EMAIL,dialog:t("#share-dropdown"),nav:{email:t("#share-email-nav"),share:t("#share-share-nav"),copyUrl:t("#share-copyurl-nav")},tab:{email:t("#share-email"),share:t("#share-share"),copyUrl:t("#share-copyurl")}},r._dom.tab.share.hide(),r._dom.tab.copyUrl.hide(),r._dom.nav.email.on("click",function(e){e.preventDefault(),r.nav(r.TAB_EMAIL)}),r._dom.nav.share.on("click",function(e){e.preventDefault(),r.nav(r.TAB_SHARE)}),r._dom.nav.share.on("click.init",function(e){r.readyAddThis()}),r._dom.nav.copyUrl.on("click",function(e){e.preventDefault(),r.nav(r.TAB_COPYURL)}),r._dom.tab.copyUrl.find('input[type="text"]').on("focus click",function(e){t(this).select(),e.preventDefault()})}),e.SocialShare=o}(window.NRT,jQuery,window);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){var i={},n={};i={getSavedSearchAlertPreferences:function(t){for(var i=new n.SubscriberSearchAlertPreferences,o=t.serializeArray(),r=0,a=0,s=o.length;a<s;a++){e.Utility.LogConsole(o[a].name+": "+o[a].value);var l,c=o[a].name.split("_"),u=c[c.length-1],d=o[a].value;switch(c[0]){case"SearchID":r=parseInt(d);case"SearchName":i[u]=d;break;case"AlertPreference":parseInt(c[1])===n.eAlertCategory.Search&&(l=new n.SearchAlertPreference(r,parseInt(u),parseInt(d)),i.SearchAlertPreferences.push(l))}}return i},getSubscriberAlertPreferences:function(t){var i,o=new n.SubscriberAlertPreferences,r=t.serializeArray();for(i in r)if(r[i].name){e.Utility.LogConsole(r[i].name+": "+r[i].value);var a=r[i].name.split("_"),s=a[a.length-1],l=r[i].value;switch(a[0]){case"AdditionalRecipients":o.BasicInfo[s]=l;break;case"IsEmailPreferredAgentTeam":case"IsMarketingOptOut":void 0!==o.BasicInfo[s]&&"true"===o.BasicInfo[s]||(o.BasicInfo[s]=l);break;case"AlertPreference":if(parseInt(a[1])===n.eAlertCategory.Search){var c,u=parseInt(a[2]);c=new n.SearchAlertPreference(u,parseInt(s),parseInt(l)),o.SearchesAlertPreferences.push(c)}else if(parseInt(a[1])===n.eAlertCategory.Listing){var d;parseInt(a[2]);d=new n.ListingAlertPreference(parseInt(s),parseInt(l)),o.ListingsAlertPreferences.push(d)}}}return o}},n={eAlertCategory:{Listing:1,Search:2},BasicInfo:function(e,t,i,n){this.SubscriberID=e||0,this.AdditionalRecipients=t||"",this.IsIncludeAdditionalRecipients=this.AdditionalRecipients.length>0,this.IsEmailPreferredAgentTeam=i||!1,this.IsMarketingOptOut=n||!1},SearchAlertPreference:function(e,t,i){this.SearchID=e,this.AlertTypeID=t,this.AlertFrequencyID=i},ListingAlertPreference:function(e,t){this.AlertTypeID=e,this.AlertFrequencyID=t},SubscriberSearchAlertPreferences:function(e,t,i){this.SearchID=e||0,this.SearchName=t&&t.length>0?t:"",this.SearchAlertPreferences="object"===(void 0===i?"undefined":_typeof(i))&&i.length>0?i:[]},SubscriberAlertPreferences:function(e,t,i){this.BasicInfo="object"!==(void 0===e?"undefined":_typeof(e))||jQuery.isEmptyObject(e)?{}:e,this.ListingsAlertPreferences="object"===(void 0===t?"undefined":_typeof(t))&&t.length>0?t:[],this.SearchesAlertPreferences="object"===(void 0===i?"undefined":_typeof(i))&&i.length>0?i:[]}},e.AlertPreferences=i}(window.NRT,jQuery),function(e,t,i){var n={},o={};n={LogSitePerf:function(e,t,i,n,r,a){var s={PageName:e,EventName:t,Url:i,RequestStartDateTime:o.formatDateTimePerf(n),StartDateTime:o.formatDateTimePerf(r),EndDateTime:o.formatDateTimePerf(a)};o.logs.push(s),!1!==o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(function(){o.sendLogs(o.logs),o.logs=[]},1500)}},o={logs:[],timeout:!1,sendLogs:function(i){void 0!==JSON&&t.ajax({type:"post",data:JSON.stringify(i),dataType:"json",contentType:"application/json; charset=utf-8",url:e.Utility.AssembleUrl(["clientperformancelogging","saveeventbatch"])})},formatDateTimePerf:function(e){return e?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"."+e.getMilliseconds():null}},e.SitePerf=n}(window.NRT,jQuery),
/*!
* FitVids 1.0
*
* @Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* @License: Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
function(e){e.fn.fitVids=function(t){var i={customSelector:null},n=document.createElement("div"),o=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return n.className="fit-vids-style",n.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",o.parentNode.insertBefore(n,o),t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];i.customSelector&&t.push(i.customSelector);e(this).find(t.join(",")).each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var i=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var n="fitvid"+Math.floor(999999*Math.random());t.attr("id",n)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%"),t.removeAttr("height").removeAttr("width")}})})}}(jQuery);